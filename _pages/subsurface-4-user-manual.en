---
ID: 880
post_title: Subsurface Version 4 User Manual
author: hohndel
post_date: 2013-12-15 13:17:57
post_excerpt: ""
layout: page
permalink: >
  https://subsurface-divelog.org/documentation/subsurface-4-user-manual/
published: true
category: 'null'
post_language: en
---
<style type="text/css">*{padding:0;margin:0}img{border:0}body{margin:10px 20px}#header br{display:none}#revnumber{display:block}#toc{margin:1em 0}.toclevel2{margin-left:1em}.toclevel3{margin-left:2em}#footer{margin-top:2em}#preamble .sectionbody,h2,h3,h4,h5{margin:1em 0 0 0}.admonitionblock,.exampleblock,.listingblock,.literalblock,.sidebarblock,.tableblock{margin:1em 0}.admonitionblock td.icon{padding-right:.5em}.admonitionblock td.content{padding-left:.5em}.listingblock .content{padding:.5em}.sidebarblock>.content{padding:.5em}.exampleblock>.content{padding:0 .5em}.tableblock caption{padding:0 0 .5em 0}.tableblock tbody td,.tableblock tfoot td,.tableblock thead th{padding:0 .5em}.quoteblock{padding:0 2em}.paragraph{margin:1em 0 0 0}.admonitionblock .paragraph:first-child,.exampleblock .paragraph:first-child,.sidebarblock .paragraph:first-child{margin:0}.dlist,.hdlist,.olist,.qlist,.ulist{margin:1em 0}dd .dlist,dd .hdlist,dd .olist,dd .qlist,dd .ulist,li .dlist,li .hdlist,li .olist,li .qlist,li .ulist{margin:0}ul{margin-left:1.5em}ol{margin-left:2em}dd{margin-left:3em}td.hdlist1{padding-right:1em}body{font-family:Verdana,sans-serif}#header{font-family:Arial,sans-serif}#header h1{font-family:Arial,sans-serif}#footer{font-family:Georgia,serif}#email{font-size:.85em}#revnumber{font-size:.75em}#toc{font-size:.9em}#toctitle{font-weight:700}#footer{font-size:.8em}.title,h2,h3,h4,h5{font-family:Arial,sans-serif}h2{font-size:1.5em}.sectionbody{font-size:.85em}.sectionbody .sectionbody{font-size:inherit}h3{font-size:159%}h4{font-size:141%}h5{font-size:118%}.title{font-size:106%;font-weight:700}.monospaced,tt{font-family:monospace;font-size:106%}.qlist em,dt,td.hdlist1{font-family:Times New Roman,serif;font-size:118%;font-style:italic}.tableblock tfoot td{font-weight:700}h1{color:#527bbd;border-bottom:2px solid silver}#footer{border-top:2px solid silver}h2{color:#527bbd;border-bottom:2px solid silver}h3{color:#5D7EAE;border-bottom:2px solid silver}h3{display:inline-block}h4,h5{color:#5D7EAE}.admonitionblock td.content{border-left:2px solid silver}.listingblock .content{background:#f4f4f4;border:1px solid silver;border-left:5px solid #e0e0e0}.sidebarblock>.content{background:#ffe;border:1px solid silver;border-left:5px solid #e0e0e0}.exampleblock>.content{border-left:2px solid silver}.quoteblock{border-left:5px solid #e0e0e0}.tableblock table{border-collapse:collapse;border-width:3px;border-color:#527bbd}.tableblock table[frame=hsides]{border-style:solid none}.tableblock table[frame=border]{border-style:solid}.tableblock table[frame=void]{border-style:none}.tableblock table[frame=vsides]{border-style:none solid}.tableblock table[rules=all] tbody tr *,.tableblock table[rules=rows] tbody tr *{border-top:1px solid #527bbd}.tableblock table[rules=all] tr *,.tableblock table[rules=cols] tr *{border-left:1px solid #527bbd}.tableblock table tbody tr:first-child *{border-top:1px solid #fff}.tableblock table tr :first-child{border-left:none}.tableblock table[frame] thead tr *{border-top:1px solid #fff;border-bottom:2px solid #527bbd}.tableblock table tr td p.table,.tableblock table tr td p.table *{border:0}.monospaced,tt{color:navy}li{color:#a0a0a0}li>*{color:#000}span.aqua{color:#0ff}span.black{color:#000}span.blue{color:#00f}span.fuchsia{color:#f0f}span.gray{color:gray}span.green{color:green}span.lime{color:#0f0}span.maroon{color:maroon}span.navy{color:navy}span.olive{color:olive}span.purple{color:purple}span.red{color:red}span.silver{color:silver}span.teal{color:teal}span.white{color:#fff}span.yellow{color:#ff0}span.aqua-background{background:#0ff}span.black-background{background:#000}span.blue-background{background:#00f}span.fuchsia-background{background:#f0f}span.gray-background{background:gray}span.green-background{background:green}span.lime-background{background:#0f0}span.maroon-background{background:maroon}span.navy-background{background:navy}span.olive-background{background:olive}span.purple-background{background:purple}span.red-background{background:red}span.silver-background{background:silver}span.teal-background{background:teal}span.white-background{background:#fff}span.yellow-background{background:#ff0}span.big{font-size:2em}span.small{font-size:.6em}span.underline{text-decoration:underline}span.overline{text-decoration:overline}span.line-through{text-decoration:line-through}.admonitionblock td.icon{vertical-align:top}.attribution{text-align:right}ul{list-style-type:disc}ol.arabic{list-style-type:decimal}ol.loweralpha{list-style-type:lower-alpha}ol.upperalpha{list-style-type:upper-alpha}ol.lowerroman{list-style-type:lower-roman}ol.upperroman{list-style-type:upper-roman}.hdlist td{vertical-align:top}</style><script type="text/javascript">var asciidoc={toc:function(e){function t(e){for(var o="",n=e.firstChild;null!=n;n=n.nextSibling)3==n.nodeType?o+=n.data:null!=n.firstChild&&(o+=t(n));return o}function o(e,t,o){this.element=e,this.text=t,this.toclevel=o}function n(e,n){var a=new Array,i=new RegExp("[hH]([1-"+(n+1)+"])"),l=function(e){for(var n=e.firstChild;null!=n;n=n.nextSibling)if(1==n.nodeType){var r=i.exec(n.tagName);r&&"float"!=(n.getAttribute("class")||n.getAttribute("className"))&&(a[a.length]=new o(n,t(n),r[1]-1)),l(n)}};return l(e),a}var a=document.getElementById("toc");if(a){var i,l=[];for(i=0;i<a.childNodes.length;i++){var r=a.childNodes[i];"div"==r.nodeName.toLowerCase()&&r.getAttribute("class")&&r.getAttribute("class").match(/^toclevel/)&&l.push(r)}for(i=0;i<l.length;i++)a.removeChild(l[i]);for(var d=n(document.getElementById("content"),e),i=0;i<d.length;++i){var r=d[i];""==r.element.id&&(r.element.id="_toc_"+i);var c=document.createElement("a");c.href="#"+r.element.id,c.appendChild(document.createTextNode(r.text));var s=document.createElement("div");s.appendChild(c),s.className="toclevel"+r.toclevel,a.appendChild(s)}0==d.length&&a.parentNode.removeChild(a)}},footnotes:function(){var e,t=document.getElementById("footnotes");if(t){var o=[];for(e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];"div"==n.nodeName.toLowerCase()&&"footnote"==n.getAttribute("class")&&o.push(n)}for(e=0;e<o.length;e++)t.removeChild(o[e]);var a=document.getElementById("content"),i=a.getElementsByTagName("span"),l={},r=0;for(e=0;e<i.length;e++)if("footnote"==i[e].className){r++;var d=i[e].getAttribute("data-note");d||(d=i[e].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1],i[e].innerHTML="[<a id='_footnoteref_"+r+"' href='#_footnote_"+r+"' title='View footnote' class='footnote'>"+r+"</a>]",i[e].setAttribute("data-note",d)),t.innerHTML+="<div class='footnote' id='_footnote_"+r+"'><a href='#_footnoteref_"+r+"' title='Return to text'>"+r+"</a>. "+d+"</div>";var c=i[e].getAttribute("id");null!=c&&(l["#"+c]=r)}if(0==r)t.parentNode.removeChild(t);else for(e=0;e<i.length;e++)if("footnoteref"==i[e].className){var s=i[e].getElementsByTagName("a")[0].getAttribute("href");s=s.match(/#.*/)[0],r=l[s],i[e].innerHTML="[<a href='#_footnote_"+r+"' title='View footnote' class='footnote'>"+r+"</a>]"}}},install:function(e){function t(){asciidoc.footnotes(),e&&asciidoc.toc(e)}function o(){clearInterval(n),t()}var n;n=setInterval(t,500),document.addEventListener?document.addEventListener("DOMContentLoaded",o,!1):window.onload=o}};asciidoc.install(3);</script><div id="header"></div><div id="content"><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Subsurface4Banner.jpg" alt="Banner"/></div></div><div class="paragraph"><p><span class="big">USER MANUAL</span></p></div><div class="paragraph"><p><strong>Manual authors</strong>: Willem Ferguson, Jacco van Koll, Dirk Hohndel, Reinout Hoornweg, Linus Torvalds, Miika Turkia, Amit Chaudhuri, Jan Schubert, Salvador Cuñat, Pedro Neves, Stefan Fuchs</p></div><div class="paragraph"><p><span class="blue"><em>Version 4.8, September 2018</em></span></p></div><div class="paragraph"><p>Welcome as a user of <em>Subsurface</em>, an advanced dive logging program with extensive infrastructure to describe, organize, interpret and print scuba and free dives. <em>Subsurface</em> offers many advantages over other similar software solutions:</p></div><div class="ulist"><ul><li><p>Do you need a flexible way of logging dives using recreational equipment, even without a dive computer?</p></li><li><p>Do you wish to seamlessly include GPS locations of dive sites into your dive log?</p></li><li><p>Do you use two different dive computer brands, each with its own proprietary software for downloading dive logs? Do you dive with rebreathers as well as open circuit or recreational equipment? Do you use a Reefnet Sensus time-depth recorder along with a dive computer? <em>Subsurface</em> offers a standard interface for downloading dive logs from all of these different pieces of equipment, storing and analyzing the dive logs within a unified system.</p></li><li><p>Do you use more than one operating system? <em>Subsurface</em> is fully compatible with Mac, Linux and Windows, letting you access your dive log on a range of operating systems using a single application.</p></li><li><p>Do you use Linux or Mac, but your dive computer has only Windows-based software for downloading dive information (e.g. Mares or Scubapro)? <em>Subsurface</em> provides a way of downloading and analyzing your dive logs on other operating systems.</p></li><li><p>Do you need an intuitive graphical dive planner that integrates with, and takes into account, dives you’ve already logged?</p></li><li><p>Do you need a way of storing or backing up your dive log on the Internet, letting you view your dive log from anywhere using an Internet browser?</p></li><li><p>Do you wish to access or modify your dive log using a mobile phone?</p></li></ul></div><div class="paragraph"><p><em>Subsurface</em> binaries are available for Windows PCs (Win 7 or later from version 4.6 of <em>Subsurface</em> onwards), Intel based Macs (OS/X) and many Linux distributions. <em>Subsurface</em> can be built for many more hardware platforms and software environments where Qt and libdivecomputer are available.</p></div><div class="paragraph"><p>This manual explains how to use the <em>Subsurface</em> program. To install the software, consult the <em>Downloads</em> page on the <a href="https://subsurface-divelog.org/"><em>Subsurface</em> web site</a>. Please discuss issues with this program by sending an email to <a href="mailto:subsurface@subsurface-divelog.org">our mailing list</a> and report bugs at <a href="https://github.com/Subsurface-divelog/subsurface/issues">our bugtracker</a>. For instructions on how to build the software and (if needed) its dependencies please consult the INSTALL file included with the source code.</p></div><div class="paragraph"><p><strong>Audience</strong>: Recreational Scuba Divers, Free Divers, Tec Divers, Professional Divers</p></div><div id="toc"><div id="toctitle">Table of Contents</div><noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript></div><div class="sect1"><h2 id="_using_this_manual">1. Using this manual</h2><div class="sectionbody"><div class="paragraph"><p>When opened from within <em>Subsurface</em>, this manual does not have external controls for paging or selecting previous pages. However, two facilities are provided:</p></div><div class="ulist"><ul><li><p>The <em>SEARCH</em> function is activated by pressing control-F or command-F on the keyboard. A text box appears at the bottom right-hand of the window (see image below). For instance, typing the word "<em>weights</em>" into the search text box, searches throughout the user manual. To the right of the search text box are two arrows pointing up and down. These find the previous and the next occurrence of the search term.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/UserManualSearch.jpg" alt="User manual functions"/></div></div><div class="ulist"><ul><li><p><em>PREVIOUS/NEXT LINK</em>. Move between links (underlined words that jump to specific sections in the user manual) by right-clicking on the text of the manual. This brings up a context menu to PREVIOUS links selected. (see image below). For instance if a link has been selected, then the option to <em>Go Back</em> shows the text at the previous link selected (similar to the Previous Page button in a browser). Conversely the <em>Go Forward</em> option jumps to the text seen before selecting the <em>Go Back</em> option. The <em>Reload</em> option reloads the complete user manual into the window.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/UserManualLinksBack.jpg" alt="User manual functions"/></div></div></div></div><div class="sect1"><h2 id="S_UserSurvey">2. The user survey</h2><div class="sectionbody"><div class="paragraph"><p>In order to develop <em>Subsurface</em> to serve its users in the best possible way, it’s important to have user information. Upon launching <em>Subsurface</em> and using the software for a week or so, a one-box user survey pops up. It is entirely optional and the user controls what, if any, data are sent to the <em>Subsurface</em> development team. All data the user sends is useful, and will only be used to steer future development and to customize the software to fit the needs of the <em>Subsurface</em> users. If you complete the survey, or click the option not to be asked again, that should be the last communication of this type you receive. However, if your diving and/or subsurface habits change and you wish to fill in another survey, just launch <em>Subsurface</em> with the <em>--survey</em> option on the command line.</p></div></div></div><div class="sect1"><h2 id="S_StartUsing">3. Start Using the Program</h2><div class="sectionbody"><div class="paragraph"><p>The <em>Subsurface</em> window is usually divided into four panels with a <strong>Main Menu</strong> (File Edit Import Log View Share Help) at the top of the window (for Windows and Linux) or the top of the screen (for Mac and Ubuntu Unity). The four panels are:</p></div><div class="olist arabic"><ol class="arabic"><li><p>The <strong>Dive List</strong> on the bottom left, showing all the dives in the user&#8217;s dive log. A dive can be selected and highlighted on the dive list by clicking on it. In most situations the up/down keys can be used to switch between dives. The <strong>Dive List</strong> is an important tool for manipulating a dive log.</p></li><li><p>The <strong>Dive Map</strong> on the bottom right, showing the user&#8217;s dive sites on a world map and centered on the site of the last dive selected in the <strong>Dive List</strong>. The map scale can be increased or decreased.</p></li><li><p>The <strong>Info</strong> on the top left, giving more detailed information on the dive selected in the <strong>Dive List</strong>, including some statistics for the selected dive or for all highlighted dive(s).</p></li><li><p>The <strong>Dive Profile</strong> on the top right, showing a graphical dive profile of the selected dive in the <strong>Dive List</strong>. You can zoom into the dive profile for a more detailed view.</p></li></ol></div><div class="paragraph"><p>The dividers between panels can be dragged to change the size of any of the panels. <em>Subsurface</em> remembers the position of the dividers, so the next time <em>Subsurface</em> starts it uses the positions of the dividers from the last time the program was used.</p></div><div class="paragraph"><p>If a single dive is selected in the <strong>Dive List</strong>, the dive location, detailed information and profile of the <em>selected dive</em> are shown in the respective panels. If several dives are selected, the last highlighted dive is the <em>selected dive</em>, but summary data of all <em>highlighted dives</em> is shown in the <strong>Stats</strong> tab of the <strong>Info</strong> panel (maximum, minimum and average depths, durations, water temperatures and SAC; total time and number of dives selected).</p></div><div class="imageblock" id="S_ViewPanels" style="text-align:center"><div class="content"><img src="/images/main_window_f22.jpg" alt="The Main Window"/></div></div><div class="paragraph"><p>Decide which of the four panels are displayed by selecting the <strong>View</strong> option on the main menu. This feature has several choices of display:</p></div><div class="paragraph"><p><strong>All</strong>: show all four of the panels as in the screenshot above.</p></div><div class="paragraph"><p><strong>Divelist</strong>: Show only the Dive List.</p></div><div class="paragraph"><p><strong>Profile</strong>: Show only the Dive Profile of the selected dive.</p></div><div class="paragraph"><p><strong>Info</strong>: Show only the Notes about the last selected dive and statistics for all highlighted dives.</p></div><div class="paragraph"><p><strong>Globe</strong>: Show only the world map, centered on the last selected dive.</p></div><div class="paragraph"><p>Like other functions that can be accessed via the Main Menu, these options can also be triggered using keyboard shortcuts. The shortcuts are shown with an underline in the main menu entries, with the Alt-key pressed, or are denoted after the menu item.</p></div><div class="paragraph"><p>When the program is started for the first time, it shows no information at all, because it does not have any dive information available. In the following sections, the procedures to create a new logbook will be explained.</p></div></div></div><div class="sect1"><h2 id="S_NewLogbook">4. Creating a new logbook</h2><div class="sectionbody"><div class="paragraph"><p>Select <em>File &#8594; New Logbook</em> from the main menu. All existing dive data are cleared so new information can be added. If there are unsaved data in an open logbook, the user is asked whether the open logbook should be saved before a new logbook is created.</p></div></div></div><div class="sect1"><h2 id="S_GetInformation">5. Storing dive information in the logbook</h2><div class="sectionbody"><div class="paragraph"><p>Now that a new logbook is created, it is simple to add dive data it. <em>Subsurface</em> allows several ways of adding dive data to a logbook.</p></div><div class="paragraph"><p>1) If the user has a handwritten divelog, a spreadsheet or another form of manually maintained divelog, dive data can be added to the logbook using one of these approaches:</p></div><div class="ulist"><ul><li><p>Enter dive information by hand. This is useful if the diver didn’t use a dive computer and dives were recorded in a written logbook. See: <a href="#S_EnterData">Entering dive information by hand</a></p></li><li><p>Import dive log information that has been maintained either as a spreadsheet or as a CSV file. Refer to: <a href="#S_Appendix_D">APPENDIX D: Exporting a spreadsheet to CSV format</a> and to <a href="#S_ImportingCSVDives">Importing dives in CSV format</a>.</p></li></ul></div><div class="paragraph"><p>2) If a dive is recorded using a dive computer, the depth profile and a large amount of additional information can be accessed. These dives can be imported from:</p></div><div class="ulist"><ul><li><p>The dive computer itself. See: <a href="#S_ImportDiveComputer">Importing new dive information from a Dive Computer</a>;</p></li><li><p>Proprietary software distributed by manufacturers of dive computers. Refer to: <a href="#S_ImportingAlienDiveLogs">Importing dive information from other digital data sources or other data formats</a>.</p></li><li><p>Spreadsheet or CSV files containing dive profiles. See: <a href="#S_ImportingCSVDives">Importing dives in CSV format from dive computers or other dive log software</a></p></li></ul></div><div class="sect2"><h3 id="S_EnterData">5.1. Entering dive information by hand</h3><div class="paragraph"><p>This is usually the approach for dives without a dive computer. The basic record of information within <em>Subsurface</em> is a dive. The most important information in a simple dive logbook usually includes dive type, date, time, duration, depth, the names of your dive buddy and the divemaster or dive guide, and some remarks about the dive. <em>Subsurface</em> can store much more information for each dive. To add a dive to a dive log, select <em>Log &#8594; Add Dive</em> from the Main Menu. The program then shows three panels on which to enter information for a dive: two tabs in the <strong>Info</strong> panel (<strong>Notes</strong> and <strong>Equipment</strong>), as well as the <strong>Dive Profile</strong> panel that displays a graphical profile of each dive. These panels are respectively marked <span class="red">A</span>, <span class="red">B</span> and <span class="red">C</span> in the figure below. Each of these tabs will now be explained for data entry.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/AddDive1_f22.jpg" alt="FIGURE: Add dive"/></div></div><div class="paragraph"><p>When you edit a field in Notes or Equipment panels, <em>Subsurface</em> enters <strong>Editing Mode</strong>, indicated by the message in the blue box at the top of the <strong>Notes</strong> panel (see the image below). This message is displayed in all the panels under Notes and Equipment when in <strong>Editing Mode</strong>.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/BlueEditBar_f22.jpg" alt="Blue edit bar"/></div></div><div class="paragraph"><p>The <em>Apply changes</em> button should only be selected after all the parts of a dive have been entered. When entering dives by hand, the <em>Info</em>, <em>Equipment</em> and <em>Profile</em> tabs should be completed before applying the information. By selecting the <em>Apply changes</em> button, a local copy of the information for this specific dive is saved in memory but NOT written to disk. The <em>Apply changes</em> button should ONLY be selected after all parts of a dive have been entered. When closing Subsurface, the program will ask again, this time whether the complete dive log should be saved on disk or not.</p></div><div class="sect3"><h4 id="S_CreateProfile">5.1.1. Creating a Dive Profile</h4><div class="paragraph"><p>The <strong>Dive Profile</strong> (a graphical representation of the depth of the dive as a function of time) is shown in the panel on the top right hand of the <em>Subsurface</em> window. When a dive is manually added to a logbook, <em>Subsurface</em> presents a default dive profile that needs to be modified to best represent the dive described:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DiveProfile1_f20.jpg" alt="FIGURE: Initial dive profile"/></div></div><div class="paragraph"><p><em>Modifying the dive profile</em>: When the cursor is moved around the dive profile, its position is shown by two right-angled red lines as seen below. The time and depth represented by the cursor are indicated at the top of the black information box (@ and D). The units (metric/imperial) on the axes are determined by the <strong>Preference</strong> settings. The dive profile itself comprises several line segments demarcated by waypoints (white dots on the profile, as shown above). The default dive depth is 15 m. If the dive depth was 20 m then you need to drag the appropriate waypoints downward to 20 m. To add a waypoint, double-click on any line segment. To move an additional waypoint, drag it. Moving can also be done by selecting the waypoint and using the arrow keys. To remove a waypoint, right-click on it and choose "Remove this point" from the context menu. Drag the waypoints to represent an accurate time duration for the dive. Below is a dive profile for a dive to 20 m for 30 min, followed by a 5 minute safety stop at 5 m.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DiveProfile2_f20.jpg" alt="FIGURE: Edited dive profile"/></div></div><div class="paragraph"><p><em>Specifying the gas composition:</em> The gas composition used is indicated along the line segments of the dive profile. This defaults to the first gas mixture specified in the <strong>Equipment</strong> tab, which was air in the case of the profile above. The gas mixtures of segments of the dive profile can be changed by right-clicking on the particular waypoint and selecting the appropriate gas from the context menu. Changing the gas for a waypoint affects the gas shown in the segment <em>to the right</em> of that waypoint. Note that only the gases defined in the <strong>Equipment</strong> tab appear in the context menu (see image below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DiveProfile3_f20.jpg" alt="FIGURE: Gas composition context menu"/></div></div><div class="paragraph"><p>With the profile now defined, more details must be added to have a fuller record of the dive. To do this, the <strong>Notes</strong> and the <strong>Equipment</strong> tabs on the top left hand of the <em>Subsurface</em> window should be used. Click on <a href="#S_Notes_dc"><strong>this link</strong></a> for instructions on how to use these tabs.</p></div></div></div><div class="sect2"><h3 id="S_ImportDiveComputer">5.2. Importing new dive information from a Dive Computer</h3><div class="sect3"><h4 id="_connecting_and_importing_data_from_a_dive_computer">5.2.1. Connecting and importing data from a dive computer.</h4><div class="paragraph"><p>The use of dive computers allows the collection of a large amount of information about each dive, e.g. a detailed record of depth, duration, rates of ascent/descent and of gas partial pressures. <em>Subsurface</em> can capture this information, using dive details from a wide range of dive computers. The latest list of supported dive computers can be found at: <a href="https://subsurface-divelog.org/documentation/supported-dive-computers/">Supported dive computers</a>.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/warning2.png" alt="Warning"/></td><td class="content">Several dive computers consume more power when they are in PC-Communication mode. <strong>This could drain the dive computer&#8217;s battery</strong>. We recommend the user checks to be sure the dive computer is charged when connected to the USB port of a PC. For example, several Suunto and Mares dive computers do not recharge through the USB connection. Users should refer to the dive computer&#8217;s manual if they are unsure whether the dive computer recharges its batteries while connected to the USB port.</td></tr></table></div><div class="paragraph"><p>To import dive information from a dive computer to a computer with <em>Subsurface</em>, the two pieces of equipment must communicate with one another. This involves setting up the communications port (or mount point) of the computer with <em>Subsurface</em> that communicates with the dive computer. To set up this communication, users need to find the appropriate information to instruct <em>Subsurface</em> where and how to import the dive information. <a href="#_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer">Appendix A</a> provides the technical information to help the user achieve this for different operating systems and <a href="#_appendix_b_dive_computer_specific_information_for_importing_dive_information">Appendix B</a> has dive computer specific information.</p></div><div class="paragraph"><p>After this, the dive computer can be hooked up to the user&#8217;s PC using these steps:</p></div><div class="olist arabic"><ol class="arabic"><li><p>The interface cable should be connected to a free USB port (or the Infra-red or Bluetooth connection set up as described later in this manual)</p></li><li><p>The dive computer should be placed into PC Communication mode. (Refer to the manual of the specific dive computer)</p></li><li><p>In <em>Subsurface</em>, from the Main Menu, select <em>Import &#8594; Import From Dive Computer</em>. Dialogue <strong>A</strong> in the figure below appears:</p></li></ol></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DC_import_f20.jpg" alt="FIGURE: Download dialogue 1"/></div></div><div class="paragraph"><p>Dive computers tend to keep a certain number of dives in memory, even though these dives have already been imported to <em>Subsurface</em>. For that reason, if the dive computer allows this, <em>Subsurface</em> only imports dives that have not been downloaded before. This makes the download process faster on most dive computers and also saves battery power of the dive computer (at least for those not charging while connected via USB).</p></div><div class="ulist"><ul><li><p>The dialogue has two drop-down lists, <strong>Vendor</strong> and <strong>Dive Computer</strong>. On the <strong>vendor</strong> drop-down list select the make of the computer, e.g. Suunto, Oceanic, Uwatec, Mares. On the <strong>Dive Computer</strong> drop-down list, the model name of the dive computer must be selected, e.g. D4 (Suunto), Veo200 (Oceanic), or Puck (Mares).</p></li><li><p>The <strong>Device or Mount Point</strong> drop-down list contains the USB or Bluetooth port name that <em>Subsurface</em> needs in order to communicate with the dive computer. The appropriate port name must be selected. Consult <a href="#_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer">Appendix A</a> and <a href="#_appendix_b_dive_computer_specific_information_for_importing_dive_information">Appendix B</a> for technical details on how to find the appropriate port information for a specific dive computer and, in some cases, how to do the correct settings to the operating system of the computer on which <em>Subsurface</em> is running.</p></li><li><p>If all the dives on the dive computer need to be downloaded, check the checkbox <em>Force download of all dives</em>. Normally, <em>Subsurface</em> only downloads dives after the date-time of the last dive in the <strong>Dive List</strong> panel. If one or more of your dives in <em>Subsurface</em> has been accidentally deleted or if there are older dives that still need to be downloaded from the dive computer, this box needs to be checked. Some dive computers (e.g. Mares Puck) do not provide a contents list to <em>Subsurface</em> before the download in order to select only new dives. Consequently, for these dive computers, all dives are downloaded irrespective of the status of this check box.</p></li><li><p>If the checkbox <em>Always prefer downloaded dives</em> has been checked and, during download, dives with identical date-times exist on the dive computer and on the <em>Subsurface</em> <strong>Dive List</strong> panel, the dive in the <em>Subsurface</em> divelog will be overwritten by the dive record from the computer.</p></li><li><p>The checkbox marked <em>Download into new trip</em> ensures that, after upload, the downloaded dives are grouped together as a new trip(s) in the <strong>Dive List</strong>.</p></li><li><p>Do <strong>not</strong> check the checkboxes labelled <em>Save libdivecomputer logfile</em> and <em>Save libdivecomputer dumpfile</em>. These are only used as diagnostic tools when there are problems with downloads(see below).</p></li><li><p>Then select the <em>Download</em> button. With communication established, you can see how the data are retrieved from the dive computer. Depending on the make of the dive computer and/or number of recorded dives, this could take some time. Be patient. The <em>Download</em> dialogue shows a progress bar at the bottom of the dialogue. Remember for some dive computers progress information could be inaccurate since <em>Subsurface</em> doesn’t know how much downloadable data there are until the download is complete. After the dives have been downloaded, they appear in a tabular format on the right-hand side of the dialogue (see image <strong>B</strong>, above). Each dive comprises a row in the table, showing the date, duration and depth. Next to each dive is a checkbox: check all the dives that need to be transferred to the <strong>Dive List</strong>. In the case of the image above, the last six dives are checked and will be transferred to the <strong>Dive List</strong>. Then click the <em>OK</em> button at the bottom of the dialogue. All the imported dives appear in the <strong>Dive List</strong>, sorted by date and time. Disconnect and switch off the dive computer to conserve its battery power.</p></li><li><p>If there is a problem in communicating with the dive computer, an error message is shown, similar to this text: "Unable to open /dev/ttyUSB0 Mares (Puck Pro)". Refer to the text in the box below.</p></li></ul></div><div class="sidebarblock"><div class="content"><div class="paragraph"><p><strong>PROBLEMS WITH DATA DOWNLOAD FROM A DIVE COMPUTER?</strong></p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/important.png" alt="Important"/></td><td class="content">Check the following:</td></tr></table></div><div class="ulist"><ul><li><p>Is the dive computer still in PC-communication or Upload mode?</p></li><li><p>Is the dive computer’s battery fully charged? If not then charge or replace it.</p></li><li><p>Is the connecting cable faulty? Does the cable work using other software? Has it worked before, or is this the first time the cable is being used? Are the contacts on the dive computer and the cable clean?</p></li><li><p>Consult <a href="#_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer">Appendix A</a> to be sure the correct Mount Point was specified (see above).</p></li><li><p>On Unix-like operating systems, does the user have write permission to the USB port? If not, consult <a href="#_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer">Appendix A</a></p></li></ul></div><div class="paragraph"><p>If the <em>Subsurface</em> computer does not recognize the USB adapter by showing an appropriate device name next to the Mount Point, then there is a possibility the cable or USB adaptor is faulty. A faulty cable is the most common cause of communication failure between a dive computer and <em>Subsurface</em>. It’s also possible <em>Subsurface</em> cannot interpret the data. Perform a download for diagnostic purposes with the following two boxes checked in the download dialogue discussed above:</p></div><div class="literalblock"><div class="content"><pre><code>Save libdivecomputer logfile
Save libdivecomputer dumpfile</code></pre></div></div><div class="paragraph"><p><strong>Important</strong>: These check boxes are only used when problems are encountered during the download process. Under normal circumstances they should not be checked. When checking these boxes, the user is prompted to select a folder where the information will be saved. The default folder is the one in which the <em>Subsurface</em> dive log is kept.</p></div><div class="paragraph"><p><strong>Important:</strong> <em>After downloading with the above checkboxes checked, no dives are added to the <strong>Dive List</strong> but two files are created in the folder selected above</em>:</p></div><div class="literalblock"><div class="content"><pre><code>subsurface.log
subsurface.bin</code></pre></div></div><div class="paragraph"><p>These files should be send to the <em>Subsurface</em> mail list: <em>subsurface@subsurface-divelog.org</em> with a request for the files to be analyzed. Provide the dive computer make and model as well as contextual information about the dives recorded on the dive computer.</p></div></div></div></div><div class="sect3"><h4 id="S_Bluetooth">5.2.2. Connecting <em>Subsurface</em> to a Bluetooth-enabled dive computer</h4><div class="paragraph"><p>Bluetooth is becoming a more common way of communication between dive computers and <em>Subsurface</em>. <em>Subsurface</em> provides a largely operating system independent Bluetooth interface. An increasing number of dive computers use Bluetooth Low Energy (BTLE) as a means of communication. However, BTLE is not a standardised protocol, consequently adaptations need to be made for communicating with each different dive computer model. See the <a href="https://subsurface-divelog.org/documentation/supported-dive-computers/">list of supported dive computers</a>. Bluetooth communication is often more reliable if all Bluetooth devices seen by the <em>Subsurface</em> computer are removed and pairing with the Bluetooth dive computer is performed from afresh. The Bluetooth and BTLE interfaces are under active development with respect to new dive computers that use this mechanism of communication.</p></div><div class="paragraph"><p>Setting up <em>Subsurface</em> for Bluetooth communication requires four steps:</p></div><div class="ulist"><ul><li><p>Ensure Bluetooth is activated on the host computer running <em>Subsurface</em>.</p></li><li><p>Ensure <em>Subsurface</em> sees the Bluetooth adapter on the host computer.</p></li><li><p>Ensure the Bluetooth-enabled dive computer is Bluetooth-discoverable and in PC upload mode.</p></li><li><p>Ensure <em>Subsurface</em> is paired with the Bluetooth-enabled dive computer.</p></li></ul></div><div class="paragraph"><p>Select the Download dialogue by selecting <em>Import &#8594; Import from dive computer</em> from the <strong>Main Menu</strong>. After checking the box labeled <em>"Choose Bluetooth download mode"</em>, the dialogue below appears.</p></div><div class="sect4"><h5 id="_on_linux_or_macos">On Linux or MacOS:</h5><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DC_import_Bluetooth.jpg" alt="FIGURE: Download Bluetooth"/></div></div><div class="paragraph"><p>Although the <em>Subsurface</em> Bluetooth interface is intended to function without Bluetooth pairing at the operating system level, it is always prudent to follow up initial Bluetooth pairing problems by pairing the Bluetooth dive computer with the <em>Subsurface</em> computer using the operating system services of the desktop computer. Delete all existing pairings and start by scanning for Bluetooth devices from an empty list (on the desktop) of Bluetooth devices. Once <em>Subsurface</em> has recognised the Bluetooth dive computer, subsequent divelog downloads are likely to be simple.</p></div><div class="paragraph"><p>On the <em>Linux</em> or <em>MacOS</em> platforms the name of the <em>Subsurface</em> computer and its Bluetooth address are shown on the right hand side. The power state (on/off) of the Bluetooth adapter is shown below the address and can be changed by checking the <em>Turn on/off</em> box. If the Bluetooth address is not shown, then <em>Subsurface</em> does not see the local Bluetooth device. Ensure the Bluetooth driver is installed correctly on the <em>Subsurface</em> computer and check if it can be used by other Bluetooth utilities like <em>bluetoothctl</em> or <em>bluemoon</em>. This completes the first two steps above. Ensure the Bluetooth-enabled dive computer is in PC-upload mode and it is discoverable by other Bluetooth devices. Consult the manual of the dive computer for more information. Now the third item in the list above has been finished. Select the <em>Scan</em> button towards the bottom left of the dialogue above. After searching, the dive computer should be listed (perhaps as one of a number of Bluetooth devices) in the main list box on the lefthand side of the dialogue (see image above). If this does not work, select the <em>Clear</em> button, then scan again for Bluetooth devices using the <em>Scan</em> button. After taking these actions <em>Subsurface</em> should see the dive computer. On the left hand side, if the computer has more than one local Bluetooth devices connected, use the list box to indicate which one needs to connect to <em>Subsurface</em>. The label of the discovered dive computer contains the name of the device, its address and its pairing status. For BTLE devices the address often starts with "LE". If the device is not paired and has a red background color, a context menu can be opened by selecting the item with a right-click. Select the <em>Pair</em> option and wait for the task to complete. If this dive computer is being paired to Subsurface for the first time, it’s possible Subsurface will request a Pass Code or PIN number. The most commonly-used Pass Code is 0000, and this works for the Shearwater Petrel. If necessary, consult the user manual of the dive computer being used.</p></div><div class="sidebarblock"><div class="content"><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/important.png" alt="Important"/></td><td class="content">Currently <em>Subsurface</em> does not support Bluetooth pairing with dive computers that require a custom PIN code. In order to pair the devices, use other OS utilities as suggested below.</td></tr></table></div><div class="paragraph"><p>One way to achieve this is to use <code>bluetoothctl</code>:</p></div><div class="literalblock"><div class="content"><pre><code>$ bluetoothctl
[bluetooth]# agent KeyboardOnly
Agent registered
[bluetooth]# default-agent
Default agent request successful
[bluetooth]# pair 00:80:25:49:6C:E3
Attempting to pair with 00:80:25:49:6C:E3
[CHG] Device 00:80:25:49:6C:E3 Connected: yes
Request PIN code
[agent] Enter PIN code: 0000</code></pre></div></div></div></div><div class="paragraph"><p>After the devices are paired, press the <em>Save</em> button of the dialogue. This closes the Bluetooth dialogue. Now select <em>Download</em> in the <em>Download from dive computer</em> dialogue which should still be open. The downloaded dives are shown on the righthand side of the download dialogue.</p></div></div><div class="sect4"><h5 id="_on_windows">On Windows:</h5><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DC_import_Bluetooth_Windows.png" alt="FIGURE: Download Bluetooth on Windows"/></div></div><div class="paragraph"><p>On <em>Windows</em> platforms the <em>Local Bluetooth device details section</em> on the right is not displayed as is the case on the Linux/Mac systems. To start a scan (by pressing the <em>Scan</em> button) check that the Bluetooth device on the <em>Subsurface</em> computer is turned on by selecting the dive computer from the list of available Bluetooth devices (see image above). If the dive computer is being accessed by Subsurface for the first time, it’s possible Subsurface will request a Pass Code or PIN number. Supply the Pass Code recommended in the user manual of the dive computer. A Pass Code or PIN of 0000 is often the default.</p></div><div class="paragraph"><p>The pairing step is checked and done automatically during the download process. If the devices have never been paired the system will ask permission and put a message on the right side of the screen: <em>Add a device, Tap to set up your DC device</em>. Always allow this pairing. After a discovered item is selected, select the <em>Save</em> button. Finally select the <em>Download</em> button on the <em>Download</em> dialogue and wait for the process to complete.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/important.png" alt="Important"/></td><td class="content">Currently <em>Subsurface</em> works only with local Bluetooth adapters which use Microsoft Bluetooth Stack. If the local device uses <em>Widcomm</em>, <em>Stonestreet One Bluetopia Bluetooth</em> or <em>BlueSoleil</em> drivers it will not work. However, Bluetooth hardware/dongles from these manufacturers (e.g. iSonic) that support the Microsoft Bluetooth Stack do work.</td></tr></table></div><div class="paragraph"><p>A log message on the bottom left of the <em>Remote Bluetooth device selection</em> shows details about the current status of the Bluetooth agent. To select another dive computer for download using the "Remote Bluetooth selection dialogue" press the three-dots button from the <em>"Choose Bluetooth download mode"</em> option.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/important.png" alt="Important"/></td><td class="content"><strong>IN CASE OF PROBLEMS</strong>: If the Bluetooth adapter from the <em>Subsurface</em> computer gets stuck and the <em>Download</em> process fails repeatedly, <em>unpair</em> the devices and then repeat the above steps. If this is not successful, <a href="#S_HowFindBluetoothDeviceName"><em>Appendix A</em></a> contains information for manually setting up and inspecting the Bluetooth connection with <em>Subsurface</em>.</td></tr></table></div></div></div><div class="sect3"><h4 id="S_DeviceNames">5.2.3. Changing the name of a dive computer</h4><div class="paragraph"><p>It may be necessary to distinguish between different dive computers used to upload dive logs to <em>Subsurface</em>. For instance if a buddy’s dive computer is the same make and model as your own and dive logs are uploaded from both dive computers to the same <em>Subsurface</em> computer, then you might like to call one "Alice&#8217;s Suunto D4" and the other "Bob&#8217;s Suunto D4". Alternatively, consider a technical diver who dives with two or more dive computers of the same model, the logs of both (or all) being uploaded. In this case it might be prudent to call one of them "Suunto D4 (1)" and another "Suunto D4 (2)". This is easily done in <em>Subsurface</em>. On the <strong>Main Menu</strong>, select <em>Log &#8594; Edit device names</em>. A dialog box opens, showing the current Model, ID and Nickname of the dive computers used for upload. Edit the Nickname field for the appropriate dive computer. After saving the Nickname, the dive logs show the nickname for that particular device instead of the model name, allowing easy identification of devices.</p></div></div><div class="sect3"><h4 id="S_MultipleDiveComputers">5.2.4. Uploading data for a specific dive from more than one dive computer</h4><div class="paragraph"><p>Some divers use more than one dive computer at the same time, e.g. during technical diving. If you import the dive profiles from these different dive computers into <em>Subsurface</em>, the profiles can be viewed independently. During upload the data from the dive computers are automatically merged into a single dive. The different profiles are presented on the <em>Profile</em> panel with the name of each dive computer indicated at the bottom left. <strong>While the dive is highlighted in the <em>Dive List</em></strong>, switch between the profiles of the different dive computers by using either the left/right arrow keyboard keys or by selecting <em>View &#8594; Previous DC</em> or <em>View &#8594; Next DC</em>. The data in the <em>Notes</em> panel are not affected by the specific dive computer that is selected.</p></div></div><div class="sect3"><h4 id="S_EditDiveInfo">5.2.5. Updating the dive information imported from the dive computer.</h4><div class="paragraph"><p>With the uploaded dives in the <strong>Dive List</strong>, the information from the dive computer is not complete and more details must be added to have a full record of the dives. To do this, the <strong>Notes</strong> and the <strong>Equipment</strong> tabs on the top left hand of the <em>Subsurface</em> window should be used.</p></div><div class="sect4"><h5 id="S_Notes_dc">Notes</h5><div class="paragraph"><p>To have a more complete dive record, the user needs to add additional information by hand. The procedure below is virtually identical for hand-entered dives and for dives downloaded from a dive computer.</p></div><div class="paragraph"><p>In some cases, you must provide the date and time of the dive, for example when entering a dive by hand or when a dive computer doesn’t provide the date and time of the dive. (Usually the date and time of the dive, gas mixture and water temperature are shown as obtained from the dive computer) If the contents of the <strong>Notes tab</strong> is changed or edited in any way, the message in a blue box at the top of the panel shows the dive is being edited. If you click on the <strong>Notes</strong> tab, the following fields are visible (left hand image, below):</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/AddDive3_f22.jpg" alt="FIGURE: The Notes tab"/></div></div><div class="paragraph"><p>The right hand image, above, shows a <strong>Notes tab</strong> filled with dive information. The <strong>Date</strong> and <strong>Time</strong> fields reflects the date and time of the dive. By clicking the date, a calendar is displayed for selecting the correct date. Press ESC to close the calendar. The time values (hour and minutes) can also be edited directly by clicking on each of them in the text box and by over-typing the information displayed.</p></div><div class="paragraph"><p><strong>Air/water temperatures</strong>: Air and water temperatures during the dive are shown in text boxes to the right of the Start time. Many dive computers supply water temperature information and this box may have information. If air temperature isn’t provided by the dive computer, the first temperature reading might be used for the air temperature. Generally this is close to the real air temperature. If editing is required, only a value is required, the units of temperature will be automatically supplied by <em>Subsurface</em> (following the <em>Preferences</em>, metric or imperial units will be used).</p></div><div class="paragraph" id="S_locations"><p><strong>Location</strong>:</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/warning2.png" alt="Warning"/></td><td class="content">Dive locations are managed as a <strong>separate</strong> part of the dive log. The dive information in the <strong>Notes</strong> and <strong>Equipment</strong> tabs can therefore NOT be edited at the same time as the dive site information. Save all the other dive information (e.g. divemaster, buddy, protective gear, notes about the dive) by selecting <em>Apply changes</em> on the <strong>Notes</strong> tab BEFORE editing the dive site information. Then supply a dive site name in the textbox labelled <em>Location</em> on the <strong>Notes</strong> tab.</td></tr></table></div><div class="paragraph"><p><strong>Using existing dive locations:</strong> Type in the name of the dive site, e.g. "Tihany, Lake Balaton, Hungary". If several dives are made at the same location, the site information for the first dive is re-used. Therefore, if a dive site has been used before, the name of that site (and sometimes the names of similar sites) appears below the dive site text box (image below). Double-click on the appropriate dive site name and the dive location will be associated with the dive being entered. Then select <em>Apply Changes</em> (image below) to save the geolocation for this dive site.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Location1.jpg" alt="FIGURE:Location choice panel"/></div></div><div class="paragraph"><p><strong>Entering a new dive location:</strong> On the other hand, having dived at a new dive location, a new record needs to be created that could be used for the new and for later dives at this new site. Type the name of the new dive site into the text box (image A below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Globe_image1.jpg" alt="FIGURE:Location creation panel"/></div></div><div class="paragraph"><p>Double-click on the blue bar below the new dive location name. The blue bar disappears (image B above) and the globe icon on the right-hand of the location name text box turns blue. In the Dive Map part of the <em>Subsurface</em> window, a world map appears (image C above). Click on the blue globe icon to the right of the dive site name in the <em>Notes</em> panel (image B above). This opens a window for entering the details of the new dive location (image A below). The globe icon changes to indicate that the location data are being edited. The only important data here are the geographic coordinates of the dive location.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Globe_image2.jpg" alt="FIGURE:Location creation panel"/></div></div><div class="paragraph"><p>There are three ways of adding the coordinates:</p></div><div class="paragraph"><p><strong>(1):</strong> Enter coordinates by hand if they are known, using one of four formats with latitude followed by longitude:</p></div><div class="literalblock"><div class="content"><pre><code>ISO 6709 Annex D format e.g. 30°13'28.9"N 30°49'1.5"E
Degrees and decimal minutes, e.g. N30° 13.49760' , E30° 49.30788'
Degrees minutes seconds, e.g. N30° 13' 29.8" , E30° 49' 1.5"
Decimal degrees, e.g. 30.22496 , 30.821798</code></pre></div></div><div class="paragraph"><p>Southern hemisphere latitudes are given with a <strong>S</strong>, e.g. S30°, or with a negative value, e.g. -30.22496. Similarly western longitudes are given with a <strong>W</strong>, e.g. W07°, or with a negative value, e.g. -7.34323. Some keyboards don&#8217;t have the degree sign (°). It can be replaced by a <strong>d</strong> like this: N30d W20d. Enter any other contextual information about the dive site (Description and Notes), then select <em>Apply Changes</em> to save the geolocation for this dive site. The dive site information can later be edited by clicking the globe icon to the right of the dive site name in the <strong>Notes tab</strong>.</p></div><div class="paragraph"><p><strong>(2):</strong> Use the Dive Map to specify the coordinates. The Dive map now shows all the existing dive locations in grey as well as an additional marker in red (image B above). Drag the red marker to the location of the dive site being entered. The map can be dragged and zoomed using the mouse wheel. Position the red marker by dragging it on the map, zooming in on the appropriate part of the map and placing the marker at an appropriate position (image B below). The coordinates of the dive location are automatically inserted into the appropriate text box in the dive location information window (image A below). Enter any other contextual information about the dive site (Description and Notes), then select <em>Apply Changes</em> to save the geolocation for this dive site. The dive site information can later be edited by clicking the globe icon to the right of the dive site name in the <strong>Notes tab</strong>.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Globe_image3.jpg" alt="FIGURE:Location creation panel"/></div></div><div class="paragraph"><p>Once the dive location data have been saved, the dive on the Dive List has a globe icon immediately to the left of the location name of a particular dive.</p></div><div class="paragraph"><p><strong>(3):</strong> Obtain the coordinates using the <em>Subsurface-mobile</em> App on an Android or iPhone device with GPS and if the dive site coordinates were stored using one of this app.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/warning2.png" alt="Warning"/></td><td class="content">GPS coordinates of a dive site are linked to the location name - so <strong>saving</strong> a dive site with only coordinates and no name causes problems. (Subsurface will think all of these dives have the same location and try to keep their GPS coordinates the same).</td></tr></table></div><div class="paragraph"><p><strong>Dive site name lookup:</strong> If you typed coordinates into the appropriate text box, you can do an automated name lookup based on the coordinates. This is done when <em>Subsurface</em> uses the Internet to find the name of the dive site based on the coordinates that were given. If a name has been found, it is automatically inserted into the tags box. The list box (Titled <em>Dive sites on same coordinates</em>") at the bottom of the dive site panel contains the names of other dives sites used at the current location. For instance if the dive site is "Blue Hole" and there are several sites named "Blue Hole", all of them are listed.</p></div><div class="paragraph"><p>Enter any other contextual information about the dive site (Description and Notes), then select <em>Apply Changes</em> to save the geolocation for this dive site. The dive site information can later be edited by clicking the globe icon to the right of the dive site name in the <strong>Notes tab</strong>.</p></div><div class="paragraph"><p><strong>Dive mode</strong>: This is a dropdown box allowing you to choose the type of dive performed. The options are OC (Open Circuit SCUBA, the default setting, for most recreational dives), Freedive (dive without SCUBA equipment), CCR (Closed-circuit rebreather) and pSCR (Passive semi-closed rebreather).</p></div><div class="paragraph"><p><strong>Divemaster</strong>: The name of the divemaster or dive guide should be entered in this field which offers auto selection based on the list of divemasters in the current logbook.</p></div><div class="paragraph"><p><strong>Buddy</strong>: In this field, enter the name(s) of the buddy or buddies (separated with commas) who were on the dive. Auto selection based on the list of buddies in the current logbook is offered.</p></div><div class="paragraph"><p><strong>Suit</strong>: Here the type of dive suit used can be entered. Auto selection of the suit description is available. Some dry-suit users may choose to use this field to record what combination of suit and thermal under suit was used.</p></div><div class="paragraph"><p><strong>Rating</strong>: Provide a subjective overall rating of the dive on a 5-point scale by clicking the appropriate star on the rating scale.</p></div><div class="paragraph"><p><strong>Visibility</strong>: Provide a rating of visibility during the dive on a 5-point scale by clicking the appropriate star.</p></div><div class="paragraph"><p><strong>Tags</strong>: Tags that describe the type of dive done can be entered here (separated by commas). Examples of common tags are boat, drift, training, cave, etc. <em>Subsurface</em> has many built-in tags. By starting to type a tag, <em>Subsurface</em> lists the tags that correspond to the typing. For instance, by typing <code>cav</code>, the tags <strong>cave</strong> and <strong>cavern</strong> are shown to choose from.</p></div><div class="paragraph"><p><strong>Notes</strong>: Any additional information for the dive can be entered here.</p></div><div class="paragraph"><p>The <em>Apply changes</em> and <em>Discard changes</em> buttons are used to save all the information for tabs in the <strong>Info</strong> panel and in the <strong>Dive Profile</strong> panel. Use them when <strong>ALL</strong> other information has been added. The image <a href="#S_Notes_dc">at the beginning of this section</a> shows an example of a <strong>Notes tab</strong> after completing the dive information.</p></div></div><div class="sect4"><h5 id="_equipment">Equipment</h5><div class="paragraph"><p>The Equipment tab allow entering information about the type of cylinder and gas used, as well as the weights used for the dive. The message in the blue box at the top of the panel:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/BlueEditBar_f22.jpg" alt="FIGURE: Blue edit bar"/></div></div><div class="paragraph"><p>shows the equipment is being edited. This is a highly interactive part of <em>Subsurface</em> and the information on cylinders and gases (entered here) determines the behavior of the <strong>Dive profile</strong> (top right-hand panel).</p></div><div class="paragraph" id="cylinder_definitions"><p><strong>Cylinders</strong>: The cylinder information is entered through a dialogue that looks like this:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DC_gas-dialogue1_f20.jpg" alt="FIGURE: Initial cylinder dialogue"/></div></div><div class="paragraph"><p>For hand-entered dives, this information needs to be typed in. For dive computers, <em>Subsurface</em> often gets the gas used from the dive computer and automatically inserts the gas composition(% oxygen or % helium) in the table. The + button at the top right allows adding more cylinders for this dive. The dark dustbin icon on the left allows you to delete information for a cylinder. Note that it is not possible to delete a cylinder if it is used during the dive. A cylinder might be implicitly used in the dive, even without a gas change event. Start by selecting a cylinder type on the left-hand side of the table. To select a cylinder, the <em>Type</em> box should be clicked. This brings up a list button that can be used to display a dropdown list of cylinders:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DC_gas-dialogue2_f20.jpg" alt="FIGURE: The cylinder drop-down list button"/></div></div><div class="paragraph"><p>The drop-down list can then be used to select the cylinder type that was used for this dive, or just start typing in the box which shows the available options for the entered characters. The <strong>Size</strong> of the cylinder as well as its working pressure (<em>Work.press</em>) will automatically be shown in the dialogue.</p></div><div class="paragraph"><p>Next, indicate the starting pressure and the ending pressure of the specified gas during the dive. The unit of pressure (metric/imperial) corresponds to the settings chosen in the <em>Preferences</em>.</p></div><div class="paragraph"><p>Finally, provide the gas mixture used. If air was used, the value of 21% can be entered into the oxygen box or this field can be left blank. If nitrox or trimix were used, their percentages of oxygen and/or helium should be entered. Any inappropriate fields should be left empty. After typing the information for the cylinder, save the data either by pressing <em>ENTER</em> on the keyboard or by clicking outside the cell containing the cursor. Information for any additional cylinders can be added by using the + button at the top right hand. Here is an example of a complete description for a dive using two cylinders (air and EAN50):</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/CylinderDataEntry3_f20.jpg" alt="FIGURE: a completed cylinder dive information table"/></div></div><div class="paragraph"><p><strong>Weights</strong>: Information about the weight system used can be entered using a dialogue similar to that of the cylinder information. If you click the + button on the top right of the weights dialogue, the table looks like this:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/WeightsDataEntry1_f20.jpg" alt="FIGURE:The Weights dialogue"/></div></div><div class="paragraph"><p>By clicking on the <em>Type</em> field, a drop-down list becomes accessible through a down-arrow:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/WeightsDataEntry2_f20.jpg" alt="FIGURE:Weights type drop-down list button"/></div></div><div class="paragraph"><p>This can be used to select the type of weight system used during the dive. You may start typing in the box to specify a different weighting mechanism that will be saved by <em>Subsurface</em>. In the <strong>Weight</strong> field, type in the amount of weight used during the dive. After specifying the weight system, save the data by pressing <em>ENTER</em> on the keyboard or by clicking outside the cell with the cursor. It’s possible to enter information for more than one weight system by adding an additional system using the + button on the top right hand. Weight systems can be deleted using the dust bin icon on the left hand. Here is an example of information for a dive with two types of weights: integrated as well as a weight belt:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/WeightsDataEntry3_f20.jpg" alt="FIGURE: A completed weights information table"/></div></div></div></div><div class="sect3"><h4 id="_editing_several_selected_dives_simultaneously">5.2.6. Editing several selected dives simultaneously</h4><div class="paragraph"><p><em>METHOD 1</em>: After downloading dives from a dive computer, the dive profiles of each is shown in the <strong>Dive profile</strong> tab, as well as a few items of information in the <strong>Notes</strong> tab (e.g. water temperature) and in the <strong>Equipment</strong> tab (e.g. gas pressures and gas composition). Other fields remain empty. It may be useful to simultaneously edit some of the fields in the <strong>Notes</strong> and <strong>Equipment</strong> tabs. For instance, it’s possible that a diver performed several dives during a single day, using identical equipment at the same dive site, or with the same divemaster and/or buddy or tags. Instead of completing the information for each dive separately, select all the dives for that day in the <strong>Dive List</strong> and insert the same information in the <strong>Notes</strong> and <strong>Equipment</strong> fields that need identical information. This is done by editing the dive notes or the equipment for any one of the selected dives.</p></div><div class="paragraph"><p>Simultaneous editing only works with fields that do not already contain information. This means if some fields have been edited for a particular dive among the selected dives, these are not changed while editing the dives simultaneously. Technically, the rule for editing several dives simultaneously is: if the data field being edited contains <em>exactly the same information</em> for all the dives that have been selected, the new, edited information is substituted for all the selected dives. Otherwise only the edited dive is changed, even though several dives have been selected in the <strong>Dive List</strong>. This speeds up the completion of the dive log after several similar dives.</p></div><div class="paragraph" id="S_CopyComponents"><p><em>METHOD 2</em>:There is a different way of achieving the same goal. Select a dive with all the appropriate information typed into the <strong>Notes</strong> and <strong>Equipment</strong> tabs. Then, from the main menu, select <em>Log &#8594; Copy dive components</em>. A box is presented with a selection of check boxes for most of the fields in the <strong>Notes</strong> and <strong>Equipment</strong> tabs. Select the fields to be copied from the currently selected dive, then select <em>OK</em>. Now, in the <strong>Dive List</strong>, select the dives into which this information is to be pasted. Then, from the main menu, select <em>Log &#8594; Paste dive components</em>. All the selected dives now contain the data initially selected in the original source dive log.</p></div></div><div class="sect3"><h4 id="S_Bookmarks">5.2.7. Adding Bookmarks to a dive</h4><div class="paragraph"><p>Many divers wish to annotate dives with text that indicate particular events, e.g. "Saw dolphins", or "Released surface buoy". This is easily done:</p></div><div class="ulist"><ul><li><p>Right-click at the appropriate point on the dive profile. This brings up the dive profile context menu. Select <em>Add bookmark</em>. A red flag is placed on the dive profile at that point (see <strong>A</strong> below).</p></li><li><p>Right-click on the red flag. This brings up the context menu (see <strong>B</strong> below). Select <em>Edit name</em>.</p></li><li><p>A text box is shown. Type the explanatory text for the bookmark (see <strong>C</strong> below). Select <em>OK</em>. This saves the text associated with the bookmark.</p></li><li><p>Hovering the mouse over the red bookmark, the appropriate text is shown at the bottom of the information box (see <strong>D</strong> below).</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Bookmarks.jpg" alt="FIGURE: Bookmark dialog"/></div></div></div><div class="sect3"><h4 id="_saving_the_updated_dive_information">5.2.8. Saving the updated dive information</h4><div class="paragraph"><p>The information entered in the <strong>Notes</strong> tab and the <strong>Equipment</strong> tab can be saved by using the two buttons on the top right hand of the <strong>Notes</strong> tab. If the <em>Apply changes</em> button is clicked, the dive data are saved in the memory image of the dive. If the <em>Discard changes</em> button is clicked, the newly entered dive data are erased from the computer memory, although the dive profile is retained. When the user exits <em>Subsurface</em> there is a final prompt to confirm the new data should now be saved permanently on the computer disk.</p></div></div></div><div class="sect2"><h3 id="_importing_dive_information_from_other_digital_data_sources_or_other_data_formats">5.3. Importing dive information from other digital data sources or other data formats</h3><div class="paragraph" id="S_ImportingAlienDiveLogs"><p>Many divers log their dives using the proprietary software provided by the manufacturers of their dive computers. <em>Subsurface</em> can import dive logs from a range of other dive log software. While import from some software is supported natively, others require export of the dive log to an intermediate format that can then be imported into <em>Subsurface</em>. Currently, <em>Subsurface</em> supports importing CSV log files from several sources. Dive log import from APD LogViewer, XP5, Sensus and Seabear files are preconfigured, but because the import is flexible, users can configure their own imports. Manually kept log files (e.g. a spreadsheet) can also be imported by configuring the CSV import. <em>Subsurface</em> can also import UDDF and UDCF files used by some dive log software and some dive computers, like the Heinrichs &amp; Weikamp DR5. Finally, for some dive log software like Mares Dive Organizer we currently recommend importing the logbook first into a web service like <em>divelogs.de</em> and then import from there with <em>Subsurface</em>. Divelogs.de supports a few additional logbook formats that <em>Subsurface</em> currently cannot handle.</p></div><div class="paragraph"><p>If the format of other software is supported natively on Subsurface, select either <em>Import &#8594; Import log files</em> or <em>File &#8594; Open log file</em>. Notice that the import adds the imported data to the current <strong>Dive list</strong>, and the open style starts a new dive list. <em>Subsurface</em> supports the data formats of many dive computers, including Suunto, Shearwater and some CCR equipment. When importing dives, <em>Subsurface</em> tries to detect multiple records for the same dive and merges the information as best as it can. If there are no time zone issues (or other reasons that would cause the beginning time of the dives to be significantly different) <em>Subsurface</em> will not create duplicate entries. Below is more specific information to import data to <em>Subsurface</em>.</p></div><div class="sect3"><h4 id="_using_the_universal_import_dialogue">5.3.1. Using the universal import dialogue</h4><div class="paragraph" id="Unified_import"><p>Importing dives from other software is done through a universal interface activated by selecting <em>Import</em> from the Main Menu, then clicking on <em>Import Log Files</em>. This brings up dialogue <strong>A</strong>, below.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Import1_f20.jpg" alt="FIGURE: Import dialogue: step 1"/></div></div><div class="paragraph"><p>Towards the bottom right is a dropdown selector with a default label of <em>Dive Log Files</em> which accesses different types of direct imports available, as in dialogue <strong>B</strong>, above. Currently these are:</p></div><div class="ulist"><ul><li><p>XML-formatted dive logs (DivingLog 5.0, MacDive and several other dive log systems)</p></li><li><p>Cochran dive logs</p></li><li><p>UDDF-formatted dive logs (e.g. Kenozooid)</p></li><li><p>UDCF-formatted dive logs</p></li><li><p>Poseidon MkVI CCR logs</p></li><li><p>APD Inspiration/Evolution CCR logs</p></li><li><p>LiquiVision logs</p></li><li><p>divelogs.de logs</p></li><li><p>OSTC Tools logs</p></li><li><p>JDiveLog</p></li><li><p>Suunto Dive Manager (DM3, DM4, DM5)</p></li><li><p>DL7 files used by Diver&#8217;s Alert network (DAN)</p></li><li><p>Underwater technologies AV1 dive logs</p></li><li><p>Divesoft dive logs</p></li><li><p>Poseidon MK VI eCCR dive logs</p></li><li><p>CSV (text-based and spreadsheet-based) dive logs, including APD CCR logs</p></li></ul></div><div class="paragraph"><p>Selecting the appropriate format and then the specific log file in the large window containing the file list on the right of the dialogue, opens the imported dive log in the <em>Subsurface</em> <strong>Dive List</strong>. Some other formats not accessible through the Import dialogue are also supported, as explained below.</p></div></div><div class="sect3"><h4 id="_importing_from_ostctools">5.3.2. Importing from OSTCTools</h4><div class="paragraph"><p><em>OSTC Tools</em> is a Microsoft-based suite of dive download and dive management tools for the OSTC family of dive computers. <em>OSTC Tools</em> downloads dive data from the dive computer and stores it as a binary file with file extension <em>.dive</em> . Subsurface can directly import these files when using the universal import dialogue. From the dropdown list at the bottom right select <em>OSTCTools Files (.dive .DIVE)</em>. This makes the <em>OSTC Tools</em> dive logs visible in the file list panel. Select one or more dive, then click the <em>Open</em> button. The OSTC dives are shown in the <strong>Dive List</strong> panel.</p></div><div class="paragraph"><p>All H&amp;W devices supported by OSTCTools can be imported to <em>Subsurface</em>. This includes OSTC, OSTC Mk2, OSTC 2N/2C, OSTC3, OSTC Sport, and probably although untested, Frog, OSTC2 and OSTC CR.</p></div><div class="paragraph"><p>Please remember that OSTCTools is <strong>not</strong> true diving log software, but rather a useful set of tools for analysis and management of OSTC devices. Only raw dive computer data will be imported to <em>Subsurface</em>; the rest of the data (buddies, equipment, notes, etc) need to be completed manually.</p></div></div><div class="sect3"><h4 id="_importing_from_mares_dive_organizer_v2_1">5.3.3. Importing from Mares Dive Organizer V2.1</h4><div class="paragraph"><p>Since Mares uses proprietary Windows software not compatible with multi-platform applications, these dive logs cannot be directly imported into <em>Subsurface</em>. Mares dive logs need to be imported using a three-step process, using <em>www.divelogs.de</em> as a gateway to extract the dive log information.</p></div><div class="olist arabic"><ol class="arabic"><li><p>Export the dive log data from Mares Dive Organizer to your desktop, using a <em>.sdf</em> file name extension. Refer to <a href="#Mares_Export">Appendix C</a> for more information.</p></li><li><p>Data should then be imported into <em>www.divelogs.de</em>. First, create a user account in <em>www.divelogs.de</em> and Log into that web site, then select <em>Import Logbook &#8594; Dive Organizer from the menu on the left hand side. The instructions must be carefully followed to transfer the dive information (in _.sdf</em> format) from the Dive Organizer database to <em>www.divelogs.de</em>.</p></li><li><p>Finally, import the dives from <em>divelogs.de</em> to <em>Subsurface</em>, using the instructions below.</p></li></ol></div></div><div class="sect3"><h4 id="S_SmartTrakImport">5.3.4. Importing Scubapro <em>SmartTrak</em> divelogs</h4><div class="paragraph"><p><em>SmartTrak</em> stores the raw data from a Uwatec/Scubapro dive computer along with a plethora of other data manually added by the user, ranging from dive points to buddies data or DAN survey info. However, this is Microsoft Windows-based propietary software by Uwatec (today Scubapro) using Microsoft Access databases, preventing the integration the importer into the <em>Subsurface</em> core application.</p></div><div class="paragraph"><p>A stand alone tool for Linux has been developed to import the <em>.slg</em> files generated by SmartTrak to Subsurface&#8217;s <em>.xml</em> format. It can be downloaded from <a href="https://subsurface-divelog.org/downloads">the usual <em>Subsurface</em> repository</a>, as a Windows installer or a Linux AppImage. The application is not currently supported on Mac.</p></div><div class="paragraph"><p>It can also be built for Linux systems. Two dependencies need to be met in your system before building: <em>glib2.0</em> and <em>mdbtools</em> (see below).</p></div><div class="paragraph"><p>In addition, a web service is available for divelog convertions from SmartTrak to <em>Subsurface</em> (see below).</p></div><div class="paragraph"><p>Feel free to contact the <em>Subsurface</em> development team on <a href="mailto:subsurface@subsurface-divelog.org">our mailing list</a> for assistance in importing <em>SmartTrak</em> dive logs.</p></div><div class="sect4"><h5 id="_building_em_smtk2ssrf_em">Building <em>smtk2ssrf</em></h5><div class="paragraph"><p>Assuming the above dependencies have been installed and the <em>Subsurface</em> source tree is in the directory <em>~/src/subsurface</em>, then:</p></div><div class="ulist"><ul><li><p>Move to the source tree directory out of <em>Subsurface</em> (e.g. ~/src)</p></li><li><p>Run " $ ./subsurface/scripts/smtk2ssrf-build.sh ", if every thing has gone fine, you will now have an executable named smtk2ssrf in ~/src/subsurface/smtk-import/build</p></li><li><p>You can run it from this directory, copy it to another one, e.g. <em>~/bin</em> or simply run "sudo make install", and the binary will be installed in /usr/local/bin (which is commonly included in every $PATH).</p></li><li><p>The script has some options mostly useful for development pourposes. If you think you may need them, please read comments on script header itself.</p></li><li><p><strong>WARNING</strong>: While building smtk2ssrf, a light version of <em>Subsurface</em> is built (usable but lacking a lot of features). So, if you commonly use the built executable placed at ~/subsurface/build/, you will need to rebuild it as explained in this manual above.</p></li></ul></div></div><div class="sect4"><h5 id="_running">Running</h5><div class="paragraph"><p><em>smtk2ssrf</em> accepts 0, 2 or more parameters. If it is launched without parameters in a graphical user interface, a simple window opens for choosing the <em>.slg</em> file(s) to import and a destination file to store the <em>Subsurface</em>-formatted data into (see image below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/smtk2ssrf.jpg" alt="FIGURE:Download from SmartTrak"/></div></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/warning2.png" alt="Warning"/></td><td class="content">Existing data in the destination file will be erased, so <strong>DO NOT</strong> use a regular subsurface divelog file as a destination: rather, specify a <strong>new</strong> filename as a destination.</td></tr></table></div><div class="paragraph"><p>If launched from a command line with two or more parameters, the format is as follows:</p></div><div class="literalblock"><div class="content"><pre><code>$ smrtk2ssrf /input/file_1.slg /input/file_2.slg /output/file3.xml</code></pre></div></div><div class="paragraph"><p>where <em>input</em> is the directory containing the .slg file(s) and <em>output</em> is the directory where the <em>Subsurface</em>-formatted output is written to. Files <em>file_1.slg</em> and <em>file_2.slg</em> in the <em>input</em> directory are imported and stored in <em>file3.xml</em> in the <em>output</em> directory. Check any warning and error messages in the console or in the graphical window: some may be relevant as support for Galileo family of dive computers is still a work in progress.</p></div></div><div class="sect4"><h5 id="_for_the_lazy_a_web_service_to_convert_em_smarttrak_em_to_em_subsurface_em">For the lazy: a web service to convert <em>SmartTrak</em> to <em>Subsurface</em></h5><div class="paragraph"><p>Open the website at:</p></div><div class="paragraph"><p><em>https://thetheoreticaldiver.org/rch-cgi-bin/smtk2ssrf.pl</em></p></div><div class="paragraph"><p>This is a no-frills web service for converting <em>SmartTrak</em> dive logs to <em>Subsurface</em>. Select the browse button. This allows you to browse your computer directories and to select the <em>SmartTrak</em> divelog to be converted. Once it has been selected, click the <em>Submit query</em> button. After a short while, a dialog box appears (image below) for saving the converted file to the local computer.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/strk2ssrf_web.jpg" alt="FIGURE:Web service to convert SmartTrak divelog"/></div></div></div><div class="sect4"><h5 id="_merging_the_imported_dives_with_the_existing_divelog">Merging the imported dives with the existing divelog</h5><div class="paragraph"><p>Open the new file (generated in the previous steps) using <em>Subsurface</em> and check the dives and data. If everything is fine, close the <em>.xml</em> file and open your regular divelog. Then from the <strong>Main Menu</strong> select <em>Import &#8594; Import log file</em> and choose the <em>.xml</em> file containing the imported dives: these will show in the <strong>Dive List</strong>, time ordered, along with the existing dives. The new dives, although time ordered, will keep the numbering system from <em>SmartTrak</em>, so a renumbering action is needed. See the section on <a href="#S_Renumber">Renumbering the dives</a> for instructions on this topic.</p></div></div></div><div class="sect3"><h4 id="S_ImportingDivelogsDe">5.3.5. Importing dives from <strong>divelogs.de</strong></h4><div class="paragraph"><p>Importing dive information from <em>divelogs.de</em> is simple, using a single dialogue box. The <em>Import &#8594; Import from Divelogs.de</em> option should be selected from the Main Menu. This brings up a dialogue box (see image <strong>A</strong> below). Enter a user-ID and password for <em>divelogs.de</em> and then select the <em>Download</em> button. Download from <em>divelogs.de</em> starts immediately, displaying a progress bar in the dialogue box. At the end of the download, the success status is shown (see image <strong>B</strong>, below). The <em>Apply</em> button should then be selected, after which the imported dives appear in the <em>Subsurface</em> <strong>Dive List</strong> panel.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Divelogs1.jpg" alt="FIGURE:Download from Divelogs.de"/></div></div></div><div class="sect3"><h4 id="S_ImportingCSVData">5.3.6. Importing data in CSV format</h4><div class="paragraph"><p>A comma-separated file (.csv) can be used to import dive information either as dive profiles (as in the case of the APD Inspiration and Evolution closed circuit rebreathers) or as dive metadata (in case the user keeps dive data in a spreadsheet). The <em>CSV</em> format is a universal simplified format that allows easy information exchange between different computers or software packages. For an introduction to CSV-formatted files see <a href="#S_CSV_Intro">A Diver&#8217;s Introduction To CSV Files</a>. <em>Subsurface</em> dive logs can also be exported in <em>CSV</em> format to other software that reads this format. See <a href="#S_Appendix_D">APPENDIX D: Exporting a spreadsheet to CSV format</a> for information that may be helpful for importing spreadsheet-based data into <em>Subsurface</em>.</p></div><div class="sect4"><h5 id="S_ImportingCSVDives">Importing dives in CSV format from dive computers or other dive log software</h5><div class="paragraph"><p><em>CSV</em> files can be viewed using an ordinary text editor. A <em>CSV</em> file is normally organized into a single line that provides the headers (or <em>field names</em> or <em>column headings</em>) of the data columns, followed by the data, one record per line.</p></div><div class="paragraph"><p>There are two types of <em>CSV</em> dive logs that can be imported into <em>Subsurface</em>:</p></div><div class="olist arabic"><ol class="arabic"><li><p><em>CSV dive details</em>: This dive log format contains similar information to that of a typical written dive log, e.g. dive date and time, dive depth, dive duration, names of buddy and divemaster and information about cylinder pressures before and after the dive, as well as comments about the dive. All the data for a single dive go on a single line of text, following the order of the column headings.</p></li><li><p><em>CSV dive profile</em>: This dive log format includes much more information about a single dive. For instance there may be information at 30-second intervals, indicating depth, water temperature, and cylinder pressure at that moment in time. Each line contains the information for a single instant in time during the dive, 30 seconds after that of the previous instant. Many lines are required to complete the depth profile information for a single dive. This is a common export format used by closed-circuit rebreather (CCR) dive equipment and many software packages that handle dive computer data and/or dive logs.</p></li></ol></div><div class="paragraph"><p>Before being able to import the <em>CSV</em> data to <em>Subsurface</em> <strong>you need to know a few things about the data being imported</strong>:</p></div><div class="olist loweralpha"><ol class="loweralpha"><li><p>Which character separates the different columns within a single line of data? This field separator should be either a comma (,) a semicolon (;) or a TAB character. This can be determined by opening the file with a text editor. If it is comma-delimited or semicolon-delimited, the comma or semicolon characters between the values are clearly visible. If these are not evident and the numbers are aligned in columns, the file is probably TAB-delimited (i.e. it uses a TAB as a field separator).</p></li><li><p>Which data columns need to be imported into <em>Subsurface</em>? Is it a <em>CSV dive details</em> file or a <em>CSV dive profile</em> file? Open the file using a text editor and note the titles of the columns to be imported and their column positions.</p></li><li><p>Is the numeric information (e.g. dive depth) in metric or in imperial units?</p></li></ol></div><div class="paragraph"><p>With this information, importing the data into <em>Subsurface</em> is straightforward. Select <em>Import &#8594; Import Log Files</em> from the main menu. In the resulting file selection menu, select <em>CSV files</em> (towards the bottom right). This shows all .CSV files in the selected directory. Select the file that needs to be imported. A configuration panel appears as depicted below:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/csv_import1_f20.jpg" alt="FIGURE: CSV download dialogue 1"/></div></div><div class="paragraph"><p>At the top left, there is a dropdown list containing pre- configured settings for common dive computers and software packages. If the <em>CSV</em> file being imported originated from any of these pre-configured items, select it. Otherwise use the <em>Manual Import</em> option. The configuration panel also has dropdown lists for the specification of the appropriate field separator (Tab, comma or semicolon), the date format used in the <em>CSV</em> file, the time units (seconds, minutes or minutes:seconds), as well as the unit system (metric or imperial). Selecting the appropriate options among these is critical for successful data import.</p></div><div class="paragraph"><p>Complete this by ensuring that all the data columns have the appropriate column headings. The top blue row of the data table contains the column headings found in the <em>CSV</em> data file. The blue row of balloons immediately above these contains the names understood by <em>Subsurface</em>. These balloons can be moved using a drag-and-drop action. For instance, <em>Subsurface</em> expects the column heading for Dive number (" # ") to be "Dive # ". If the column heading that <em>Subsurface</em> expects is not in the blue row, drag the appropriate balloon from the upper area and drop it in the appropriate blue cell at the top of the table. For example, to indicate the correct column for "Dive #", drag the ballooned item labelled "Dive # " and drop it in the blue cell immediately above the white cell containing " # ", depicted in the image below.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/csv_import2_f20.jpg" alt="FIGURE: CSV download dialogue 2"/></div></div><div class="paragraph"><p>Continue in this way to ensure all the column headings in the blue row of cells correspond to the headings listed in the top part of the dialogue. When finished, select the <em>OK</em> button on the bottom right of the dialogue. The data from the <em>CSV</em> file are imported and shown in the <strong>Dive List</strong> panel.</p></div><div class="sidebarblock" id="S_CSV_Intro"><div class="content"><div class="paragraph"><p><strong>A Diver&#8217;s Introduction to <em>CSV</em> Files</strong></p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/important.png" alt="Important"/></td><td class="content"><em>CSV</em> is an abbreviation for a data file format: <em>Comma-Separated Values</em>. It is a file format that allows you to view or edit information using a text editor like Notepad (Windows), gedit (Linux) or TextWrangler (OS/X). There are two main advantages of the <em>CSV</em> format. First, the data are easily editable as text without any proprietary software. Second, all information is human-readable, not obscured by any custom or proprietary attributes that proprietary software inserts into files. Because of its simplicity the <em>CSV</em> format is used as an interchange format between many software packages, e.g. between spreadsheet, statistical, graphics, database and diving software. Within <em>Subsurface</em>, <em>CSV</em> files can also be used to import information from other sources like spreadsheet-based dive logs and some dive computers.</td></tr></table></div><div class="paragraph"><p>The most important attribute of a <em>CSV</em> file is the <em>field separator</em>, the character used to separate fields within a single line. The field separator is frequently a comma, a colon, a SPACE character or a TAB character. When exporting data from spreadsheet software, the field separator needs to be specified in order to create the <em>CSV</em> file. <em>CSV</em> files are normally organized into a single line that provides the headers (or <em>field names</em>) of the data columns, followed by the data, one record per line. Note that each field name may comprise more than one word separated by spaces; for instance <em>Dive site</em>, below. Here is an example of dive information for four dives using a comma as a field separator:</p></div><div class="literalblock"><div class="content"><pre><code>Dive site,Dive date,Time,Dive_duration, Dive_depth,Dive buddy
Illovo Beach,2012-11-23,10:45,46:15,18.4,John Smith
Key Largo,2012-11-24,09:12,34:15,20.4,Jason McDonald
Wismar Baltic,2012-12-01,10:13,35:27,15.4,Dieter Albrecht
Pulau Weh,2012-12-20,09:46,55:56,38.6,Karaeng Bontonompo</code></pre></div></div><div class="paragraph"><p>The above data are not easily read by a human. Here is the same information in TAB-delimited format:</p></div><div class="literalblock"><div class="content"><pre><code>Dive site      Dive date        Time    Dive_duration   Dive_depth      Dive buddy
Illovo Beach   2012-11-23       10:45   46:15   18.4    John Smith
Key Largo      2012-11-24       09:12   34:15   20.4    Jason McDonald
Wismar Baltic  2012-12-01       10:13   35:27   15.4    Dieter Albrecht
Pulau Weh      2012-12-20       09:46   55:56   38.6    Karaeng Bontonompo</code></pre></div></div><div class="paragraph"><p>It is clear why many people prefer the TAB-delimited format to the comma-delimited format. The disadvantage is that you cannot see the TAB characters. For instance, the space between <em>Dive</em> and <em>date</em> in the top line may be a SPACE character or a TAB character (in this case it is a SPACE character: the tabs are before and after <em>Dive date</em>). If the field names in the first line are long, the alignment with data in the other lines cannot be maintained. Here is a highly simplified and shortened TAB-delimited example of a <em>CSV</em> dive log from an APD closed-circuit rebreather (CCR) dive computer:</p></div><div class="literalblock"><div class="content"><pre><code>Dive Time (s)   Depth (m)       pO~2~ - Setpoint (Bar)  pO~2~ - C1 Cell 1 (Bar) Ambient temp. (Celsius)
0       0.0     0.70    0.81    13.1
0       1.2     0.70    0.71    13.1
0       0.0     0.70    0.71    13.1
0       1.2     0.70    0.71    13.2
0       1.2     0.70    0.71    13.1
10      1.6     0.70    0.72    12.7
20      1.6     0.70    0.71    12.6
30      1.7     0.70    0.71    12.6
40      1.8     0.70    0.68    12.5</code></pre></div></div><div class="paragraph"><p>When a <em>CSV</em> file is selected for import, <em>Subsurface</em> displays the column headers as well as some of the data in the first few lines of the <em>CSV</em> file, making it much easier to work with <em>CSV</em> files. <em>CSV</em> files can be used in many contexts for importing data into a <em>Subsurface</em> dive log. Knowing a few basic things about the content of the <em>CSV</em> file helps with a smooth import of the dives into <em>Subsurface</em>.</p></div></div></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/important.png" alt="Important"/></td><td class="content">But, the <em>CSV</em> import has a couple of caveats. Avoid some special characters like ampersand (&amp;), less than (&lt;), greater than (&gt;) and double quotes (") as part of the numbers or text within a cell. The file should use UTF-8 character set, if using non-ASCII characters. Also the size of the <em>CSV</em> file might cause problems. Importing 100 dives at a time (<em>CSV dive details</em>) works, but larger files might exceed the limits of the parser used. When encountering problems with <em>CSV</em> imports, first try with a smaller file to make sure everything works.</td></tr></table></div></div></div></div><div class="sect2"><h3 id="_importing_dive_coordinates_from_a_mobile_device_with_gps">5.4. Importing Dive coordinates from a mobile device with GPS.</h3><div class="paragraph"><p>A smartphone with built-in GPS facilities can be used to store the locations of dives. This is performed by:</p></div><div class="paragraph"><p>1) Taking the mobile device along on the dive boat / liveabord while automatically collecting dive site coordinate information.</p></div><div class="paragraph"><p>2) Adding collected coordinate information to the dives using the <em>Subsurface-mobile</em> app.</p></div><div class="paragraph"><p>3) Syncronising the logbook with the <em>Subsurface</em> cloud using the <em>Subsurface-mobile</em> app.</p></div><div class="paragraph"><p>Existing users might still be using the legacy <em>Companion app</em>. However, the Companion App hasn&#8217;t been under development in several years and has now been removed from both Android and iOS app stores. The functionality is fully integrated into <em>Subsurface-mobile</em>. Please note that the old GPS fix internet service will be shut down by the end 2018 at which point the <em>Companion app</em> will no longer be usable. Please switch to <em>Subsurface-mobile</em> instead.</p></div><div class="sect3"><h4 id="_storing_and_and_using_gps_locations_using_em_subsurface_mobile_em">5.4.1. Storing and and using GPS locations using <em>Subsurface-mobile</em></h4><div class="sect4"><h5 id="_install_em_subsurface_mobile_em">Install <em>Subsurface-mobile</em></h5><div class="paragraph"><p>Find <em>Subsurface-mobile</em> on Google Play and install it on an Android device. The app is free. The iOS version is currently experimental. <em>Subsurface-mobile</em> has an extensive <a href="https://subsurface-divelog.org/documentation/subsurface-mobile-user-manual">user manual</a> accessible from within that app.</p></div></div><div class="sect4"><h5 id="_create_a_em_subsurface_mobile_em_account">Create a <em>Subsurface-mobile</em> account</h5><div class="paragraph"><p>This topic is discussed at length in the <em>Subsurface-mobile</em> user manual. In the Credentials screen of <em>Subsurface-mobile</em> provide an e-mail address and a user password that enables subsequent access. A PIN number is e-mailed from the <em>Subsurface</em> Internet server to the e-mail address that has been provided. Type the PIN into the appropriate text field in the Credentials screen (see image below). The <em>Subsurface</em> Internet server notifies the user that a new user has been registered.</p></div><div class="paragraph"><p><strong>N.B.:</strong> To successfully create a user account, the mobile device must have Internet connectivity, either through the cellular network or via wifi.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/MobileCredentials.jpg" alt="FIGURE: Subsurface-mobile, credentials screen"/></div></div></div><div class="sect4"><h5 id="_configure_auto_collecting_of_gps_coordinates">Configure auto-collecting of GPS coordinates</h5><div class="paragraph"><p>Activate the main menu of <em>Subsurface-mobile</em> by selecting the "hamburger" menu button at the bottom left of the <em>Subsurface-mobile</em> screen (see image above), then select <em>GPS</em> &#8594; <em>Preferences</em> (see image below). The collection of GPS locations is done in the background and automatically, using two settings:</p></div><div class="ulist"><ul><li><p><em>Time threshold.</em> (minutes). The app will try to get a location every X minutes</p></li><li><p><em>Distance threshold.</em> (meters). Minimum distance between two locations.</p></li></ul></div><div class="paragraph"><p><strong>How are GPS coordinates collected?</strong> Assuming the diver sets 5 minutes and 50 meters in the settings above, the app will start by recording a location at the current location, followed by another one at every 5 minutes <strong>or</strong> every time you move 50 m from previous location, whichever happens first. If subsequent locations are within a radius of 50 meters from the previous one, a new location is not saved. If the diver is not moving, only one location is saved, at least until the <em>Time-threshold</em> period has elapsed. If the diver moves, a trace of the route is obtained by saving a location every 50 meters.</p></div></div><div class="sect4"><h5 id="_activate_the_automated_recording_of_gps_locations">Activate the automated recording of GPS locations</h5><div class="paragraph"><p>The <em>Subsurface-mobile</em> GPS menu has an option at the bottom labled <em>Run location service</em> (see image below). Selecting this starts the automated recording of GPS positions.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/MobileGpsMenu.jpg" alt="FIGURE: Subsurface-mobile GPS menu"/></div></div></div><div class="sect4"><h5 id="_after_the_dive_stop_the_automated_recording_of_gps_locations">After the dive, stop the automated recording of GPS locations</h5><div class="paragraph"><p>Select the menu option <em>Disable location service</em> at the bottom of the <em>Subsurface-mobile</em> GPS menu.</p></div><div class="paragraph"><p>From the <em>Subsurface-mobile</em> main menu, select <em>GPS</em> &#8594; <em>Upload GPS data</em>. The locations are uploaded.</p></div></div><div class="sect4"><h5 id="_apply_the_stored_gps_locations_to_dives_on_the_em_subsurface_em_dive_list">Apply the stored GPS locations to dives on the <em>Subsurface</em> dive list.</h5><div class="paragraph"><p><em>Subsurface</em> collects the first GPS location recorded after the start of a dive (obtained within <em>Subsurface</em> from either the dive computer or from the manually-entered dive information) and before the end of a dive. These coordinates are shown in the <em>Coordinates</em> field of the dive site panel for each dive. Within the dive site panel, provide a name for the coordinates that have been assigned to the dive, following the instructions under the heading above <a href="#S_locations"><em>Location</em> management</a>.</p></div><div class="paragraph"><p>The <a href="https://subsurface-divelog.org/documentation/subsurface-mobile-user-manual">user manual for <em>Subsurface-mobile</em></a> (accessible from within that app) contains detailed instructions for performing the collection of GPS data and for managing, uploading and synchronising this information.</p></div></div></div></div><div class="sect2"><h3 id="S_LoadImage">5.5. Adding photographs or videos to dives</h3><div class="paragraph"><p>Many (if not most) divers take photographs or videos during a dive. We term these as <em>media</em>, meaning either photos or videos. <em>Subsurface</em> allows the storage and display of these media for each dive. Images are superimposed on the dive profile at the times during the dive when they were taken. Media can be viewed either from the dive profile or from the <em>Media</em> tab in the <strong>Notes Panel</strong>. <em>Subsurface</em> allows viewing of photographs as well as video files in a unified interface.</p></div><div class="sect3"><h4 id="_loading_media_and_synchronizing_between_dive_computer_and_camera">5.5.1. Loading media and synchronizing between dive computer and camera</h4><div class="paragraph"><p>Right-click on a dive or on a group of dives on the dive list, bringing up the <a href="#S_DiveListContextMenu">Dive list context Menu</a>. Select the appropriate option to import media either from file or from the Internet. The system file browser appears. Select the folder and media that need to be loaded into <em>Subsurface</em> and click the <em>Open</em> button. Towards the bottom of the file browser is a filter that allows showing media (photos and videos), only photographs, only videos, or all files. Choose the appropriate option.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LoadImage2_f20.jpg" alt="FIGURE: Load images option"/></div></div><div class="paragraph"><p>If media are imported from the Internet, provide a URL pointing to a single media. If the URL points to a directory, no images are imported: images from the Internet need to be imported one at a time. If media are loaded from the Internet, <em>Subsurface</em> assumes there is an Internet connection each time this item is viewed within <em>Subsurface</em>.</p></div><div class="paragraph"><p>Having selected the local folder or Internet image to be imported, the time synchronization dialog appears (see image below). The time synchronization is not perfect between the dive computer used during a dive and the camera used during that same dive. These two devices often differ by several minutes. <em>Subsurface</em> attempts to synchronize them so that the exact times of media can be used to position media on the dive profile.</p></div><div class="paragraph"><p><em>Subsurface</em> synchronizes camera with dive computer in three ways:</p></div><div class="ulist"><ul><li><p><strong>Pro-actively</strong>: Before the dive, ensure synchronization of the dive computer time settings with the time settings of the camera by changing the date-time settings on one or both of these devices.</p></li><li><p><strong>Manually</strong>: Writing down the exact camera time at the start of a dive allows using the difference in time between the two devices. As long as the device settings for time has not been changed in either device, the times of both devices after the dive or even at the end of the day allows manually setting the time difference in the <em>Time shift</em> dialog (see image below). Towards the top of the dialog is a time setting tool immediately under the heading <em>Shift times of image(s) by</em>, in the image below. If the camera time is 7 minutes later than that of the dive computer, set the time setting tool to a value of 00:07 and select the <em>Earlier</em> radio button. This is appropriate, since the media need to be shifted 7 minutes earlier (camera is 7 minutes ahead of dive computer). Ignore any "AM" or "PM" suffix in that tool. Click the <em>OK</em> button and synchronization is done.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LoadImage3b_f23.jpg" alt="FIGURE: Synchronization dialog"/></div></div><div class="ulist"><ul><li><p><strong>By photograph</strong>: There is a very slick way of achieving synchronization, requiring a photograph of the face of the dive computer showing the time. <em>Subsurface</em> gets the exact time the photograph was taken, using the metadata the camera stores within each photo and compares this with the time visible on the photo. To do this, use the bottom half of the <em>Time shift</em> dialog. In this case the top part of the dialog is ignored. Click on the horizontal bar called <em>Select image of dive computer showing time</em>. This brings up a file browser for selecting the photograph of the dive computer time. Select the photograph using the file browser and click on <em>OK</em>. This photograph of the dive computer appears in the bottom panel of the <em>Shift times</em> dialog. Now <em>Subsurface</em> knows exactly when the photograph was taken. Now set the date-time dialog to the left of the photo so it reflects the date and time of the dive computer in the photo. When the date-time tool has been set, <em>Subsurface</em> knows exactly what the time difference between camera and dive computer is, and it can synchronize the devices. The image below shows a photograph of the face of the dive computer and with the date-time tool set to the date-time.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LoadImage3c_f23.jpg" alt="FIGURE: Synchronization dialog"/></div></div><div class="paragraph"><p>If the timestamp of a photograph or video is more than 30 minutes before or after the dive, it is not placed on the dive profile (see the red warning in the image above). However, If the appropriate checkbox is selected (see image above) these images can still be placed on the <em>Media</em> tab of the <strong>Notes</strong> panel so that all media associated with a dive are visible, including images taken before or after the dive.</p></div></div><div class="sect3"><h4 id="S_ViewMedia">5.5.2. Viewing the media</h4><div class="sidebarblock"><div class="content"><div class="paragraph"><p><strong>Ensuring that thumbnails are created for video files</strong></p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/important.png" alt="Important"/></td><td class="content">Within a panel <em>Subsurface</em> represents media by means of thumbnails (i.e. small versions of images that allows listing many images. For a photograph, a thumbnail can easily be created because the image is well defined. But, since a video comprises many images, the question arises of which image should be used for the thumbnail. Two actions are required to create thumbnails of videos:</td></tr></table></div><div class="ulist"><ul><li><p>The appropriate settings need to be set in the <em>Preferences</em>.</p></li><li><p>The program <em>ffmpeg</em> needs to be installed in the computer that runs Subsurface.</p></li></ul></div><div class="paragraph"><p>Full details are provided in <a href="#S_APPENDIX_F">APPENDIX F</a>.</p></div></div></div><div class="paragraph"><p>After the media have been loaded, they appear in two places:</p></div><div class="ulist"><ul><li><p>the <em>Media</em> tab of the <strong>Notes Panel</strong> (left part of image below).</p></li><li><p>as tiny icons (stubs) on the dive profile at the appropriate positions reflecting the time each photograph or video was taken. To view the media on the dive profile, activate the <em>Toggle media</em> button in the tool bar to the left of the dive profile:</p></li></ul></div><div class="imageblock" style="text-align:left"><div class="content"><img src="/images/icons/ShowPhotos_f20.png" alt="FIGURE:Show photos toolbar button"/></div></div><div class="paragraph"><p>This results in a profile display as in the image below:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LoadImage4.jpg" alt="FIGURE: Media on dive profile"/></div></div><div class="paragraph"><p>Hover the mouse over any of the media stubs. A thumbnail image is shown of the appropriate media. See the image below:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LoadImage5.jpg" alt="FIGURE:Thumbnail photo on dive profile"/></div></div><div class="paragraph"><p>Clicking on the thumbnail brings up a full size photo or video overlaid on the <em>Subsurface</em> window, allowing a good view of the media (see the image below). <strong>Note</strong> that the thumbnail on the dive profile has a small dustbin icon in the bottom right hand corner (see image above). Selecting the dustbin removes the image from the dive. Be careful when clicking on a thumbnail. Images can also be deleted using the <em>Media</em> tab (see text below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LoadImage6_f20.jpg" alt="FIGURE: Full-screen photo on dive profile"/></div></div></div><div class="sect3"><h4 id="_the_em_media_em_tab">5.5.3. The <em>Media</em> tab</h4><div class="paragraph"><p>Media associated with a dive are shown as thumbnails in the <em>Media</em> tab of the <strong>Notes Panel</strong>. Media taken in rapid succession during a dive (therefore sometimes with large overlap on the dive profile) can easily be accessed in the <em>Media</em> tab. This tab serves as a tool for individually accessing the media of a dive, while the stubs on the dive profile show when during a dive when a photo/video was taken. The size of the thumbnails in the <em>Media</em> tab can be changed using the <em>Zoom level</em> slider at the bottom of the panel. Single-click a thumbnail in the <em>Media</em> panel to select a photo/video. Double-click a thumbnail to view the full-sized image or play the video, overlaying the <em>Subsurface</em> window. Delete media from the <em>Media</em> panel by selecting it (single-click) and then by pressing the <em>Del</em> key on the keyboard. This removes it BOTH from the <em>Media</em> tab as well as the dive profile.</p></div></div><div class="sect3"><h4 id="_media_on_an_external_hard_disk">5.5.4. Media on an external hard disk</h4><div class="paragraph"><p>Most underwater photographers store media on an external drive. If such a drive can be mapped by the operating system (almost always the case) the media can be directly accessed by <em>Subsurface</em>. This eases the interaction between <em>Subsurface</em> and an external repository of media. When associating a dive profile with media from an external drive, the normal procedure of selection and synchronization (see text above) is used. After the external drive has been disconnected, <em>Subsurface</em> cannot access these media any more. If the display of media is activated (using the toolbox icon to the left of the <em>Dive Profile</em>), the program shows only the thumbnails and the images cannot be viewed at full-screen size. If the external drive with the media is re-connected, the media can be seen in the normal way.</p></div></div><div class="sect3"><h4 id="_finding_out_which_dives_have_associated_media">5.5.5. Finding out which dives have associated media.</h4><div class="paragraph"><p>Inspecting each individual dive in order to determine whether there are associated media can be time consuming. There is a rapid way of seeing which dives have associated media and which not: activate the <em>Media</em> checkbox in the dropdown list obtained by right-clicking on the header bar of the <strong>Divelist</strong>. In the <strong>Divelist</strong>, all dives with associated media have an icon indicating whether the media were taken during the dive, just before/after the dive or both during and before/after the dive. More information is provided in the section dealing with <a href="#S_Divelist_columns">photo icons on the <strong>Divelist</strong></a>.</p></div></div><div class="sect3"><h4 id="S_FindMovedImages">5.5.6. Moving media among directories, hard disks or computers</h4><div class="paragraph"><p>After a photograph or video has been loaded into <em>Subsurface</em> and associated with a specific dive, <em>Subsurface</em> saves the path to the directory where the media lie as well as the file name of the each photo/video, in order to find it when the dive is opened again. If the media or the whole media collection is moved to another drive or to a different machine, the path to the media changes. Now, <em>Subsurface</em> looks for the photos/videos at their original location before they were moved, cannot find them and cannot display them. Because, after moving media, large numbers of files may need to be deleted and re-imported from the new disk, <em>Subsurface</em> can locate the media based on their filename and path.</p></div><div class="paragraph"><p>This is done by selecting from the Main Menu: <em>File &#8594; Find moved images</em>. This brings up a window within which the searching of the images can be controlled. The search is started by clicking on <em>Select folder and scan</em>. Since recorded during different dive trips might have the same filename, the names of the parent folders are likewise compared. Therefore, the root folder of the NEW picture collection should be chosen. For finer control, it is possible to search only for media of the currently selected dive(s) by selecting the appropriate option.</p></div><div class="paragraph"><p>After the searching has completed, the original filenames and the new locations of the photographs will be shown. The matching parts of the paths are emphasized. Media that are found at their known positions are not listed. The proposed changes can be applied by clicking <em>Apply</em> or rejected by clicking <em>Cancel</em>.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/FindMovedImages1.jpg" alt="FIGURE:Find moved images"/></div></div></div></div><div class="sect2"><h3 id="_logging_special_types_of_dives">5.6. Logging special types of dives</h3><div class="paragraph"><p>This section gives examples of the versatility of <em>Subsurface</em> as a dive logging tool.</p></div><div class="sect3"><h4 id="S_MulticylinderDives">5.6.1. Multicylinder dives</h4><div class="paragraph"><p><em>Subsurface</em> easily handles dives involving more than one cylinder. Multi-cylinder diving usually happens (a) if a diver doesn’t have enough gas for the complete dive in a single cylinder; (b) if a diver needs more than one gas mixture because of the depth or the decompression needs of the dive. For this reason multi-cylinder dives are often used by technical divers who dive deep or long. As far as <em>Subsurface</em> is concerned, there are only two types of information that need to be provided:</p></div><div class="ulist"><ul><li><p><strong>Describe the cylinders used during the dive</strong> This is performed in the <strong>Equipment tab</strong> of the <strong>Info</strong> panel, as <a href="#cylinder_definitions">described above</a>. Enter the cylinders one by one, specifying its size and pressure, as well as the gas composition within it.</p></li><li><p><strong>Record the times at which the switch from one cylinder to another was done:</strong> This is information tracked by some dive computers (provided the diver indicated these changes to the dive computer by pressing specific buttons). If the dive computer does not provide the information, the diver has to record these changes using a different method, e.g. writing it on a slate or by creating a bookmark on the dive computer.</p></li><li><p><strong>Record the cylinder changes on the dive profile</strong>: If the latter option was followed, the diver needs to indicate the gas change event by right-clicking at the appropriate point in time on the <strong>Dive Profile</strong> panel and indicating the cylinder to which the change was made. After right-clicking, follow the context menu to "Add gas change" and select the appropriate cylinder from those defined during the first step, above (see image below). If the <strong>gas bar</strong> button in the toolbar has been activated, the cylinder switches are also indicated in the gas bar (image below).</p></li></ul></div><div class="paragraph"><p>When this is complete, <em>Subsurface</em> indicates the appropriate use of cylinders in the dive profile. Below is a two-cylinder dive, starting off with EAN28, then changing cylinders to EAN50 after 26 minutes for decompression.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/multicylinder_dive.jpg" alt="FIGURE: Multicylinder profile"/></div></div><div class="paragraph"><p>Several dive computers perform automatic recording of cylinder pressure. In this case no manual intervention is needed. Older dive computers (e.g. Uwatec Galileo, several Suunto models) handle more than one pressure transducer on cylinders, switching from one sensor to another as the diver switches among cylinders and providing a sequential record of cylinders pressures during a dive. Some of the latest models (e.g. Shearwater Perdix AI, Scubapro G2) record two or more pressure transducers concurrently and continuously during the whole dive. In these cases <em>Suburface correctly interprets the data. There is continuous effort within the _Subsurface</em> development team to add new dive computer models to those that can be downloaded from and to represent cylinder pressures correctly. Regardless of the type of sensor handling of dive computers, technical divers are likely to use both automated and manual methods of cylinder pressure logging when more than two gases are used. However, automated recording of cylinder pressure simplifies logging of sidemount dives (where two cylinders are used). See the <a href="https://subsurface-divelog.org/documentation/supported-dive-computers/">list of supported dive computers</a>.</p></div></div><div class="sect3"><h4 id="_sidemount_dives">5.6.2. Sidemount dives</h4><div class="paragraph"><p>Sidemount diving is just another form of multi-cylinder diving, often with both or all cylinders having the same gas mixture. Although it’s a popular configuration for cave divers, sidemount diving can be done by recreational divers who have completed the appropriate training. See the comments in the last paragraph, above, about automated recording of cylinder pressures. Manual logging of cylinder pressures during sidemount involves three steps, exactly as with multi-cylinder dives above:</p></div><div class="ulist"><ul><li><p><strong>During the dive, record cylinder switch events</strong>. Since sidemount diving normally involves two cylinders with air or with the same gas mixture, <em>Subsurface</em> distinguishes between these different cylinders. In contrast, many dive computers that allow gas switching only distinguish between different <em>gases</em> used, not among different <em>cylinders</em> used. This means when sidemount dives are downloaded from these dive computers, the switching event between cylinders with the same gas is not downloaded. This may mean that a diver may have to keep a written log of cylinder switch times using a slate, or (if the dive computer has the capability) marking each cylinder switch with a bookmark that can be retrieved later. Returning from a dive with the times of cylinder changes is the only tedious part of logging sidemount dives.</p></li><li><p><strong>Within <em>Subsurface</em> describe the cylinders used during the dive</strong>. The diver needs to provide the specifications of the different cylinders, using the <strong>Equipment</strong> tab of the <strong>Info Panel</strong> (see image below where two 12 litre cylinders were used).</p></li><li><p><strong>Indicate cylinder change events on the <em>Subsurface</em> dive profile</strong>. Once the dive log has been imported from a dive computer into <em>Subsurface</em>, the cylinder switch events need to be shown on the dive profile. Cylinder changes are recorded by right-clicking at the appropriate point on the dive profile, then selecting <em>Add gas change</em>. A list of the appropriate cylinders is shown with the currently used cylinder greyed out. In the image below Tank 1 is greyed out, leaving only Tank 2 to be selected. Select the appropriate cylinder. The cylinder change is then shown on the dive profile with a cylinder symbol. If the <strong>gas bar</strong> is activated using the toolbar to the left of the profile, then the cylinder change is also shown on the gas bar (see image below). After all the cylinder change events have been recorded on the dive profile, the correct cylinder pressures for both cylinders are shown on the dive profile, as in the image below.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/sidemount1.jpg" alt="FIGURE: Sidemount profile"/></div></div></div><div class="sect3"><h4 id="S_sSCR_dives">5.6.3. Passive semi-closed circuit rebreather (pSCR) dives</h4><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/halcyon_RB80.jpg" alt="Note"/></td><td class="content">Passive semi-closed rebreathers (pSCR) are a technical advance in diving equipment that recirculates the breathing gas a diver uses, while removing carbon dioxide from the exhaled gas. While a small amount (typically a tenth) of the exhaled breathing gas is released into the water, a small amount of fresh gas is released from the driving gas cylinder. A diver using a single cylinder of breathing gas can therefore dive for much longer periods than using a recreational open-circuit configuration. With pSCR equipment, a very small amount of breathing gas is released every time the diver inhales. With active SCR (aSCR) equipment, in contrast, a small amount of breathing gas is released continuously from the driving cylinder.</td></tr></table></div><div class="paragraph"><p>To log pSCR dives, no special procedures are required. Use the normal steps outlined above:</p></div><div class="ulist"><ul><li><p>Select pSCR in the <em>Dive Mode</em> dropdown list on the <strong>Info</strong> panel.</p></li><li><p>pSCR diving often involves gas changes, requiring an additional cylinder. Define all the appropriate cylinders as described above and indicate the cylinder/gas changes as described above in the section on <a href="#S_MulticylinderDives">multicylinder dives</a>.</p></li></ul></div><div class="paragraph"><p>In pSCR diving, the inspired gas often has a pO<sub>2</sub> below that of the fresh gas from cylinder. This is because fresh gas is only supplied at a slow rate and the diver continuously uses oxygen from the loop for metabolism, resulting in the so-called "pO<sub>2</sub> drop over the mouthpiece". For pSCR dive profiles the dive ceiling is adjusted for this oxygen drop, and often requires longer decompression periods. Below is a dive profile of a pSCR dive using EAN36 as bottom gas and oxygen for decompression. Note that this dive lasted over two hours.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/pSCR_profile.jpg" alt="FIGURE: pSCR profile"/></div></div><div class="paragraph"><p><em>Visualising the pO<sub>2</sub> drop</em>: The difference between the pO<sub>2</sub> of the fresh cylinder gas and the pO<sub>2</sub> in the loop can be visualised in <em>Subsurface</em> by opening the <em>Profile</em> panel in the <em>File &#8594; Preferences</em> menu item and then providing suitable information in the section labelled <em>pSCR options</em>. The <em>pSCR metabolic rate</em> is your rate of oxygen metabolism in liters/min (commonly between 0.5 and 2.5). The <em>Dilution ratio</em> is the ratio indicating how much gas in the loop is replaced with fresh gas, relative to the gas being breathed (common values are between 1:3 and 1:10). These values are also used when planning pSCR dives. If the oxygen content of the loop is not recorded by an oxygen sensor, <em>Subsurface</em> estimates the pO<sub>2</sub> in the loop using the information supplied above. This pO<sub>2</sub> is shown as the green line representing the oxygen partial pressure in the dive profile. If the oxygen pressure in the loop is measured using an oxygen sensor connected to a dive computer, this information is probably recorded by the dive computer and these measured pO<sub>2</sub> values are shown on the dive profile. In addition, the <em>Preferences</em> panel allows one to activate a checkbox labelled <em>Show equivalent OC pO<sub>2</sub> with pSCR pO<sub>2</sub></em>. This activates display of the pO<sub>2</sub> in the fresh gas from the cylinder (an orange line). The vertical distance between the orange graph and the green graph indicates the "pO<sub>2</sub> drop over the mouthpiece". Much of pSCR diving involves managing this pO<sub>2</sub> difference.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/DiveModeChange.jpg" alt="Note"/></td><td class="content"><em>pSCR and bailout</em>: Gases used in pSCR often yield very low pO<sub>2</sub> values in shallow water. For this reason the diver often completes the shallow sections of a dive using open circuit (OC) rather than the rebreather. In this case parts of the dive are performed OC, while the rest of the dive is performed on the pSCR loop. To indicate such changes in divemode, right-click on the dive profile at the appropriate time. From the context menu, select <em>Change divemode</em> and choose the appropriate option (see image on left). Some dive computers record such changes in divemode as part of the dive log. The appropriate icon is shown on the depth profile (see image below). Below is a pSCR dive with the shallow sections using OC. An OC divemode was entered right at the start, followed by a change to pSCR at 18m. During the ascent, there was a bailout to OC at 14m. Note, for the OC sections, the pO<sub>2</sub> is identical to the OC-pO<sub>2</sub> whereas for the pSCR section, the pO<sub>2</sub> (green line) differs from the OC-pO<sub>2</sub> (orange line).</td></tr></table></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/pSCR_profile_bailout.jpg" alt="FIGURE: pSCR profile with bailout"/></div></div></div><div class="sect3"><h4 id="S_CCR_dives">5.6.4. Closed circuit rebreather (CCR) dives</h4><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/APD.jpg" alt="Note"/></td><td class="content">Closed system rebreathers also recirculate gas that has been breathed. However, they use advanced technology to maintain a breathable oxygen concentration: a) remove carbon dioxide from the exhaled gas. b) regulate the oxygen concentration to remain within safe diving limits. The CCR interface of <em>Subsurface</em> is currently experimental and under active development. Subsurface currently supports Poseidon MkVI and APD Discovery/Evolution dive computers, as well as Shearwater dive computers connected to CCR systems. In contrast to a conventional recreational dive computer, a CCR system computer usually does not allow the download of a log containing multiple dives. Rather, each dive is stored independently. This means that <em>Subsurface</em> cannot download a dive log directly from a CCR dive computer, but that it imports individual CCR dive profiles in the same way it imports dive log data from other digital databases: one dive at a time. However, the Shearwater based CCR systems are different in this respect and allow multi-dive downloads.</td></tr></table></div><div class="sect4"><h5 id="_import_a_ccr_dive">Import a CCR dive</h5><div class="paragraph"><p>For Shearwater CCR controllers, or independent Shearwater CCR logs, just download the dive log as would be the case for non-CCR dives. <em>Subsurface</em> interprets the CCR dive log correctly. Except for Shearwater CCR dive computers, CCR dive data are currently obtained from the proprietary software provided when purchasing CCR dive equipment. See the section dealing with <a href="#S_ImportingAlienDiveLogs">Importing dive information from other digital sources</a> and <a href="#_appendix_b_dive_computer_specific_information_for_importing_dive_information">Appendix B</a> for more complete information. Use that software to download the dive data into a known directory. From the main menu of <em>Subsurface</em>, select <em>Import &#8594; Import log files</em> to bring up the <a href="#Unified_import">universal import dialogue</a>. As explained in that section, the bottom right hand of the import dialogue contains a dropdown list (labeled <em>Filter:</em>) of appropriate devices that currently include (Poseidon) MkVI or APD log viewer files. Import for other CCR equipment is under active development. Having selected the appropriate CCR format and the directory where the original dive logs have been stored from the CCR dive computer, select a particular dive log file (in the case of the MkVI it is a file with a .txt extension). After selecting the appropriate dive log, click the <em>Open</em> button at the bottom right hand of the universal import dialogue. The selected dive is imported to the <em>Subsurface</em> dive list.</p></div></div><div class="sect4"><h5 id="_displayed_information_for_a_ccr_dive">Displayed information for a CCR dive</h5><div class="paragraph"><p><em>Partial pressures of gases</em>: The graph of oxygen partial pressure shows the information from the oxygen sensors of the CCR equipment. In contrast to recreational equipment (where pO<sub>2</sub> values are calculated based on gas composition and dive depth), CCR equipment provide actual measurements of pO<sub>2</sub>, derived from oxygen sensors. In this case the graph for oxygen partial pressure should be fairly flat, reflecting the setpoint settings during the dive. The mean pO<sub>2</sub> is NOT the mean oxygen partial pressure as given by the CCR equipment, but a value calculated by <em>Subsurface</em> as follows:</p></div><div class="ulist"><ul><li><p>For TWO O<sub>2</sub> sensors the mean value of the two sensors are given.</p></li><li><p>For THREE-sensor systems (e.g. APD), the mean value is also used. However differences of more than 0,1 bar in the simultaneous readings of different sensors are treated as false. If one of the three sensors provides false data, it is ignored.</p></li><li><p>If no sensor data are available, the pO<sub>2</sub> value is assumed to be equal to the setpoint.</p></li></ul></div><div class="paragraph"><p>The mean pO<sub>2</sub> of the sensors is indicated with a green line,</p></div><div class="paragraph"><p>The oxygen setpoint values as well as the readings from the individual oxygen sensors can be shown. The display of additional CCR information is turned on by checking the appropriate boxes in the <em>Preferences</em> panel (accessible by selecting <a href="#S_CCR_options"><em>File &#8594; Preferences &#8594; Profile</em></a>). This part of the <em>Preferences</em> panel is shown in the image below, representing two checkboxes that modify the display of pO<sub>2</sub> when the appropriate toolbar button on the Dive Profile has been checked.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/CCR_preferences_f20.jpg" alt="FIGURE: CCR preferences panel"/></div></div><div class="paragraph"><p>Checking any of these boxes allows the display of additional oxygen-related information whenever the pO<sub>2</sub> toolbar button on the <em>Profile</em> panel is activated. The first checkbox allows the display of setpoint information. This is an orange line superimposed on the green oxygen partial pressure graph and allows a comparison of the mean measured oxygen partial pressure and the setpoint values, as shown below.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/CCR_setpoint_f20.jpg" alt="FIGURE: CCR setpoint and pO~2~ graph"/></div></div><div class="paragraph"><p>The second checkbox allows the display of the data from each individual oxygen sensor of the CCR equipment. The data for each sensor is color-coded as follows:</p></div><div class="ulist"><ul><li><p>Sensor 1: grey</p></li><li><p>Sensor 2: blue</p></li><li><p>Sensor 3: brown</p></li></ul></div><div class="paragraph"><p>The mean oxygen pO<sub>2</sub> is indicated by the green line. This allows the direct comparison of data from each of the oxygen sensors, useful for detecting abnormally low or erratic readings from a particular sensor.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/CCR_sensor_data_f20.jpg" alt="FIGURE: CCR sensor data graph"/></div></div><div class="paragraph"><p>The setpoint data can be overlaid on the oxygen sensor data by activating both of the above check boxes. Partial pressures for nitrogen (and helium, if applicable) are shown in the usual way as for open circuit dives.</p></div><div class="paragraph"><p><em>Events</em>: Several events are logged, e.g. switching the mouthpiece to open circuit. These events are indicated by yellow triangles and, if you hover over a triangle, a description of that event is given as the bottom line in the <a href="#S_InfoBox">Information Box</a>.</p></div><div class="paragraph"><p><em>Bailout</em>: Bailout events during a CCR dive can be recorded in a <em>Subsurface</em> divelog. Right-click on the dive profile to generate a dive profile context menu. Select <em>Change divemode</em> and choose the appropriate bailout option (probably OC). An appropriate icon is shown on the depth profile (see image below). In most CCR equipment it is also possible to bailout to pSCR, especially in cases where the electronics died and the diluent supply is limited. This can also be reflected in the dive log and Subsurface will calculate and graph the appropriate pO<sub>2</sub> values. The case during CCR training is more complex if the instructor prefers a low setpoint such as 0.7 to be maintained during bailout. In this case the CCR equipment maintains the low setpoint and overrides the OC or pSCR conditions. In such cases it is probably more accurate not to record a bailout event in the dive log since <em>Subsurface</em> will calculate pO<sub>2</sub> values based on the erroneous assumption that there is no setpoint. Below is a dive profile for a CCR dive with bailout at 57 minutes. In this profile the green pO<sub>2</sub> graph diverges from the setpoint value and reflects the pO<sub>2</sub> in the OC diluent gas (in this case air). The pO<sub>2</sub> in the loop (shown as a meandering graph for each oxygen sensor) is irrelevant because the actual inspired gas comes directly from the diluent cylinder. In cases where bailout occurs using a stage cylinder, indicate the bailout as well as the gas change event and <em>Subsurface</em> will calculate all the appropriate pO<sub>2</sub> values. Some dive computers record bailout events as well as gas change events: in this case the events are shown automatically in the dive log.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/CCR_bailout.jpg" alt="FIGURE: CCR bailout profileh"/></div></div><div class="paragraph"><p><em>Deco ceiling</em>: The deco ceiling calculated by Subsurface is not very accurate because the precise pressure of nitrogen in the loop can usually not be determined from the dive log imported from the CCR equipment. Many CCR dive computers, however, report an internally-calculated deco ceiling that is reported in the dive log, reflecting a more accurate assessment. The display of this ceiling is activated by clicking the appropriate button to the left of the dive profile:</p></div><div class="imageblock"><div class="content"><img src="/images/icons/cceiling.jpg" alt="DC ceiling icon"/></div></div><div class="paragraph"><p>The default color of the computer-generated deco ceiling is white. This can be set to red by checking the appropriate check box after selecting <em>File &#8594; Preferences &#8594; Profile</em>. The profile above indicates the dive computer-generated deco ceiling in red.</p></div><div class="paragraph"><p><em>Cylinder pressures</em>: Some CCR dive computers like Poseidon record the pressures of the oxygen and diluent cylinders. The pressures of these two cylinders are shown as green lines overlapping the depth profile. In addition, start and end pressures for both oxygen and diluent cylinders are shown in the <em>Equipment Tab</em>. Below is a dive profile for a CCR dive, including an overlay of setpoint and oxygen sensor data, as well as the cylinder pressure data. In this case there is agreement from the readings of the two oxygen sensors.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/CCR_dive_profile_f22.jpg" alt="FIGURE: CCR dive profile"/></div></div><div class="paragraph"><p><em>Equipment-specific information</em>: Equipment-specific information gathered by <em>Subsurface</em> is shown in the <a href="#S_ExtraDataTab">Extra data tab</a>. This may include setup information or metadata about the dive.</p></div><div class="paragraph"><p>More equipment-specific procedures and information for downloading CCR dive logs for Poseidon and APD equipment can be found in <a href="#_appendix_b_dive_computer_specific_information_for_importing_dive_information">Appendix B</a>.</p></div></div></div></div></div></div><div class="sect1"><h2 id="_obtaining_more_information_about_dives_entered_into_the_logbook">6. Obtaining more information about dives entered into the logbook</h2><div class="sectionbody"><div class="sect2"><h3 id="_using_the_dive_map_to_obtain_more_dive_information">6.1. Using the Dive Map to obtain more dive information</h3><div class="paragraph"><p>The Dive Map has a number of buttons useful for manipulation several aspects of a dive. These are:</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/MapViewMode.jpg" alt="Note"/></td><td class="content">Select this button to show the Dive Map as a satellite image or as a Google Maps representation.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/MapViewPlus.jpg" alt="Note"/></td><td class="content">Zoom in. Select a smaller area of the map.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/MapViewMinus.jpg" alt="Note"/></td><td class="content">Zoom out. Select a larger area of the map.</td></tr></table></div><div class="imageblock" style="text-align:left"><div class="content"><img src="/images/MapMenu.jpg" alt="FIGURE: Map menu"/></div></div><div class="paragraph"><p>The "Hamburger" button on the top right-hand of the Dive Map activates the Map menu. The items are:</p></div><div class="ulist"><ul><li><p>Open location in <em>Google Maps</em>. Open the location of the active dive in a separate Google Maps window with the dive site indicated by a Google Maps teardrop marker.</p></li><li><p>Copy location to clipboard (decimal). Copy the coordinates of the active dive to the clipboard in decimal degrees e.g. -25.933905 30.710572</p></li><li><p>Copy location to clipboard (sexagesimal). Copy the coordinates of the active dive to the clipboard in sexagecimal, e.g. 25°56&#8217;02.058"S 30°42&#8217;38.059"E</p></li><li><p>Select visible dive locations. In the Dive List panel, highlight all the dive sites visible in the Dive Map. This allows easy selection of the dives within a particular geographical area to inspect them or to calculate statistics for them.</p></li></ul></div></div><div class="sect2"><h3 id="_the_strong_info_strong_tab_for_individual_dives">6.2. The <strong>Info</strong> tab (for individual dives)</h3><div class="paragraph"><p>The Info tab gives some summary information about a particular dive that has been selected in the <strong>Dive List</strong>. Useful information here includes the surface interval before the dive, the maximum and mean depths of the dive, the gas volume consumed, the surface air consumption (SAC) and the number of oxygen toxicity units (OTU) incurred.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/info.jpg" alt="Note"/></td><td class="content">Gas consumption and SAC calculations: <em>Subsurface</em> calculates SAC and Gas consumption taking in account gas incompressibility, particularly at tank pressures above 200 bar, making them more accurate. Refer to <a href="#SAC_CALCULATION">Appendix F</a> for more information.</td></tr></table></div></div><div class="sect2"><h3 id="S_ExtraDataTab">6.3. The <strong>Extra Data</strong> tab (usually for individual dives)</h3><div class="paragraph"><p>When using a dive computer, it often reports several data items that cannot easily be presented in a standardised way because the nature of the information differs from one dive computer to another. These data often comprise setup information, metadata about a dive, battery levels, no fly times, or gradient factors used during the dive. When possible, this information is presented in the <strong>Extra Data</strong> tab. Below is an image showing extra data for a dive using a Poseidon rebreather.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/ExtraDataTab_f20.jpg" alt="FIGURE: Extra Data tab"/></div></div></div><div class="sect2"><h3 id="_the_strong_stats_strong_tab_for_groups_of_dives">6.4. The <strong>Stats</strong> tab (for groups of dives)</h3><div class="paragraph"><p>The Stats tab gives summary statistics for more than one dive, assuming that more than one dive has been selected in the <strong>Dive List</strong> using the standard Ctrl-click or Shift-click of the mouse. If only one dive has been selected, figures for only that dive are given. This tab shows the number of dives selected, the total amount of dive time in these dives, as well as the minimum, maximum and mean for the dive duration, water temperature and surface air consumption (SAC). It also shows the depth of the shallowest and deepest dives of those selected.</p></div></div><div class="sect2"><h3 id="S_DiveProfile">6.5. The <strong>Dive Profile</strong></h3><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Profile2.jpg" alt="Typical dive profile"/></div></div><div class="paragraph"><p>Of all the panels in <em>Subsurface</em>, the Dive Profile contains the most detailed information about each dive. The Dive Profile has a <strong>button bar</strong> on the left hand side, allowing control of several display options. The functions of these buttons are described below. The main item in the Dive Profile is the graph of dive depth as a function of time. In addition to depth, it also shows the ascent and descent rates compared to the recommended speed of going up or down in the water column. This information is given using different colors:</p></div><div class="tableblock"><table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4"><col width="33%"/><col width="33%"/><col width="33%"/><tbody><tr><td align="left" valign="top"><p class="table"><strong>Color</strong></p></td><td align="left" valign="top"><p class="table"><strong>Descent speed (m/min)</strong></p></td><td align="left" valign="top"><p class="table"><strong>Ascent speed (m/min)</strong></p></td></tr><tr><td align="left" valign="top"><p class="table">Red</p></td><td align="left" valign="top"><p class="table">&gt; 30</p></td><td align="left" valign="top"><p class="table">&gt; 18</p></td></tr><tr><td align="left" valign="top"><p class="table">Orange</p></td><td align="left" valign="top"><p class="table">18 - 30</p></td><td align="left" valign="top"><p class="table">9 - 18</p></td></tr><tr><td align="left" valign="top"><p class="table">Yellow</p></td><td align="left" valign="top"><p class="table">9 - 18</p></td><td align="left" valign="top"><p class="table">4 - 9</p></td></tr><tr><td align="left" valign="top"><p class="table">Light green</p></td><td align="left" valign="top"><p class="table">1.5 - 9</p></td><td align="left" valign="top"><p class="table">1.5 - 4</p></td></tr><tr><td align="left" valign="top"><p class="table">Dark green</p></td><td align="left" valign="top"><p class="table">&lt; 1.5</p></td><td align="left" valign="top"><p class="table">&lt; 1.5</p></td></tr></tbody></table></div><div class="paragraph"><p>The profile also includes depth readings for the peaks and troughs in the graph. So users should see the depth of the deepest point and other peaks. Mean depth is plotted as a grey line, indicating mean dive depth up to a particular moment during the dive.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/scale.jpg" alt="Note"/></td><td class="content">In some cases the dive profile does not fill the whole area of the <strong>Dive Profile</strong> panel. Clicking the <strong>Scale</strong> button in the toolbar on the left of the dive profile increases the size of the dive profile to fill the area of the panel.</td></tr></table></div><div class="paragraph"><p><strong>Water temperature</strong> is shown as a blue line with temperature values placed adjacent to significant changes.</p></div><div class="sect3"><h4 id="S_InfoBox">6.5.1. The <strong>Information Box</strong></h4><div class="paragraph"><p>The Information box displays a large range of information about the dive profile. Normally the Information Box is located to the top left of the <strong>Dive Profile</strong> panel. The Information Box can be moved around in the <strong>Dive Profile</strong> panel by click-dragging it with the mouse so that it is not obstructing important detail. The position of the Information Box is saved and used again during subsequent dive analyses.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/InfoBox2.jpg" alt="Figure: Information Box"/></div></div><div class="paragraph"><p>When the mouse points inside the <strong>Dive Profile</strong> panel, the information box expands and shows many data items. In this situation, the data reflect the time point along the dive profile shown by the mouse cursor (see right-hand part of figure (<strong>B</strong>) above where the Information Box reflects the situation at the position of the cursor [arrow] in that image). Moving the cursor horizontally lets the Information Box show information for any point along the dive profile. It gives extensive statistics about depth, gas and ceiling characteristics of the particular dive. These include: Time period into the dive (indicated by a @), depth, cylinder pressure (P), temperature, ascent/descent rate, surface air consumption (SAC), oxygen partial pressure, maximum operating depth, equivalent air depth (EAD), equivalent narcotic depth (END), equivalent air density depth (EADD, also as gas density in g/l), decompression requirements at that instant in time (Deco), time to surface (TTS), the calculated ceiling, as well as of the statistics in the Information Box, shown as four buttons on the left of the profile panel. These are:</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/MOD.jpg" alt="Note"/></td><td class="content">Show the <strong>Maximum Operating Depth (MOD)</strong> of the dive, given the gas mixture used. MOD is dependent on the oxygen concentration in the breathing gas. For air (21% oxygen) it is around 57 m if a maximum pO<sub>2</sub> of 1.4 is specified in the <strong>Preferences</strong> section (select <em>File &#8594; Preferences &#8594; Profile</em> and edit the text box <em>pO<sub>2</sub> in calculating MOD</em>. When diving below the MOD there is a markedly increased risk of exposure to the dangers of oxygen toxicity.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/NDL.jpg" alt="Note"/></td><td class="content">Show either the <strong>No-deco Limit (NDL)</strong> or the <strong>Total Time to Surface (TTS)</strong>. NDL is the time duration that a diver can continue with a dive, given the present depth, that does not require decompression (that is, before an ascent ceiling appears). Once a diver has exceeded the NDL and decompression is required (that is, there is an ascent ceiling above the diver) then TTS gives the number of minutes required before the diver can surface. TTS includes ascent time as well as decompression time. Even if the profile contains several gas switches, TTS at a specific moment during the dive is calculated using the current gas. TTS longer than 2 hours is not accurately calculated and Subsurface only indicates <em>TTS &gt; 2h</em>.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/SAC.jpg" alt="Note"/></td><td class="content">Show the <strong>Surface Air Consumption (SAC)</strong>, an indication of the surface-normalized respiration rate of a diver. The value of SAC is less than the real respiration rate because a diver at 10m uses breathing gas at a rate roughly double that of the equivalent rate at the surface. SAC gives an indication of breathing gas consumption rate independent of the depth of the dive, so the respiratory rates of different dives can be compared. The units for SAC is liters/min or cubic ft/min.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/EAD.jpg" alt="Note"/></td><td class="content">Show the <strong>Equivalent Air Depth (EAD)</strong> for nitrox dives as well as the <strong>Equivalent Narcotic Depth (END)</strong> for trimix dives. These are important to divers breathing gases other than air. Their values are dependent on the composition of the breathing gas. The EAD is the depth of a hypothetical air dive that has the same partial pressure of nitrogen as the current depth of the nitrox dive at hand. A nitrox dive leads to the same decompression obligation as an air dive to the depth equaling the EAD. The END is the depth of a hypothetical air dive that has the same sum of partial pressures of the narcotic gases nitrogen and oxygen as the current trimix dive. A trimix diver can expect the same narcotic effect as a diver breathing air diving at a depth equaling the END.</td></tr></table></div><div class="paragraph"><p>If at some point a isobaric counter diffusion situation is encountered in the leading tissue (defined to be a moment in time where helium is off-gassing while nitrogen is on-gassing and the net effect is on-gassing) this is indicated in the infobox as well. Note that this condition not only depends on the gas that is currently breathed but on the tissue loadings as well.</p></div><div class="paragraph"><p>Figure (<strong>B</strong>) above shows an information box with a nearly complete set of data.</p></div><div class="sect4"><h5 id="S_gas_pressure_graph">The Gas Pressure Bar Graph</h5><div class="paragraph"><p>On the left of the <strong>Information Box</strong> is a vertical bar graph showing the pressures of the nitrogen (and other inert gases, e.g. helium, if applicable) that the diver was inhaling <em>at a particular instant during the dive</em>, shown by the position of the cursor on the <strong>Dive Profile</strong>. The drawing on the left below indicates the meaning of the different parts of the Gas Pressure Bar Graph.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/GasPressureBarGraph.jpg" alt="FIGURE:Gas Pressure bar Graph"/></div></div><div class="ulist"><ul><li><p>The light green area indicates the gas pressure, with the top margin of the light green area showing the total gas pressure of ALL gases inhaled by the diver and measured from the bottom of the graph to the top of the light green area. This pressure has a <em>relative</em> value in the graph and does not indicate absolute pressure.</p></li><li><p>The horizontal black line underneath the light green margin indicates the equilibrium pressure of the INERT gases inhaled by the diver, usually nitrogen. In the case of trimix, it is the pressures of nitrogen and helium combined. In this example, the user is diving with EAN32, so the equilibrium inert gas pressure is 68% of the distance from the bottom of the graph to the total gas pressure value.</p></li><li><p>The dark green area at the bottom of the graph represents the pressures of inert gas in each of the 16 tissue compartments, following the Bühlmann algorithm, with fast tissues on the left hand side.</p></li><li><p>The top black horizontal line indicates the inert gas pressure limit determined by the gradient factor that applies to the depth of the diver at the particular point on the <strong>Dive Profile</strong>. The gradient factor shown is an interpolation between the GFLow and GFHigh values specified in the <em>Profile</em> tab of the <strong>Preferences Panel</strong> of <em>Subsurface</em>.</p></li><li><p>The bottom margin of the red area in the graph indicates the Bühlman-derived M-value. That is the pressure value of inert gases at which bubble formation is expected to be severe, resulting in a significant risk of decompression sickness.</p></li></ul></div><div class="paragraph"><p>These five values are shown on the left in the image above. The way the Gas Pressure Bar Graph changes during a dive can be seen on the right hand side of the above figure for a diver using EAN32.</p></div><div class="ulist"><ul><li><p>Graph <strong>A</strong> indicates the start of a dive with the diver at the surface. The pressures in all the tissue compartments are still at the surface equilibrium pressure because no diving has taken place.</p></li><li><p>Graph <strong>B</strong> indicates the situation after a descent to 30 meters. Few of the tissue compartments have had time to respond to the descent, so their gas pressures are far below the equilibrium gas pressure.</p></li><li><p>Graph <strong>C</strong> represents the pressures after 30 minutes at 30 m. The fast compartments have attained equilibrium (i.e. they have reached the height of the black line indicating the equilibrium pressure). The slower compartments (towards the right) have not reached equilibrium and are in the process of slowly increasing in pressure.</p></li><li><p>Graph <strong>D</strong> shows the pressures after ascent to a depth of 4.5 meters. Since during ascent the total inhaled gas pressure has decreased strongly from 4 bar to 1.45 bar, the pressures in the different tissue compartments now exceed that of the total gas pressure and approach the gradient factor value (i.e. the top black horizontal line). Further ascent will result in exceeding the gradient factor value (GFHigh), endangering the diver.</p></li><li><p>Graph <strong>E</strong> indicates the situation after remaining at 4.5 meters for 10 minutes. The fast compartments have decreased in pressure. As expected, the pressures in the slow compartments have not changed much. The pressures in the fast compartments do not approach the GFHigh value any more and the diver is safer than in the situation indicated in graph <strong>D</strong>.</p></li></ul></div></div></div><div class="sect3"><h4 id="_computer_reported_events_during_dive">6.5.2. Computer-reported events during dive</h4><div class="paragraph"><p>Many dive computers record events during a dive. For instance, most dive computers report alarms relating to high partial pressures of oxygen, to rapid ascents or the exceeding of no-deco limits (NDL). On the other hand, other events are classified as warnings and, for instance, occur when the remaining gas in a cylinder falls below a predetermined limit, a deep stop needs to be performed or the need to change gas during multicylinder dives. Some dive computers also report notifications, e.g. when a safety stop is initiated or terminated or when a predetermined amount of OTUs have been incurred. The alarms, warnings and notifications differs from one dive computer to another: some dive computers do not report any of the above events, while others provide an extensive log of events. The reporting of events is therefore a function of the dive computer used. In addition, <em>Subsurface</em> does not always have the ability to detect all the events reported by a specific dive computer.</p></div><div class="paragraph"><p>Events are indicated by symbols on the dive profile. Notifications are shown as a white, round symbol with a letter <em>i</em>; warnings are indicated by a yellow triangle and alarms by a red triangle. By moving the cursor over a symbol, the explanation is given in the bottom-most line of the <em>Information Box</em> (see image below, where the cursor is positioned over the alarm that was reported).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/profile_symbols.jpg" alt="FIGURE: Profile notification symbols"/></div></div><div class="paragraph"><p>Some dive computers report <em>bookmarks</em> that the diver has set during the dive. These are indicated as a small red flag on the profile and are discussed more fully in the section on <a href="#S_Bookmarks"><em>inserting bookmarks</em></a>.</p></div></div><div class="sect3"><h4 id="_the_profile_toolbar">6.5.3. The Profile Toolbar</h4><div class="paragraph"><p>The dive profile can include graphs of the <strong>partial pressures</strong> of O<sub>2</sub>, N<sub>2</sub>, and He during the dive (see figure above) as well as a calculated and dive computer reported deco ceilings (only visible for deep, long, or repetitive dives). Partial pressures of oxygen are indicated in green, nitrogen in black, and helium in dark red. These partial pressure graphs are shown below the profile data.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/O2.jpg" alt="Note"/></td><td class="content">Show the partial pressure of <strong>oxygen</strong> during the dive. This is shown below the dive depth and water temperature graphs.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/N2.jpg" alt="Note"/></td><td class="content">Show the partial pressure of <strong>nitrogen</strong> during the dive.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/He.jpg" alt="Note"/></td><td class="content">Display of the partial pressure of <strong>helium</strong> during the dive. This is only important to divers using Trimix, Helitrox or similar breathing gases.</td></tr></table></div><div class="paragraph"><p>The <strong>air consumption</strong> graph displays the tank pressure and its change during the dive. The air consumption takes depth into account so that even when manually entering the start and end pressures the graph, is not a straight line. Like the depth graph, the slope of the tank pressure provides information about the momentary SAC rate (Surface Air Consumption) when using an air integrated dive computer. Here the color coding is not relative to some absolute values but relative to the mean normalized air consumption during the dive. So areas in red or orange indicate times of increased normalized air consumption while dark green reflects times when the diver was using less gas than average.</p></div><div class="paragraph"><p>When in planner mode, the SAC is set to be constant during the bottom part of the dive as well during decompression. Therefore, when planning a dive, the color is a representation of the breathing gas density.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/Heartbutton.png" alt="Note"/></td><td class="content">Clicking on the heart rate button allows display of heart rate information during the dive if the dive computer was attached to a heart rate sensor.</td></tr></table></div><div class="paragraph"><p>It is possible to <strong>zoom</strong> into the profile graph. This is done either by using the scroll wheel / scroll gesture of the mouse or trackpad. By default <em>Subsurface</em> always shows a profile area large enough for at least 30 minutes and 30m (100ft) – this way short or shallow dives are easily recognizable; something free divers won’t care about.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/MeasuringBar.png" alt="FIGURE: Measuring Bar"/></div></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/ruler.jpg" alt="Note"/></td><td class="content">Measurements of <strong>depth or time differences</strong> can be achieved by using the <strong>ruler button</strong> on the left of the dive profile panel. The measurement is done by dragging the red dots to the two points on the dive profile that you wish to measure. Information is then given in the horizontal white area underneath the two red dots.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/ShowPhotos.png" alt="Note"/></td><td class="content">Photographs and videos that have been added to a dive can be shown on the profile by selecting the <strong>Show-media</strong> button. The position of a photo or video on the profile shows the exact time when it was taken. The runtime of videos is represented by a bar if <em>Subsurface</em> was able to extract this information from the video file. If this button is not active, the media are hidden.</td></tr></table></div><div class="paragraph"><p>The profile can also include the dive computer reported <strong>ceiling</strong> (more precisely, the deepest deco stop that the dive computer calculated for each particular moment in time) as a red overlay on the dive profile. Ascent ceilings occur when a direct ascent to the surface increases the risk of a diver suffering from decompression sickness (DCS) and it is necessary to either ascend slower or to perform decompression stop(s) before ascending to the surface. Not all dive computers record this information and make it available for download; for example none of the Suunto dive computers make these data available to divelog software. <em>Subsurface</em> also calculates ceilings independently, shown as a green overlay on the dive profile. Because of the differences in algorithms used and amount of data available (and other factors taken into consideration at the time of the calculation) it’s unlikely that ceilings from dive computers and from <em>Subsurface</em> are the same, even if the same algorithm and <em>gradient factors</em> (see below) are used. It’s also quite common that <em>Subsurface</em> calculates a ceiling for non-decompression dives when the dive computer stayed in non-deco mode during the whole dive (represented by the <span class="green">dark green</span> section in the profile at the beginning of this section). This is because <em>Subsurface’s</em> calculations describe the deco obligation at each moment during a dive, while dive computers usually take the upcoming ascent into account. During the ascent some excess nitrogen (and possibly helium) are already breathed off so even though the diver technically encountered a ceiling at depth, the dive still does not require a specific deco stop. This feature lets dive computers offer longer non-stop bottom times.</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/cceiling.jpg" alt="Note"/></td><td class="content">If the dive computer itself calculates a ceiling and makes it available to <em>Subsurface</em> during upload of dives, this can be shown as a red area by checking <strong>Dive computer reported ceiling</strong> button on the Profile Panel.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/ceiling1.jpg" alt="Note"/></td><td class="content">If the <strong>Calculated ceiling</strong> button on the Profile Panel is clicked, then a ceiling, calculated by <em>Subsurface</em>, is shown in green if it exists for a particular dive (<strong>A</strong> in figure below). This setting can be modified in two ways:</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/ceiling2.jpg" alt="Note"/></td><td class="content">If, in addition, the <strong>show all tissues</strong> button on the Profile Panel is clicked, the ceiling is shown for the tissue compartments following the Bühlmann model (<strong>B</strong> in figure below).</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/ceiling3.jpg" alt="Note"/></td><td class="content"><div class="paragraph"><p>If, in addition, the <strong>3m increments</strong> button on the Profile Panel is clicked, then the ceiling is indicated in 3 m increments (<strong>C</strong> in figure below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Ceilings2.jpg" alt="Figure: Ceiling with 3m resolution"/></div></div><div class="paragraph"><p>Gradient Factor settings strongly affect the calculated ceilings and their depths. For more information about Gradient factors, see the section on <a href="#GradientFactors_Ref">Gradient Factor Preference settings</a>. The currently used gradient factors (e.g. GF 35/75) are shown above the depth profile if the appropriate toolbar buttons are activated. N.B.: The indicated gradient factors are NOT the gradient factors in use by the dive computer, but those used by Subsurface to calculate deco obligations during the dive. For more information external to this manual see:</p></div><div class="ulist"><ul><li><p><a href="http://www.tek-dive.com/portal/upload/M-Values.pdf">Understanding M-values by Erik Baker, <em>Immersed</em> Vol. 3, No. 3.</a></p></li><li><p><a href="http://www.rebreatherworld.com/general-and-new-to-rebreather-articles/5037-gradient-factors-for-dummies.html">Gradient factors for dummies, by Kevin Watts</a></p></li></ul></div></td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/ShowCylindersButton.jpg" alt="Note"/></td><td class="content">By selecting this icon, the different cylinders used during a dive can be represented as a colored bar at the bottom of the <strong>Dive Profile</strong>. In general oxygen is represented by a green bar, nitrogen a yellow bar and helium a red bar. The image below shows a dive which first uses a trimix cylinder (red and green), followed by a switch to a nitrox cylinder (yellow and green) after 23 minutes. Cylinders with air are shown as a light blue bar.</td></tr></table></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/ShowCylinders_f20.jpg" alt="Figure: Cylinder use graph"/></div></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/heatmap.png" alt="Note"/></td><td class="content"><div class="paragraph"><p>Display the tissue heat-map. The heat map summarises, for the duration of the dive, the inert gas tissue pressures for each of the 16 tissue compartments of the Bühlmann model. Blue colors mean low gas pressures in a tissue compartment and thus on-gassing, green to red means excess gas in the tissue and thus off-gassing. Fast to slow tissues are indicated from top to bottom. The figure below explains in greater detail how the heat map can be interpreted.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Heatmap.jpg" alt="Figure: Inert gas tissue pressure heat-map"/></div></div><div class="paragraph"><p>Image <strong>A</strong> on the left shows the <a href="#S_gas_pressure_graph">Gas Pressure Graph</a> in the <strong>Information box</strong>, representing a snapshot of inert gas pressures at a particular point in time during the dive. The inert gas pressures of 16 tissue compartments are shown as dark green vertical bars with the quick tissue compartments on the left and the slow tissue compartments on the right. Refer to the section on the <a href="#S_gas_pressure_graph">Gas Pressure Graph</a> for more details on the different elements of this graph.</p></div><div class="paragraph"><p>Image <strong>B</strong> shows a gradient of unique colors, spanning the whole range of inert gas pressures. It is possible to map the height of each of the dark green vertical bars of <strong>A</strong> to a color in <strong>B</strong>. For instance, the fastest (leftmost) dark green vertical bar in <strong>A</strong> has a height corresponding to the medium green part of <strong>B</strong>. The height of this bar can therefore be summarised using a medium green color. Similarly, the highest dark green bar in <strong>A</strong> is as high as the yellow part of <strong>B</strong>. The 14 remaining tissue pressure bars in <strong>A</strong> can also be translated to colors. The colors represent three ranges of tissue inert gas pressure:</p></div><div class="ulist"><ul><li><p>The bottom range in <strong>B</strong> (marked <em>On-gassing</em>) includes colors from light blue to black, representing tissue gas pressures below the equilibrium pressure of inert gas (bottom horizontal line in <strong>A</strong>). The measurement unit is the % of inert gas pressure, relative to the equilibrium inert gas pressure. In this range on-gassing of inert gas takes place because the inert gas pressure in the tissue compartment is lower than in the surrounding environment. Black areas in the heat map indicate that a tissue compartment has reached the equilibrium inert gas pressure, i.e. the inert gas pressure in the tissue compartment equals that of the water in which the diver is. The equilibrium pressure changes according to depth.</p></li><li><p>The central range in <strong>B</strong> includes the colors from black to light green, when the inert gas pressure of a tissue compartment is higher than the equilibrium pressure but less than the ambient pressure. In this zone decompression is not very efficient because the gradient of inert gas pressure from tissue to the environment is relatively small and indicated by dark green areas of the heat map.</p></li><li><p>The top range in <strong>B</strong> (marked <em>Off-gassing</em>) includes colors from light green to red and white, repesenting tissue gas pressures above that of the total ambient pressure (top of light green area of <strong>A</strong>). The measurement unit is the % of inert gas pressure above ambient pressure, relative to the Bühlmann M-value gradient (bottom of red area in <strong>A</strong>). These tissue pressures are normally reached while ascending to a shallower depth. Below a value of 100%, this range indicates efficient off-gassing of inert gas from the tissue compartment into the environment. Usually, efficient off-gassing is indicated by light green, yellow or orange colors. Above 100% (red to white in <strong>B</strong>) the M-value gradient is exceeded and the probability of decompression sickness increases markedly.</p></li></ul></div><div class="paragraph"><p>Image <strong>C</strong> shows the color mapping of each of the vertical bars in <strong>A</strong>, the fast tissues (on the left in <strong>A</strong>) depicted at the top and the slow tissue compartments at the bottom of <strong>C</strong>. The highest vertical bar in <strong>A</strong> (vertical bar 3rd from the left) is presented as the yellow rectangle 3rd from the top in <strong>C</strong>. The 16 vertical bars in <strong>A</strong> are now presented as a vertical column of 16 colored rectangles, representing a snapshot of tissue compartment gas pressures at a particular instant during the dive.</p></div><div class="paragraph"><p>Image <strong>D</strong> is a compilation of similar color mappings of 16 tissue compartments during a 10-minute period of a dive, the colors representing the inert gas loading of a tissue compartment at a point in time during the dive. Faster tissues are shown at the top and slower tissues at the bottom, with time forming the horizontal axis of the graph. The column of rectangles in <strong>C</strong> can be found on the horizontal axis between 9 and 10 minutes.</p></div><div class="paragraph"><p>The colors of the heat map are not affected by the gradient factor settings. This is because the heat map indicates tissue pressures relative to the Bühlmann M-value gradient, and not relative to any specific gradient factor. For more information external to this manual see:</p></div><div class="paragraph"><p><a href="http://www.tek-dive.com/portal/upload/M-Values.pdf">Understanding M-values by Erik Baker, <em>Immersed</em> Vol. 3, No. 3.</a></p></div><div class="paragraph"><p>Since the colors of the heat map are not affected by the gradient factor(s), the heat map is also applicable when using the VPM-B decompression model.</p></div><div class="paragraph"><p>The image below compares the profiles and heat maps for two planned decompression dives to 60m: the first using the Bühlmann decompression model, the second using the VPM-B decompression model. Both profiles have the same total decompression time, but the VPM-B model requires deeper stops early in the acent phase.</p></div><div class="paragraph"><p>In both profiles, the inert gas pressures in the faster tissues rise much more rapidly than the slower tissues during the descent and bottom phase, with the colors transitioning from light blue through blue and purple to black. Similarly, the inert gas pressure in the fast tissues reduces more rapidly than the slow tissues at each decompression stop, with colors transitioning from red, orange and yellow to green and black.</p></div><div class="paragraph"><p>The comparison of the two profiles and heatmaps shows that by including deep stops, the oversaturation gradient in the faster tissues early in ascent phase is reduced. However, on-gassing of slower tissues continues during the deep stops, which leads to greater oversaturation gradient in slower tissues at the end of the dive.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/tissueHeatmap.jpg" alt="Figure: Inert gas tissue pressure heat-map"/></div></div></td></tr></table></div></div><div class="sect3"><h4 id="_the_dive_profile_context_menu">6.5.4. The Dive Profile context menu</h4><div class="paragraph"><p>The context menu for the Dive Profile is accessed by right-clicking while the mouse cursor is over the Dive Profile panel. The menu allows creating Bookmarks, Gas Change Event markers, or manual CCR set-point changes other than the ones that might have been imported from a Dive Computer. Markers are placed against the depth profile line, with the time of the event determined by the mouse cursor when the right mouse button was clicked to bring up the menu. Gas Change events involve a selection of which gas is being switched TO. The list of choices is based on the available gases defined in the <strong>Equipment</strong> Tab. Setpoint change events open a dialog letting you choose the next setpoint value. As in the planner, a setpoint value of zero shows the diver is breathing from an open circuit system while any non-zero value shows the use of a closed circuit rebreather (CCR). By right-clicking while over an existing marker a menu appears, adding options to allow deletion of the marker, or to allow all markers of that type to be hidden. Hidden events can be restored to view by selecting Unhide all events from the context menu.</p></div></div></div></div></div><div class="sect1"><h2 id="_organizing_the_logbook_manipulating_groups_of_dives">7. Organizing the logbook (Manipulating groups of dives)</h2><div class="sectionbody"><div class="sect2"><h3 id="S_DiveListContextMenu">7.1. The Dive List context menu</h3><div class="paragraph"><p>Several actions on either a single dive, or a group of dives, can be performed using the Dive List Context Menu. It is found by selecting either a single dive or a group of dives and then right-clicking.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/ContextMenu.jpg" alt="Figure: Context Menu"/></div></div><div class="paragraph"><p>The context menu is used in many functions described below.</p></div><div class="sect3"><h4 id="S_Divelist_columns">7.1.1. Customizing the columns showed in the <strong>Dive List</strong> panel</h4><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/DiveListOptions.jpg" alt="Example: Dive list info options"/></div></div><div class="paragraph"><p>The default information in the <strong>Dive List</strong> includes, for each dive, Dive_number, Date, Rating, Dive_depth, Dive_duration and Dive_location. This information can be controlled and changed by right-clicking on the header bar of the <strong>Dive List</strong>, bringing up a list of columns that can be shown in the dive list (see above). Check an items to be included in the <strong>Dive List</strong>. The list is immediately updated. Preferences for information shown in the <strong>Dive List</strong> are saved and used when <em>Subsurface</em> is re-opened.</p></div><div class="paragraph" id="S_Photos_divelist"><p>By selecting the <em>Media</em> checkbox in the dropdown list, an icon is shown indicating whether any media are associated with a particular dive. There are three icons:</p></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/duringPhoto.png" alt="Note"/></td><td class="content">This dive has photographs or videos taken during the dive, typically using an underwater camera.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/outsidePhoto.png" alt="Note"/></td><td class="content">This dive has photographs or videos taken immediately before or immediately after the dive. This is useful for finding photos/media of dive teams or boats just before/after the dive, whales or other surface animals seen just before or after the dive, or of landscapes as seen from the boat.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/inAndOutPhoto.png" alt="Note"/></td><td class="content">This dive has photographs or videos taken both during the dive and immediately before or after the dive.</td></tr></table></div></div></div><div class="sect2"><h3 id="S_Renumber">7.2. Renumbering the dives</h3><div class="paragraph"><p>Dives are normally numbered incrementally from non-recent dives (low sequence numbers) to recent dives (higher sequence numbers). Numbering of dives is not always consistent. For instance, when non-recent dives are added, correct numbering does not automatically follow on because of the dives that are more recent in date/time than the newly-added dive with an older date/time. This requires renumbering the dives. Do this by selecting (from the Main Menu) <em>Log &#8594; Renumber</em>. Provide the lowest sequence number to be used. This results in new sequence numbers (based on date/time) for all the dives in the <strong>Dive List</strong> panel.</p></div><div class="paragraph"><p>Renumber a few selected dives in the dive list by selecting only the dives that need renumbering. Right-click on the selected list and use the Dive List Context Menu to perform the renumbering. A popup window appears letting the user specify the starting number for the process.</p></div></div><div class="sect2"><h3 id="S_Group">7.3. Grouping dives into trips and manipulating trips</h3><div class="paragraph"><p>For regular divers, the dive list can rapidly become very long. <em>Subsurface</em> can group dives into <em>trips</em>. It does this by grouping dives that have date/times not separated by more than two days and creating a single heading for each diving trip represented in the dive log. Below is an ungrouped dive list (<strong>A</strong>, on the left) as well as the corresponding grouped dive list of five dive trips (<strong>B</strong>, on the right):</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Group2.jpg" alt="Figure: Grouping dives"/></div></div><div class="paragraph"><p>Grouping into trips allows a rapid way of accessing individual dives without having to scan a long lists of dives. To group the dives in a dive list, (from the Main Menu) select <em>Log &#8594; Auto group</em>. The <strong>Dive List</strong> panel now shows only the titles for the trips.</p></div><div class="sect3"><h4 id="_editing_the_title_and_associated_information_for_a_particular_trip">7.3.1. Editing the title and associated information for a particular trip</h4><div class="paragraph"><p>Normally, in the dive list, minimal information is included in the trip title. More information about a trip can be added by selecting its trip title bar from the <strong>Dive List</strong>. This shows a <strong>Trip Notes</strong> tab in the <strong>Notes</strong> panel. Here you can add or edit information about the date/time, the trip location and any other general comments about the trip as a whole (e.g. the dive company that was used, the general weather and surface conditions during the trip, etc.). After entering this information, select <strong>Save</strong> from the buttons at the top right of the <strong>Trip Notes</strong> tab. The trip title in the <strong>Dive List</strong> panel should now reflect the edited information.</p></div></div><div class="sect3"><h4 id="_viewing_the_dives_during_a_particular_trip">7.3.2. Viewing the dives during a particular trip</h4><div class="paragraph"><p>Once the dives have been grouped into trips, you can expand one or more trips by clicking the expansion button [+/-] on the left of each trip title. This expands the selected trip, revealing individual dives during the trip.</p></div></div><div class="sect3"><h4 id="_merging_dives_from_more_than_one_trip_into_a_single_trip">7.3.3. Merging dives from more than one trip into a single trip</h4><div class="paragraph"><p>After selecting a trip title, the context menu allows the merging of trips by either merging the selected trip with the trip below or with the trip above. (Merge trip with trip below; Merge trip with trip above)</p></div></div><div class="sect3"><h4 id="_splitting_a_single_trip_into_more_than_one_trip">7.3.4. Splitting a single trip into more than one trip</h4><div class="paragraph"><p>If a trip includes, for example, ten dives, you can split this trip into two trips (trip 1: top four dives; trip 2: bottom six dives) by selecting and right-clicking the top four dives. The resulting context menu lets the user create a new trip by choosing the option <strong>Create new trip above</strong>. The top four dives are then grouped into a separate trip. The figures below show the selection and context menu on the left (A) and the completed action on the right (B):</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/SplitDive3a.jpg" alt="FIGURE: Split a trip into 2 trips"/></div></div></div></div><div class="sect2"><h3 id="_manipulating_single_dives">7.4. Manipulating single dives</h3><div class="sect3"><h4 id="_delete_a_dive_from_the_dive_log">7.4.1. Delete a dive from the dive log</h4><div class="paragraph"><p>Dives can be permanently deleted from the dive log by selecting and right-clicking them to bring up the context menu, then selecting <strong>Delete dive(s)</strong>. Typically this would apply to a case where a user wishes to delete workshop calibration dives of the dive computer or dives of extremely short duration.</p></div></div><div class="sect3"><h4 id="_unlink_a_dive_from_a_trip">7.4.2. Unlink a dive from a trip</h4><div class="paragraph"><p>You can unlink dives from the trip to which they belong. To do this, select and right-click the relevant dives to bring up the context menu. Then select the option <strong>Remove dive(s) from trip</strong>. The dive(s) now appear immediately above or below the trip to which they belonged, depending on the date and time of the unlinked dive.</p></div></div><div class="sect3"><h4 id="_add_a_dive_to_the_trip_immediately_above">7.4.3. Add a dive to the trip immediately above</h4><div class="paragraph"><p>Selected dives can be moved from the trip to which they belong and placed within a separate trip. To do this, select and right-click the dive(s) to bring up the context menu, and then select <strong>Create new trip above</strong>.</p></div></div><div class="sect3"><h4 id="_shift_the_start_time_of_dive_s">7.4.4. Shift the start time of dive(s)</h4><div class="paragraph"><p>Sometimes it’s necessary to adjust the start time of a dive. This may apply to situations where dives are done in different time zones or when the dive computer has a wrong time. To do this, select and right-click the dive(s) to be adjusted. This brings up the context menu on which the <strong>Shift times</strong> option should be selected. You must then specify the time (in hours and minutes) by which the dives should be adjusted and click on the option of whether the time adjustment should be earlier or later.</p></div></div><div class="sect3"><h4 id="_merge_dives_into_a_single_dive">7.4.5. Merge dives into a single dive</h4><div class="paragraph"><p>Sometimes a dive is briefly interrupted, for example, if a diver returns to the surface for a few minutes, resulting in two or more dives being recorded by the dive computer and appearing as different dives in the <strong>Dive List</strong> panel. Merge these dives onto a single dive by selecting the appropriate dives, right-clicking them to bring up the context menu and then selecting <strong>Merge selected dives</strong>. It may be necessary to edit the dive information in the <strong>Notes</strong> panel to reflect events or conditions that apply to the merged dive. The figure below shows the depth profile of two dives that were merged:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/MergedDive.png" alt="Example: Merged dive"/></div></div></div><div class="sect3"><h4 id="_split_selected_dives">7.4.6. Split selected dives</h4><div class="paragraph"><p>On some occasions, a diver reaches the surface and immediately dives again. However, it may happen that the dive computer does not register a new dive, but continues the previous dive due to the brief surface interval. In this case it is possible to split a dive so that the two dives are shown as independent dives on the <strong>Dive List</strong>. If this operation is performed, <em>Subsurface</em> scans the selected dive(s) and splits the dive at points during the dive where the depth is less than a metre.</p></div></div><div class="sect3"><h4 id="_load_image_s_from_file_s">7.4.7. Load image(s) from file(s)</h4><div class="paragraph"><p>This topic is discussed in the section: <a href="#S_LoadImage">Adding photographs or videos to dives</a>.</p></div></div><div class="sect3"><h4 id="_load_image_from_web">7.4.8. Load image from web</h4><div class="paragraph"><p>This topic is discussed in the section: <a href="#S_LoadImage">Adding photographs or videos to dives</a>.</p></div></div><div class="sect3"><h4 id="_undo_dive_manipulations">7.4.9. Undo dive manipulations</h4><div class="paragraph"><p>Important actions on dives or trips, described above, can be undone or redone. This includes: <em>delete dives</em>, <em>merge dives</em>, <em>split selected dives</em>, <em>renumber dives</em> and <em>shift dive times</em>. To do this after performing any of these actions, from the <strong>Main Menu</strong> select <em>Edit</em>. This brings up the possibility to <em>Undo</em> or <em>Redo</em> an action.</p></div></div></div><div class="sect2"><h3 id="S_Filter">7.5. Filtering the dive list</h3><div class="paragraph"><p>The dives in the <strong>Dive List</strong> panel can be filtered, selecting only some of the dives based on their attributes, e.g. dive tags, dive site, divemaster, buddy or protective clothing. For instance, filtering lets you list the deep dives at a particular dive site, or otherwise the cave dives with a particular buddy.</p></div><div class="paragraph"><p>To open the filter, select <em>Log &#8594; Filter divelist</em> from the main menu. This opens the <em>Filter Panel</em> at the top of the <em>Subsurface</em> window. Three icons are located at the top right hand of the filter panel (see image below). The <em>Filter Panel</em> can be reset (i.e. all current filters cleared) by selecting the <strong>yellow angled arrow</strong>. The <em>Filter Panel</em> may also be minimized by selecting the <strong>green up-arrow</strong>. When minimized, only these three icons are shown. The panel can be maximized by clicking the same icon that minimized it. The filter may also be reset and closed by selecting the <strong>red button</strong> with the white cross.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Filterpanel.jpg" alt="Figure: Filter panel"/></div></div><div class="paragraph"><p>Four filter criteria may be used to filter the dive list: dive tags, person (buddy / divemaster), dive site and dive suit. Each of these is represented by a check list with check boxes. Above each check list is a second-level filter tool, allowing the listing of only some attributes within that check list. For instance, typing "<em>ca</em>" in the filter text box above the tags check list, results in the list being reduced to "<em>cave</em>" and "<em>cavern</em>". Filtering the check list helps to rapidly find search terms for filtering the dive list.</p></div><div class="paragraph"><p>To activate filtering of the dive list, check at least one check box in one of the four check lists. The dive list is then shortened to include only the dives that pertain to the criteria specified in the check lists. The four check lists work as a filter with <em>AND</em> operators. Subsurface filters therefore for <em>cave</em> as a tag AND <em>Joe Smith</em> as a buddy. But the filters within a category are inclusive - filtering for <em>cave</em> and <em>boat</em> shows those dives that have either one OR both of these tags.</p></div></div></div></div><div class="sect1"><h2 id="S_ExportLog">8. Exporting the dive log or parts of the dive log</h2><div class="sectionbody"><div class="paragraph"><p>There are two ways to export dive information from Subsurface:</p></div><div class="ulist"><ul><li><p>Export dive information to <em>Facebook</em></p></li><li><p><a href="#S_Export_other">Export dive information to other destinations or formats</a></p></li></ul></div><div class="sect2"><h3 id="S_Facebook">8.1. Exporting dive information to <em>Facebook</em></h3><div class="paragraph"><p>Export of dives to <em>Facebook</em> is handled differently from other types of export because a connection to <em>Facebook</em> is required, needing a <em>Facebook</em> userID and password. From the <strong>Main Menu</strong>, select <em>Share on &#8594; Connect to &#8594; Facebook</em> (image <strong>A</strong> below) A <em>Facebook</em> login screen appears (image <strong>B</strong> below). Provide a <em>Facebook</em> userID and password. From the <em>Subsurface</em> window it’s easy to determine whether <em>Subsurface</em> has a valid connection to <em>Facebook</em>: from the <strong>Main Menu</strong>, select <em>Share on</em> (image <strong>A</strong>, below). Normally, the <em>Facebook</em> option is greyed out. But if there is a connection to <em>Facebook</em>, this option is active (i.e. in black color and can be selected).</p></div><div class="paragraph"><p>Once logged into to <em>Facebook</em> , a panel is shown with a message: "<em>To disconnect Subsurface from your Facebook account, use the <em>Share on</em> menu entry</em>." Close this message panel.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/facebook1.jpg" alt="Figure: Facebook login"/></div></div><div class="paragraph"><p>Having established a login to <em>Facebook</em>, transferring a dive profile to a <em>Facebook</em> timeline is easy. In the <em>Subsurface</em> <strong>Dive List</strong> panel, highlight the dive to be transferred. Then, from the <strong>Main Menu</strong>, select <em>Share on &#8594; Facebook</em>. A dialogue box is shown, determining the amount of additional information to be transferred with the dive profile (image <strong>A</strong>, below). To transfer a dive profile to <em>Facebook</em>, the name of a <em>Facebook</em> album is needed. The checkboxes on the left hand side determine how much additional information is added to the dive profile, shown in the text box on the right hand side of the panel (image <strong>A</strong>, below). Customise the message that will be posted with the dive profile by editing any of the information. After specifying additional information and verifying the text, select the <em>OK</em> button that triggers the transfer to <em>Facebook</em>. After the transfer is done, an acknowledgement dialogue appears, indicating it was successful.</p></div><div class="paragraph"><p>Both the album created and the post to your timeline are marked as private. In order for friends to be able to see the post, log into <em>Facebook</em> using a browser or Facebook app and change its permissions.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/facebook2.jpg" alt="Figure: Facebook data submission"/></div></div><div class="paragraph"><p>If required, then close the <em>Facebook</em> connection by selecting, from the <strong>Main Menu</strong>, <em>Share on &#8594; Disconnect from &#8594; Facebook</em> (image <strong>B</strong> above).</p></div></div><div class="sect2"><h3 id="S_Export_other">8.2. Export dive information to other destinations or formats</h3><div class="paragraph"><p>For non-<em>Facebook exports</em>, the export function can be found by selecting <em>File &#8594; Export</em>, which brings up the Export dialog. This dialog always gives two options: save ALL dives, or save only the dives selected in <strong>Dive List</strong> panel of <em>Subsurface</em>. Click the appropriate radio button (see images below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Export_f20.jpg" alt="Figure: Export dialog"/></div></div><div class="paragraph"><p>A dive log or part of it can be saved in several formats:</p></div><div class="ulist"><ul><li><p><em>Subsurface XML</em> format. This is the native format used by <em>Subsurface</em>.</p></li><li><p>Universal Dive Data Format (<em>UDDF</em>). Refer to <em>http://uddf.org</em> for more information. UDDF is a generic format that enables communication among many dive computers and computer programs.</p></li><li><p><em>Divelogs.de</em>, an Internet-based dive log repository. In order to upload to <em>Divelogs.de</em>, you need a user-ID as well as a password for <em>Divelogs.de</em>. Log into <em>http://en.divelogs.de</em> and subscribe to this service to upload dive log data from <em>Subsurface</em>.</p></li><li><p><em>DiveShare</em> is also a dive log repository on the Internet focusing on recreational dives. To upload dives, you need a user ID, so registration with <em>http://scubadiveshare.com</em> is required.</p></li><li><p><em>CSV dive details</em>, that includes the most critical information of the dive profile. Included information of a dive is: dive number, date, time, buddy, duration, depth, temperature and pressure: in short, most of the information that recreational divers enter into handwritten log books.</p></li><li><p><em>CSV dive profile</em>, that includes a large amount of detail for each dive, including the depth profile, temperature and pressure information of each dive.</p></li><li><p><em>HTML</em> format, in which the dive(s) are stored in HTML files, readable with an Internet browser. Most modern web browsers are supported, but JavaScript must be enabled. The HTML export cannot be changed or edited. It contains most of the information recorded in the dive log. However, it does not show the calculated values in the <strong>Dive Profile</strong> panel, e.g. dive ceiling, calculated cylinder pressure, gas pressures and MOD. The HTML export contains a search option to search the dive log. HTML export is specified on the second tab of the Export dialog (image <strong>B</strong> above). A typical use of this option is to export all your dives to a smartphone or a tablet where it would serve as a portable record of dives, useful for dive companies wishing to verify the dive history of a diver, and doing away with the need to carry an original logbook when doing dives with dive companies.</p></li><li><p><em>Worldmap</em> format, an HTML file with a world map upon which each dive and some information about it are indicated. This map is not editable. If you select any of the dive sites on the map, a summary of the dive is available in text, as shown in the image below.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/mapview_f20.jpg" alt="Figure: HTML Map export view"/></div></div><div class="ulist"><ul><li><p><em>TeX</em> format, a file for printing using the TeX typesetting software. Choose a filename with a <em>.tex</em> extension. You will also need a template file, that can be obtained from <a href="http://www.atdotde.de/%7erobert/subsurfacetemplate/">http://www.atdotde.de/~robert/subsurfacetemplate/</a> in the same directory as the <em>.tex</em> file. The file can then be processed with plain TeX (not LaTeX), for example by running <em>pdftex filename.tex</em> on the command line.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/texexample.png" alt="Figure: Export to TeX"/></div></div><div class="ulist"><ul><li><p><em>Image depths</em>, which creates a text file that contains the file names of all photos or videos attached to any of the selected dives in the <em>Dive List</em>, together with the depth underwater where of each of those photos/videos was taken.</p></li></ul></div><div class="paragraph"><p>When the "Anonymize" option is selected for xml-based file formats, the letters A-Z are all replaced by the letter <em>X</em> in the notes, buddy, divemaster, divesite name and divesite description fields. This way, you can share dive log files for debugging purposes without revealing personal information. Please note, though, that other characters are not replaced, so this is not useful for languages with non-latin characters and GPS coordinates of dive sites are preserved as well.</p></div><div class="ulist"><ul><li><p><em>General Settings</em>, under the HTML tab, provides the following options:</p><div class="ulist"><ul><li><p>Subsurface Numbers: if this option is checked, the dive(s) are exported with the numbers associated with them in Subsurface, Otherwise the dive(s) will be numbered starting from 1.</p></li><li><p>Export Yearly Statistics: if this option is checked, a yearly statistics table will be attached to the HTML exports.</p></li><li><p>Export List only: a list of dives only (date, time, depth, duration) will be exported and the detailed dive information, e.g. dive profile, will not be available.</p></li></ul></div></li><li><p>Under <em>Style Options</em> some style-related options are available like font size and theme.</p></li></ul></div><div class="paragraph"><p>Export to other formats can be done through third party facilities, for instance <em>www.divelogs.de</em>.</p></div></div></div></div><div class="sect1"><h2 id="S_Cloud_access">9. Keeping a <em>Subsurface</em> dive log in the Cloud</h2><div class="sectionbody"><div class="paragraph"><p>For each diver, dive log information is highly important. Not only is it a record of diving activities for your pleasure, but it’s important information required for admission to training courses or sometimes even diving sites. The security of the dive log is critical. To have a dive log that is resistant to failure of a home computer hard drive, loss or theft of equipment, the Cloud is an obvious solution. This also has the added benefit that you can access your dive log from anywhere in the world. For this reason, facilities such as <em>divelogs.de</em> and <em>Diving Log</em> offer to store dive log information on the Internet.</p></div><div class="paragraph"><p><em>Subsurface</em> includes access to a transparently integrated cloud storage back end that is available to all Subsurface users. Storing and retrieving a dive log from the cloud is no more difficult than accessing the dives on the local hard disk. The only requirement is that you should first register as a user on the cloud. To use <em>Subsurface cloud storage</em> , follow these steps:</p></div><div class="sect2"><h3 id="_create_a_cloud_storage_account">9.1. Create a cloud storage account</h3><div class="ulist"><ul><li><p>Open the <strong>Network Preferences</strong> by selecting <em>File</em> &#8594; <em>Preferences</em> &#8594; <em>Network</em>.</p></li><li><p>In the section headed <em>Subsurface cloud storage</em>, enter an email address that <em>Subsurface</em> can use for user registration.</p></li><li><p>Enter a novel password that <em>Subsurface</em> will use to store the dive log in the cloud.</p></li><li><p>Click <em>Apply</em> to send the above email address and password to the (remote) cloud server. The server responds by sending a verification PIN to the above email address (This is the <strong>only</strong> occasion that <em>Subsurface</em> uses the email address provided above). The <strong>Network Preferences</strong> dialog now has a new PIN text box, not visible previously.</p></li><li><p>Enter the PIN in the corresponding text box in the <strong>Network Preferences</strong> dialog (this field is only visible while the server is waiting for email address confirmation)</p></li><li><p>Click <em>Apply</em> again. The <em>Subsurface cloud storage</em> account will be marked as verified and the <em>Subsurface cloud storage</em> service is initialised for use.</p></li></ul></div></div><div class="sect2"><h3 id="_using_em_subsurface_cloud_storage_em">9.2. Using <em>Subsurface cloud storage</em></h3><div class="ulist"><ul><li><p>Once the cloud storage has been initialized, two new items appear in the <em>File</em> menu of the main menu system: <em>Open cloud storage</em> and <em>Save to cloud storage</em>. These options let you load and save data to the <em>Subsurface cloud storage</em> server.</p></li><li><p>In the <em>Defaults Preferences</em> tab, you can select to use the <em>Subsurface cloud storage</em> data as the default data file by checking the box marked <em>Cloud storage default file</em>. This means the data from the <em>Subsurface cloud storage</em> is loaded when <em>Subsurface</em> starts and saved there when <em>Subsurface</em> closes.</p></li><li><p><em>Subsurface</em> keeps a local copy of the data and the cloud facility remains fully functional even if used while disconnected to the Internet. <em>Subsurface</em> simply synchronizes the data with the cloud server the next time the program is used while the computer is connected to the Internet.</p></li></ul></div></div><div class="sect2"><h3 id="S_Cloud_storage">9.3. Web access to <em>Subsurface cloud storage</em></h3><div class="paragraph"><p>One of the nice side benefits of using <em>Subsurface cloud storage</em> is that you can also access your dive data from any web browser. Simply open <a href="https://cloud.subsurface-divelog.org"><em>https://cloud.subsurface-divelog.org</em></a>, log in with the same email and password, and you can see an HTML export of the last dive data that was synced to <em>Subsurface cloud storage</em>. The dive information shown is only the contents of the recorded dive logs, NOT the calculated values shown in the <strong>Profile</strong> panel, including some cylinder pressures, deco ceilings and O<sub>2</sub>/He/N<sub>2</sub> partial pressures.</p></div></div><div class="sect2"><h3 id="_other_cloud_services">9.4. Other cloud services</h3><div class="paragraph"><p>If you prefer not to use the integrated cloud storage of dive logs (and don&#8217;t need the web access), it’s simple to store dive logs in the cloud using several of the existing facilities on the Internet. For instance <a href="https://www.dropbox.com/"><em>Dropbox</em></a> offers a free application that allows files on the Dropbox servers to be seen as a local folder on a desktop computer.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Cloud.jpg" alt="FIGURE: Dropbox folder"/></div></div><div class="paragraph"><p>The <em>Dropbox</em> program creates a copy of the <em>Dropbox</em> Internet Cloud content on your desktop computer. When the computer is connected to the Internet, the Internet content is automatically updated. Therefore both the <em>Open</em> and <em>Save</em> of dive logs are done using the local copy of the dive log in the local <em>Dropbox</em> folder, so there&#8217;s no need for a direct internet connection. If the local copy is modified, e.g. by adding a dive, the remote copy in the <em>Dropbox</em> server in the Cloud will be automatically updated whenever Internet access is available.</p></div></div></div></div><div class="sect1"><h2 id="S_user_space">10. Several <em>Subsurface</em> users on one desktop computer</h2><div class="sectionbody"><div class="paragraph"><p>A frequent need is for two or more persons to use <em>Subsurface</em> on the same desktop computer. For instance members of a household may use the same computer or one family member may perform dive uploads for other family members/friends. There are two approaches for doing this.</p></div><div class="paragraph"><p><strong>A)</strong> If the different users of a desktop computer do not log onto the desktop/laptop under different user names then the simplest way is for each person to use her/his own divelog file within Subsurface. In this case John would work with the <em>Subsurface</em> file <em>johns-divelog</em> and Joan would use <em>joans-divelog</em>. Select the appropriate dive log by selecting, from the <strong>Main Menu</strong>, <em>File &#8594; Open logbook</em> and then select your own dive log file from the list of files lower down in the menu. However, a problem arises if the users prefer different settings for <em>Subsurface</em>. For instance, one diver may prefer to see the dive ceiling in the <strong>Profile Panel</strong> and media icons in the <strong>Dive List</strong>, while the other may not have these preferences. In addition, the cloud connection is normally unique for each <em>Subsurface</em> installation and if more than one user wishes to save dive data on the cloud, it is inconvenient to open the <strong>Preferences</strong> and change the user-ID data every time the cloud is accessed. To solve these problems, launch <em>Subsurface</em> with a <em>--user=&lt;user name&gt;</em> command-line option. John can then activate <em>Subsurface</em> with this command-line instruction:</p></div><div class="literalblock"><div class="content"><pre><code>subsurface --user=John</code></pre></div></div><div class="paragraph"><p>while Joan can launch <em>Subsurface</em> using:</p></div><div class="literalblock"><div class="content"><pre><code>subsurface --user=Joan</code></pre></div></div><div class="paragraph"><p>In this case, each user&#8217;s preferences, settings and cloud access information are stored separately, allowing each diver to interact with <em>Subsurface</em> in her/his preferred way and with individual cloud access. The above process can be made user-friendly by creating a link/shortcut with a desktop icon that executes the above command-line instruction. Use of the <em>--user=</em> option therefore enables each user to create, maintain and backup a separate dive log within a personalised user interface. This way, when each diver launches <em>Subsurface</em>, it opens with the correct dive log as well as the appropriate display and backup preferences, and each diver can access their own divelog on a mobile device using <a href="https://subsurface-divelog.org/documentation/subsurface-mobile-user-manual"><em>Subsurface-Mobile</em></a>.</p></div><div class="paragraph"><p><strong>B)</strong> On the other hand, if the users log onto the same computer using different userIDs and passwords (i.e. users each have a separate user space), <em>Subsurface</em> is available independently to each user and every diver automatically has a separate user profile and settings, including unique cloud and <em>Subsurface-Mobile</em> access.</p></div></div></div><div class="sect1"><h2 id="S_PrintDivelog">11. Printing a dive log</h2><div class="sectionbody"><div class="paragraph"><p><em>Subsurface</em> provides a simple and flexible way to print a whole dive log or only a few selected dives. Pre-installed templates or a custom written template can be used to choose where the data are fitted into the page.</p></div><div class="paragraph"><p>Some decisions need to be made before printing:</p></div><div class="ulist"><ul><li><p>Should the whole dive log be printed or only part of it? If only part is required, select the required dives from the <strong>Dive List</strong> panel.</p></li><li><p>If the dive profiles are printed, what gas partial pressure information should be shown? Select the appropriate toggle-buttons on the button bar to the left of the <strong>Dive Profile</strong> panel.</p></li></ul></div><div class="paragraph"><p>If <em>File &#8594; Print</em> is selected from the Main menu, the dialogue below (image <strong>A</strong>) appears. Three specifications are needed to get the desired information and page layout:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Print1_f22.jpg" alt="FIGURE: Print dialogue"/></div></div><div class="olist arabic"><ol class="arabic"><li><p>Under <em>Print type</em> select one of two options:</p><div class="ulist"><ul><li><p><em>Dive list print</em>: Print dives from the <strong>Dive List</strong> panel with profiles and other information.</p></li><li><p><em>Statistics print</em>: Print yearly statistics of the dives.</p></li></ul></div></li><li><p>Under <em>Print options</em> select:</p><div class="ulist"><ul><li><p>Printing only the dives selected from the dive list before activating the print dialogue by checking the box <em>Print only selected dives</em>. If this check box is <strong>not</strong> checked ALL dives in the <strong>Dive List</strong> panel are printed.</p></li><li><p>Printing in color, done by checking the box with <em>Print in color</em>. If this check box is not checked, printing is in black and white.</p></li></ul></div></li><li><p>Under <em>Template</em> select a template to be used as the page layout. There are several choices. (see image <strong>B</strong>, above).</p><div class="ulist"><ul><li><p><em>Table</em>: This prints a summary table of all dives selected (see below).</p></li></ul></div></li></ol></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Print_summarylist_f22.jpg" alt="FIGURE: Print summary table"/></div></div><div class="ulist"><ul><li><p><em>Flow layout</em>: Print the text associated with each dive without printing the dive profiles of each dive (see below):</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Print_flow_layout_f22.jpg" alt="FIGURE: Print flow layout"/></div></div><div class="ulist"><ul><li><p><em>One Dive</em>: Print one dive per page, also showing the dive profile (see below)</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/print2_f22.jpg" alt="FIGURE: Print one dive / page"/></div></div><div class="ulist"><ul><li><p><em>Two Dives</em>: Print two dives per page, also showing the dive profiles.</p></li><li><p><em>Six Dives</em>: Print six dives per page, also showing the dive profiles.</p></li></ul></div><div class="paragraph"><p>You can <em>Preview</em> the printed page by selecting the <em>Preview</em> button on the dialogue (see image <strong>A</strong> at the start of this section). After preview, you can change the options in the print dialogue, so the layout fits personal taste.</p></div><div class="paragraph"><p>Next, select the <em>Print</em> button (see image <strong>A</strong> at the start of this section). This activates the regular print dialogue used by the operating system, letting you choose a printer and set its properties (see image below):</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Print_print_f22.jpg" alt="FIGURE: Print dialog"/></div></div><div class="paragraph"><p>Set the print resolution of the printer to an appropriate value by changing the printer <em>Properties</em>. Finally, select the <em>Print</em> button to print the dives. Below is a (rather small) example of the output for one particular page.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Printpreview.jpg" alt="FIGURE: Print preview page"/></div></div><div class="sect2"><h3 id="_writing_a_custom_print_template_advanced">11.1. Writing a custom print template (advanced)</h3><div class="paragraph"><p>Writing a custom template is an effective way to produce highly customized printouts. Subsurface uses HTML templates to render printing. You can create a template, export a new template, import an existing template and delete an existing template by using the appropriate buttons under the <em>Template</em> dropdown list in the print dialogue. See <a href="#S_APPENDIX_E">APPENDIX E</a> for information on how to write or modify a template.</p></div></div></div></div><div class="sect1"><h2 id="S_Configure">12. Configuring a dive computer</h2><div class="sectionbody"><div class="paragraph"><p><em>Subsurface</em> lets you configure a dive computer. Currently, the Heinrichs-Weikamp (OSTC 2/2N/2C, OSTC 3, Sport) and Suunto Vyper (Stinger, Mosquito, D3, Vyper, Vytec, Cobra, Gekko and Zoop) family of dive computers are supported. A large number of settings of these dive computers can be read and changed to different values. To begin, be sure the appropriate hardware driver is installed for the dive computer (also required for downloading dives) and the device name of the dive computer is known. See <a href="#_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer">APPENDIX A</a> for information on how to do this.</p></div><div class="paragraph"><p>Once the dive computer is connected to the <em>Subsurface</em> computer, select <em>File &#8594; Configure dive computer</em> from the <em>Main Menu</em>. Select the appropriate device name (or mount point) in the dropdown list at the top of the configuration panel and select the appropriate dive computer model from the panel on the left-hand (see image below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Configure_dc_f20.jpg" alt="FIGURE: Configure dive computer"/></div></div><div class="paragraph"><p>Using the appropriate buttons on the configuration panel, the following actions can be done:</p></div><div class="ulist"><ul><li><p><strong>Retrieve available details</strong>. This loads the existing configuration from the dive computer to <em>Subsurface</em>, showing it in the configuration panel.</p></li><li><p><strong>Save changes to device</strong>. This changes the configuration of the dive computer to correspond to the information shown in the configuration panel.</p></li><li><p><strong>Backup</strong>. This saves the configuration data to a file. <em>Subsurface</em> asks for a file location and file name for the saved information.</p></li><li><p><strong>Restore backup</strong>. This loads the information from a backup file and displays it in the configuration panel.</p></li><li><p><strong>Update firmware</strong>. If new firmware is available for the dive computer, this is loaded into the dive computer.</p></li></ul></div></div></div><div class="sect1"><h2 id="S_Preferences">13. Setting user <em>Preferences</em> for <em>Subsurface</em></h2><div class="sectionbody"><div class="paragraph"><p>There are several user-definable settings within <em>Subsurface</em>, found by selecting <em>File &#8594; Preferences</em>, mostly affecting the way in which <em>Subsurface</em> shows dive information to the user. The settings are in six panels: <em>General</em>, <em>Units</em>, <em>Profile</em>, <em>Language</em>, <em>Network</em>, and <em>Georeference</em>, all of which operate on the same principles: specified settings can be applied to the display of the dive log by selecting <em>Apply</em>. At this stage, any new settings only apply to the present session and are not saved. In order to apply new settings permanently, select the <em>Save</em> button. If you do not wish to apply the new preferences, select <em>Cancel</em>.</p></div><div class="sect2"><h3 id="_general">13.1. General</h3><div class="paragraph"><p>There are several headings in the <strong>General</strong> panel:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Pref1.jpg" alt="FIGURE: Preferences general page"/></div></div><div class="ulist"><ul><li><p><strong>Lists and tables</strong>: Specify the font type and font size of the <strong>Dive Table</strong> panel: decreasing the font size allows one to see more dives on a screen.</p></li><li><p><strong>Dives</strong>: For the <em>Default Dive Log File</em> specify the directory and file name of your electronic dive log book. This is a file with filename extension of either <em>.xml</em> or <em>.ssrf</em>. When launched, <em>Subsurface</em> will automatically load the specified dive log book. There are three options:</p><div class="ulist"><ul><li><p><em>No default file</em>: When checked, <em>Subsurface</em> does not automatically load a dive log at startup.</p></li><li><p><em>Local default file</em>: When checked, <em>Subsurface</em> automatically loads a dive log from the local hard disk.</p></li><li><p><em>Cloud storage default file</em>: When checked, <em>Subsurface automatically loads the dive log from the cloud device that was initialized using the <strong>Preferences</strong> _Network</em> tab (see below).</p></li></ul></div></li><li><p><strong>Display invalid</strong>: Dives can be marked as invalid (when a user wishes to hide dives that he/she doesn&#8217;t consider valid dives, e.g. pool dives, but still want to keep them in the dive log). This controls whether those dives are displayed in the dive list.</p></li><li><p><strong>Default cylinder</strong>: From the dropdown list, select the default cylinder to be used in the <strong>Equipment</strong> tab of the <strong>Notes</strong> panel.</p></li><li><p><strong>Animations</strong>: Some actions in showing the dive profile are performed using animations. For instance, the axis values for depth and time change from dive to dive. When viewing a different dive, these changes in axis characteristics do not happen instantaneously, but are animated. The <em>Speed</em> of animations can be controlled by setting this slider with faster animation speed to the left, and a 0 value representing no animation at all.</p></li><li><p><strong>Video thumbnails</strong>: In generating thumbnails for videos associated with dives, <em>Subsurface</em> needs to have the appropriate information (see section on <a href="#S_ViewMedia">View Images</a>). Three preferences need to be set as explained in <a href="#S_APPENDIX_F">APPENDIX F</a>. These are: a) switch on thumbnails, b) specify the location of the <em>ffmpeg</em> program and c) set the place within video where the thumbnail needs to be obtained from.</p></li><li><p><strong>Clear all settings</strong>: As indicated in the button below this heading, all settings are cleared and set to default values.</p></li></ul></div></div><div class="sect2"><h3 id="_units">13.2. Units</h3><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Pref2_f23.jpg" alt="FIGURE: Preferences Units page"/></div></div><div class="paragraph"><p>Choose between metric and imperial units of depth, pressure, volume, temperature and mass. By selecting the Metric or Imperial radio button at the top, you can specify that all units are in the chosen measurement system. Alternatively, if you select the <strong>Personalize</strong> radio button, units can be selected independently, with some in the metric system and others in imperial.</p></div><div class="paragraph"><p>Regardless of the above settings, dive time measurements can be either in seconds or minutes. Choose the appropriate option. GPS coordinates can be represented either as traditional coordinates (degrees, minutes, seconds) or as decimal degrees Choose the appropriate option.</p></div></div><div class="sect2"><h3 id="_profile">13.3. Profile</h3><div class="paragraph"><p>This panel has three sections:</p></div><div class="imageblock" id="S_CCR_options" style="text-align:center"><div class="content"><img src="/images/Pref4_f23.jpg" alt="FIGURE: Preferences Graph page"/></div></div><div class="ulist" id="S_GradientFactors"><ul><li><p><strong>Gas pressure display setup</strong>. Even though nitrogen and helium pressures are also included here, these items mainly pertain to oxygen management:</p><div class="ulist"><ul><li><p><em>Thresholds</em>: <em>Subsurface</em> can display graphs of the nitrogen, oxygen and the helium partial pressures during the dive, activated using the toolbar on the left of the <strong>Dive Profile</strong> panel. For each of these graphs, specify a threshold value. If any of the graphs go above the specified threshold, the graph is highlighted in red, indicating the particular partial pressure threshold has been exceeded. The pO<sub>2</sub> threshold is probably the most important one and a value of 1.6 is commonly used.</p></li><li><p><em>pO<sub>2</sub> in calculating MOD</em> is used for calculating the maximum operative depth for a particular nitrox or trimix gas mixture. A value of 1.4 is commonly used.</p></li><li><p>CCR Options: These options determine oxygen management for CCR dives:</p><div class="ulist"><ul><li><p><em>Dive planner default setpoint</em>: Specify the O<sub>2</sub> setpoint for a CCR dive plan. This determines the pO<sub>2</sub> maintained during a particular dive. Setpoint changes during the dive can be added via the profile context menu.</p></li><li><p><em>CCR: Show O<sub>2</sub> sensor values when viewing pO<sub>2</sub>:</em> Show the pO<sub>2</sub> values associated with each of the individual oxygen sensors of a CCR system. See the section on <a href="#S_CCR_dives">Closed Circuit Rebreather dives</a>.</p></li><li><p><em>CCR: Show setpoints when viewing pO<sub>2</sub>:</em> With this checkbox activated, the pO<sub>2</sub> graph on the dive profile has an overlay in red which indicates the CCR setpoint values. See the section on <a href="#S_CCR_dives">Closed Circuit Rebreather dives</a>.</p></li></ul></div></li><li><p><em>pSCR options</em>. These preferences determine how passive semi-closed circuit (pSCR) dives are planned and how the pSCR deco ceiling is calculated:</p><div class="ulist"><ul><li><p><em>Metabolic rate:</em> this is the volume of oxygen used by a diver during a minute. Set this value for pSCR dive planning and decompression calculations.</p></li><li><p><em>pSCR ratio:</em> The dilution ratio (or dump ratio) is the ratio of gas released to the environment to that of the gas recirculated to the diver. A 1:10 ratio is commonly used.</p></li><li><p><em>Show equivalent OC with pSCR pO<sub>2</sub></em>: The pO<sub>2</sub> in the pSCR loop is usually lower than the pO<sub>2</sub> of the fresh gas from the cylinder. Activating this checkbox allows the pO<sub>2</sub> graph in the dive profile to also show the pO<sub>2</sub> of the fresh gas entering the loop.</p></li></ul></div></li></ul></div></li><li><p><strong>Ceiling display setup</strong>. These settings mostly deal with nitrogen and helium management by determining how the decompression ceiling (ascent ceiling) is calculated and displayed:</p><div class="ulist"><ul><li><p><em>Draw dive computer reported ceiling red</em>: This checkbox does exactly what it says. By default the computer reported ceiling is shown in white. Not all dive computers report ceiling values. If the dive computer does report it, it may differ from the ceilings calculated by <em>Subsurface</em> because of the different algorithms and gradient factors, as well as the dynamic way a dive computer calculates ceilings during a dive.</p></li><li><p><em>Algorithm for calculating ceiling</em>. Choose between the Bühlmann Z1H-L16 decompression model and the VPM-B model:</p><div class="ulist"><ul><li><p><em>VPM-B</em>: Provide a conservatism level for calculating the VPM-B ceiling. Values between 0 (least conservative) and 4 (most conservative) are valid.</p></li><li><p>Bühlmann: Set the <em>gradient factors</em> (GFLow and GFHigh) for calculcating the deco ceiling following the ZH-L16 algorithm. GF_Low is the gradient factor at depth and GF_High is used at the surface. At intermediate depths gradient factors between GF_Low and GF_High are used. Gradient factors add conservatism to nitrogen and helium exposure during a dive, in a similar way that many dive computers have a conservatism setting. The lower the value of a gradient factor, the more conservative the calculations are with respect to inert gas loading and the deeper the ceilings are. Gradient factors of 20/60 are considered conservative and values of 70/90 are considered harsh. For more information see:</p></li><li><p><a href="http://www.tek-dive.com/portal/upload/M-Values.pdf">Understanding M-values by Erik Baker, <em>Immersed</em> Vol. 3, No. 3.</a></p></li><li><p><a href="http://www.rebreatherworld.com/general-and-new-to-rebreather-articles/5037-gradient-factors-for-dummies.html">Gradient factors for dummies, by Kevin Watts</a></p></li></ul></div></li></ul></div></li><li><p><strong>Misc</strong></p><div class="ulist" id="GradientFactors_Ref"><ul><li><p><em>Show unused cylinders in Equipment Tab</em>: This checkbox allows display of information about unused cylinders when viewing the <strong>Equipment Tab</strong>. If this box is not checked, and if any cylinders entered using the <strong>Equipment Tab</strong> are not used (e.g. there was no gas switch to such a cylinder), then these cylinders are omitted from that list.</p></li><li><p><em>Show mean depth</em>: If this box is checked, the <strong>Dive Profile</strong> panel contains a grey line that shows the mean depth of the dive, up to any time instant during the dive. Normally this is a u-shaped line indicating the deepest mean depth just before ascent.</p></li></ul></div></li></ul></div></div><div class="sect2"><h3 id="_language">13.4. Language</h3><div class="paragraph"><p>Choose a language that <em>Subsurface</em> will use.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Pref3_f23.jpg" alt="FIGURE: Preferences Language page"/></div></div><div class="paragraph"><p>Check the <em>System Default</em> language i.e. the language of the underlying operating system if this is appropriate. This is the default setting in <em>Subsurface</em>. To change it, uncheck this checkbox and pick a language / country combination from the list of locations. The <em>Filter</em> text box to list similar languages. For instance there are several system variants of English or French. <strong>This particular preference requires a restart of <em>Subsurface</em> to take effect</strong>.</p></div><div class="paragraph"><p>In this section also specify appropriate date and time formats for showing dive details.</p></div></div><div class="sect2"><h3 id="_network">13.5. Network</h3><div class="paragraph"><p>This panel facilitates communication between <em>Subsurface</em> and data sources on the Internet. This is important, for instance, when <em>Subsurface</em> needs to communicate with web services such as Cloud storage, or when you want to communicate through a proxy.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Pref5_f23.jpg" alt="FIGURE: Preferences Network page"/></div></div><div class="paragraph"><p>This dialogue has three sections:</p></div><div class="ulist"><ul><li><p><em>Proxy</em>: If a proxy server is used for Internet access, the type of proxy needs to be selected from the dropdown list, after which the IP address of the host and the appropriate port number should be provided. If the proxy server uses authentication, the appropriate userID and password are required so that <em>Subsurface</em> can automatically pass through the proxy server to access the Internet. This information is usually obtained from your ISP.</p></li><li><p><em>Subsurface cloud storage</em>: To store your dive log in the cloud, a valid email address and password are required. This lets <em>Subsurface</em> email security information regarding cloud storage to you, and to set up cloud storage appropriately. Two additional options are given:</p><div class="ulist"><ul><li><p><em>Sync to cloud in the background</em>: This option allows saving of dive information to the cloud storage while you do other things within <em>Subsurface</em>.</p></li><li><p><em>Save password locally</em>: This allows local storage of the cloud storage password. Note that this information is saved in raw text form, not encoded in any way.</p></li></ul></div></li></ul></div></div><div class="sect2"><h3 id="_georeference">13.6. Georeference</h3><div class="paragraph"><p><em>Subsurface</em> provides a geo-lookup service (that is, given the coordinates of a dive site) derived from a click on the <strong>Dive Map panel</strong> at the bottom right of the <em>Subsurface</em> window, or from a GPS instrument or from the <em>Subsurface-Mobile</em> app). A search on the Internet is done to find the name of the closest known location. This function only works if <em>Subsurface</em> has an Internet connection. The preference of the dive site name can be configured, e.g. <em>Country/State/City</em> or <em>City/State/Country</em> (see image below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Pref7_f23.jpg" alt="FIGURE: Georeference panel"/></div></div></div></div></div><div class="sect1"><h2 id="S_DivePlanner">14. The <em>Subsurface</em> dive planner</h2><div class="sectionbody"><div class="paragraph"><p>Dive planning is an advanced feature of <em>Subsurface</em>, accessed by selecting <em>Log &#8594; Plan Dive</em> from the main menu. It allows calculation of inert gas load during a dive by using the Bühlmann ZH-L16 algorithm with the addition of gradient factors as implemented by Erik Baker, or using the VPM-B model.</p></div><div class="sidebarblock"><div class="content"><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/warning2.png" alt="Warning"/></td><td class="content">The <em>Subsurface</em> dive planner IS EXPERIMENTAL and assumes the user is already familiar with the <em>Subsurface</em> user interface. It is explicitly used under the following conditions:</td></tr></table></div><div class="ulist"><ul><li><p>The user is conversant with dive planning and has the necessary training to perform dive planning.</p></li><li><p>The user plans dives within his/her certification limits.</p></li><li><p>Dive planning makes large assumptions about the characteristics of the <em>average person</em> and cannot compensate for individual physiology or health or personal history or life style characteristics.</p></li><li><p>The safety of a dive plan depends heavily on the way in which the planner is used.</p></li><li><p>The user is familiar with the user interface of <em>Subsurface</em>.</p></li><li><p>A user who is not absolutely sure about any of the above requirements should not use this feature.</p></li></ul></div></div></div><div class="sect2"><h3 id="_the_em_subsurface_em_dive_planner_screen">14.1. The <em>Subsurface</em> dive planner screen</h3><div class="paragraph"><p>Like the <em>Subsurface</em> dive log, the planner screen is divided into several sections (see image below). The <strong>setup</strong> parameters for a dive are entered into the sections on the left hand and bottom side of the screen. They are: Available Gases, Rates, Planning, Gas Options and Notes.</p></div><div class="paragraph"><p>At the top right hand is a green <strong>design panel</strong> on which the profile of the dive can be manipulated directly by dragging and clicking as explained below. This feature makes the <em>Subsurface</em> dive planner unique in ease of use.</p></div><div class="paragraph"><p>At the bottom right is a text panel with a heading of <em>Dive Plan Details</em>. This is where the details of the dive plan are provided in a way that can easily be copied to other software. This is also where any warning messages about the dive plan are printed.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/PlannerWindow1.jpg" alt="FIGURE: Dive planner startup window"/></div></div></div><div class="sect2"><h3 id="_open_circuit_dives">14.2. Open circuit dives</h3><div class="ulist"><ul><li><p>Towards the center bottom of the planner (circled in blue in the image above) is a dropbox with three options. Select the appropriate one of these:</p><div class="ulist"><ul><li><p>Open Circuit (the default)</p></li><li><p>CCR</p></li><li><p>pSCR</p></li></ul></div></li><li><p>Choose the Open Circuit option.</p></li><li><p>In the top left-hand area of the planning screen, be sure the constant dive parameters are appropriate. These are: Start date and time of the intended dive, Atmospheric Pressure and Altitude above sea level of the dive site. The atmospheric pressure can also be entered as an altitude in meters, assuming a sea-level atmospheric pressure of 1.013 bar.</p></li><li><p>In the table labelled <em>Available Gases</em>, add the information of the cylinders to be used as well as the gas composition within that cylinder. This is done in a similar way as for <a href="#cylinder_definitions">providing cylinder data for dive logs</a>. Choose the cylinder type by double clicking the cylinder type and using the dropdown list, then specify the start pressure of this cylinder. By leaving the oxygen concentration (O<sub>2</sub>%) field empty, the cylinder is assumed to contain air. Otherwise enter the oxygen and/or helium concentration in the boxes provided in this dialogue. Add additional cylinders by using the "+" icon to the top right-hand of the dialogue.</p></li><li><p>The <em>Available Gases</em> table includes three gas depth fields, labelled:</p><div class="ulist"><ul><li><p>Deco switch at: the switch depth for deco gases. Unless overridden by the user, this will be automatically calculated based on the Deco pO<sub>2</sub> preference (default 1.6 bar)</p></li><li><p>Bot. MOD: the gas Maximum Operating Depth (MOD) if it is used as a bottom mix. Automatically calculated based on the Bottom pO<sub>2</sub> preference (default 1.4 bar). Editing this field will modify the O<sub>2</sub>% according to the depth set. Set to <em>'*</em>' to calculate the best O<sub>2</sub>% for the dive maximum depth.</p></li><li><p>MND: the gas Maximum Narcotic Depth (MND). Automatically calculated based on the Best Mix END preference (default 30m / 98 ft). Editing this field will modify the He% according to the depth set. Set to <em>'*</em>' to calculate the best He% for the dive maximum depth.</p></li></ul></div></li><li><p>The profile of the planned dive can be created in two ways:</p><div class="ulist"><ul><li><p>Drag the waypoints (the small white circles) on the existing dive profile to represent the dive. Additional waypoints can be created by double-clicking the existing dive profile. Waypoints can be deleted by right-clicking a particular waypoint and selecting the <em>delete</em> item from the resulting context menu.</p></li><li><p>The most efficient way to create a dive profile is to enter the appropriate values into the table marked <em>Dive planner points</em>. The first line of the table represents the duration and the final depth of the descent from the surface. Subsequent segments describe the bottom phase of the dive. The <em>CC setpoint</em> column is only relevant for closed circuit divers. The ascent is usually not specified because this is what the planner is supposed to calculate. Add additional segments to the profile by selecting the "+" icon at the top right hand of the table. Segments entered into the <em>Dive planner points</em> table automatically appear in the <strong>Dive Profile</strong> diagram.</p></li></ul></div></li></ul></div><div class="sect3"><h4 id="_recreational_dives">14.2.1. Recreational dives</h4><div class="paragraph"><p>Recreational mode is intended for what most divers would call "recreational", "sports"or "nontechnical" dives, remaining within no-deco limits (NDL). It computes the maximum time a diver can stay at the current depth without needing mandatory decompression stops and without using more than the existing gas (minus a reserve). The planner automatically takes into account the nitrogen load incurred in previous dives. But conventional dive tables are also used in a way that can take into account previous dives. Why use a dive planner for recreational dives? The subsurface dive planner provides two significant advantages over the use of recreational dive tables for dive planning.</p></div><div class="paragraph"><p>Firstly, using recreational dive tables, the maximum depth of each previous dive is taken into account. But few dives are done at a constant depth corresponding to the maximum depth (i.e. a "square" dive profile). This means dive tables overestimate the nitrogen load incurred during previous dives. The <em>Subsurface</em> dive planner calculates nitrogen load according to the real dive profiles of all uploaded previous dives, in a similar way as dive computers calculate nitrogen load during a dive. This means that the diver gets <em>credit,</em> in terms of nitrogen load, for not remaining at maximum depth during previous dives, so a longer subsequent dive can be planned. For the planner to work it&#8217;s therefore crucial to log previous dives in <em>Subsurface</em> before doing dive planning.</p></div><div class="paragraph"><p>Secondly, recreational dive tables are not designed to build additional safety features into a dive. NDL times derived from dive tables often take divers close to the limit where decompression sickness (DCS) can arise. The Subsurface dive planner allows a diver to build more safety features into a dive plan, preventing recreational divers from getting close to the limits of getting a DCS hit. This is performed by specifying appropriate gradient factors for a dive plan, as explained below.</p></div><div class="paragraph"><p>To plan a dive, the appropriate settings need to be defined.</p></div><div class="ulist"><ul><li><p>Ensure the date and time is set to that of the intended dive. This allows calculation of the nitrogen load incurred during previous dives.</p></li><li><p>Immediately under the heading <em>Planning</em> are two checkboxes <em>Recreational</em> and <em>Safety Stop</em>. Check these two boxes.</p></li><li><p>Then define the cylinder size, the gas mixture (air or % oxygen) and the working cylinder pressure in the top left-hand section of the planner under <em>Available gases</em>.</p></li><li><p>The planner calculates whether the specified cylinder contains enough air/gas to complete the planned dive. In order for this to be accurate, under <em>Gas options</em>, specify an appropriate surface air consumption (SAC) rate for <em>Bottom SAC</em>. Suitable values are between 15 l/min and 30 l/min, with novice divers or difficult dives requiring SAC rates closer to 30l/min.</p></li><li><p>Define the amount of gas the cylinder must have at the end of the bottom section of the dive just before ascent. A value of 50 bar is often used. The reason for this reserve gas is to provide for the possible need to bring a buddy to the surface using gas sharing. How much gas is used in sharing depends on the depth of the ascent. This can be difficult to estimate, so most agencies assume a fixed amount of gas, or actually of pressure e.g. 40 or 50 bar or 25% or 33% (rule of thirds). But <em>Subsurface</em> can do better because it knows about the ascent and that is why we add the amount of gas during the ascent.</p></li><li><p>Define the depth of the dive by dragging the waypoints (white dots) on the dive profile or (even better) defining the appropriate depths using the table under <em>Dive planner points</em> as described under the previous heading. If this is a multilevel dive, set the appropriate dive depths to represent the dive plan by adding waypoints to the dive profile or by adding appropriate dive planner points to the <em>Dive Planner Points</em> table. <em>Subsurface</em> will automatically extend the bottom section of the dive to the maximum duration within the no-decompression limits (NDL).</p></li><li><p>The ascent speed can be changed. The default ascent speeds are those considered safe for recreational divers.</p></li><li><p>To build additional safety into the dive plan (over and above those of recreational dive tables), specify gradient factors less than 100% (<em>GFHigh</em> and <em>GFLow</em> under the <em>Planning</em> heading in the planner). On the other hand, to approximate the values in recreational dive tables, set the gradient factors to 100. By reducing the values of GFHigh and GFLow to values below 100, one can build more safety into a dive. Decreasing the values of the gradient factors below 100 will shorten the duration of the dive. This is the price of a larger safety margin. Reasons for using gradient factors less than 100 may be the age of the diver, the health of a diver, or unusual conditions such as cold water or strong currents. Realistic conservative values for the gradient factors are GFLow=40% and GFHigh=80%. This allows you to create a cusom dive plan, suited to yourself as well as the dive conditions.</p></li></ul></div><div class="paragraph"><p>Below is an image of a dive plan for a recreational dive at 30 meters with gradient factors of 100. Because the no-deco limit (NDL) is 22 minutes, there remains a significant amount of air in the cylinder at the end of the dive.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Planner_OC_rec1.jpg" alt="FIGURE: A recreational dive plan: setup"/></div></div><div class="paragraph"><p>The dive profile in the planner shows the maximum dive time within no-deco limits using the Bühlmann ZH-L16 algorithm and the gas and depth settings specified as described above. The <em>Subsurface</em> planner allows rapid assessment of dive duration as a function of dive depth, given the nitrogen load incurred during previous dives. The dive plan includes estimates of the amount of air/gas used, depending on the cylinder settings specified under <em>Available gases</em>. If the start cylinder pressure is left blank, the dive duration shown is the true no-deco limit (NDL) without taking into account gas used during the dive. If the surface above the dive profile is RED it means that recreational dive limits are exceeded and either the dive duration or the dive depth needs to be reduced.</p></div><div class="paragraph"><p>Below is the same dive plan as above, but with a safety stop and reduced gradient factors for a larger safety margin.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Planner_OC_rec2.jpg" alt="FIGURE: A recreational dive plan: gradient factors setup"/></div></div></div><div class="sect3"><h4 id="_non_recreational_open_circuit_dives_including_decompression">14.2.2. Non-recreational open circuit dives, including decompression</h4><div class="paragraph"><p>Non-recreational dive planning involves exceeding the no-deco limits and/or using multiple breathing gases. These dives are planned in three stages:</p></div><div class="paragraph"><p><strong>a) Nitrogen management</strong>: This is done by specifying the rates for descent and ascent, as well as the deco model (GFLow, GFHigh or Conservatism level) under the headings <em>Rates</em> and <em>Planning</em> to the bottom left of the planning screen. Two deco models are supported the Bühlmann model and the VPM-B model. Select one of the two models. When selecting the Bühlmann model, the gradient factors (GFHigh and GFLow need to be specified. Initially, the GFHigh and GFLow values in the <em>Preferences</em> panel of <em>Subsurface</em> is used. If these are changed within the planner (see <em>Gas Options</em> within the planner), the new values are used without changing the original values in the <em>Preferences</em>. Gradient Factor settings strongly affect the calculated ceilings and their depths. A very low GFLow value brings on decompression stops early during the dive.</p></div><div class="ulist"><ul><li><p>For more information about Gradient factors, see the section on <a href="#S_GradientFactors">Gradient Factor Preference settings</a>.</p></li></ul></div><div class="paragraph"><p>If the VPM-B model is selected, the Conservatism_level needs to be specified on a scale of 0 (least conservative) to 4 (most conservative). This model tends to give deco stops at deeper levels than the Bühlmann model and often results in slightly shorter dive durations than the Bühlmann model, albeit at the cost of higher tissue compartment pressures in the slow tissues. When selecting one of these models, keep in mind they are NOT exact physiological models but only mathematical models that appear to work in practice.</p></div><div class="paragraph"><p>Please note as well that there is an intrinsic assumption of the VPM-B model that off-gassing only happens during the ascent phase of the dive (which is the part controlled by the planner). Thus it is possible to get misleading results if you manually enter waypoints well in the decompression phase of your dive. This is particularly relevant when editing a dive read from disk in the planner since that will have waypoints up to the surface. Thus for those dives, first delete all waypoints during the ascent phase. This is most easily done by holding the Ctrl- or Command-key while clicking on the trash can icon next to the first ascent waypoint in the table on the left hand side.</p></div><div class="paragraph"><p>For more information external to this manual see:</p></div><div class="ulist"><ul><li><p><a href="http://www.tek-dive.com/portal/upload/M-Values.pdf">Understanding M-values by Erik Baker, <em>Immersed</em> Vol. 3, No. 3.</a></p></li><li><p><a href="http://www.rebreatherworld.com/general-and-new-to-rebreather-articles/5037-gradient-factors-for-dummies.html">Gradient factors for dummies, by Kevin Watts</a></p></li><li><p><a href="https://www.amazon.com/Deco-Divers-Decompression-Theory-Physiology/dp/1905492073/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1403932320&amp;sr=1-1&amp;keywords=deco+for+divers"><em>Deco for Divers</em>, by Mark Powell (2008). Aquapress</a> Southend-on-Sea, UK. ISBN 10: 1-905492-07-3. An excellent non-technical review that discusses both the Bühlmann deco model and the VPM-B model.</p></li></ul></div><div class="paragraph"><p>The ascent rate is critical for nitrogen off-gassing at the end of the dive and is specified for several depth ranges, using the mean depth as a yardstick. The mean depth of the dive plan is shown by a light grey line on the dive profile. Ascent rates at deeper levels are often in the range of 8-12 m/min, while ascent rates near the surface are often in the range of 4-9 m/min. The descent rate is also specified. If the option <em>Drop to first depth</em> is activated, the descent phase of the planned dive will be at the maximal descent rate specified in the <em>Rates</em> section of the dive setup.</p></div><div class="paragraph"><p><strong>b) Oxygen management</strong>: In the <strong>Gas Options</strong> part of the dive specification, the maximum partial pressure for oxygen needs to be specified for the bottom part of the dive (<em>bottom po2</em>) as well as for the decompression part of the dive (<em>deco po2</em>). Commonly used values are 1.4 bar for the bottom part of the dive and 1.6 bar for any decompression stages. Normally, a partial pressure of 1.6 bar is not exceeded. The depth at which switching to a gas takes place can be edited in the <em>Available Gases</em> dialog. Normally, the planner decides on switching to a new gas when, during ascent, the partial pressure of the new gas has decreased to 1.6 bar.</p></div><div class="paragraph"><p><strong>c) Gas management</strong>: With open-circuit dives this is a primary consideration. Divers need to keep within the limits of the amount of gas within the dive cylinder(s), allowing for an appropriate margin for a safe return to the surface, possibly sharing with a buddy. Under the <em>Gas Options</em> heading, specify the best (but conservative) estimate of your surface-equivalent air consumption (SAC, also termed RMV) in liters/min (for the time being, only SI units are supported). Specify the SAC during the bottom part of the dive (<em>bottom SAC</em>) as well as during the decompression or safety stops of the dive (<em>deco SAC</em>). Values of 15-30 l/min are common. For good gas management, a guess is not sufficient and you needs to monitor gas consumption on a regular basis, dependent on different dive conditions and/or equipment. The planner calculates the total volume of gas used during the dive and issues a warning if you exceeds the total amount of gas available. Good practice demands that divers not dive to the limit of the gas supply but that an appropriate reserve is kept for unforeseen circumstances. For technical diving, this reserve can be up to 66% of the total available gas. In addition to calculating the total gas consumption for every cylinder the planner provides one way of calculating the recommended volume of bottom gas which is needed for safe ascent to the first deco gas change depth or the surface. This procedure is called the "minimum gas" or "rock bottom" consideration and it is used by various (but not all) technical diving organisations. See the text below for a detailed explanation.</p></div><div class="paragraph"><p>Now you can start the detailed time-depth planning of the dive. <em>Subsurface</em> offers an unique graphical interface for doing planning. The mechanics are similar to hand-entering a dive profile in the dive log part of <em>Subsurface</em>. Upon activating the planner, a default dive of depth 15 m for 20 min is offered in the blue design surface in the top right hand part of the planner window. The white dots (waypoints) on the profile can be dragged with a mouse. Create more waypoints by double-clicking on the profile line and ensuring the profile reflects the intended dive. Drag the waypoints to represent the depth and duration of the dive. It is NOT necessary to specify the ascent part of the dive since the planner calculates this, based on the existing settings. If any of the management limits (for nitrogen, oxygen or gas) are exceeded, the surface above the dive profile changes from BLUE to RED.</p></div><div class="paragraph"><p>Each waypoint on the dive profile creates a <em>Dive Planner Point</em> in the table on the left of the dive planner panel. Ensure the <em>Used Gas</em> value in each row of that table corresponds to one of the gas mixtures specified in the <em>Available Gases</em> table. Add new waypoints until the main features of the dive have been completed, e.g. the bottom time segment and deep stops (if these are implemented). In most cases <em>Subsurface</em> computes additional way points in order to fulfill decompression requirements for that dive. A waypoint can also be moved by selecting it and by using the arrow keys. The waypoints listed in the <em>Dive Planner Points</em> dialogue can be edited by hand in order to get a precise presentation of the dive plan. In fact, it is sometimes more easy to create the whole dive profile by editing the <em>Dive Planner Points</em> dialog.</p></div><div class="paragraph"><p>Show any changes in gas cylinder used by indicating gas changes as explained in the section <a href="#S_CreateProfile">hand-creating a dive profile</a>. These changes should reflect the cylinders and gas compositions defined in the table with <em>Available Gases</em>. If two or more gases are used, automatic gas switches will be planned during the ascent to the surface.</p></div><div class="paragraph"><p>Cylinders used for the plan need to be entered in the table of <em>Available gases</em>. In the column <em>Type</em> select the appropriate cylinder size by using the dropdown list that appears when double-clicking a cell in this column. By default, a large number of sizes are listed, and a new cylinder size can be created by typing this into the text box. The cylinder size, start pressure and default switch depths are initialised automatically. Specify the gas composition (e.g. helium and oxygen content). A non-zero value in the "CC setpoint" column of the table of dive planner points indicates a valid setpoint for oxygen partial pressure and that the segment is dived using a closed circuit rebreather (CCR). If the last manually entered segment is a CCR segment, the decompression phase is computed assuming the diver uses a CCR with the specified set-point. If the last segment (however short) is on open circuit (OC, indicated by a zero set-point) the decompression is computed in OC mode and the planner only considers gas changes in OC mode.</p></div><div class="paragraph"><p>Enter dive profile segments in the <em>Dive planner points</em> table by providing a time duration for a segment as well as its final depth. If more than one cylinder is used during the dive, ensure that the appropriate cylinder is selected for each segment of the dive plan by double-clicking the cell and selecting the appropriate cylinder from the dropdown list in the <em>Used gas</em> column. If required, insert a row in the <em>Dive planner points</em> table by adding a new line and then setting the <em>Run time</em> value appropriately. In image A below, a segment (using an EAN50 cylinder) has been added and you wish to use this gas during the very start of the dive (the other gas is not breathable at the surface). Upon pressing Enter on the keyboard, that segment is moved to the top of that table and the plan is adjusted automatically to take into account this new segment of the dive plan (image B below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/planner1.jpg" alt="FIGURE: Planning a dive: segments"/></div></div><div class="paragraph"><p>Below is an example of a dive plan to 55m using Tx20/30 and the Bühlmann algorithm, followed by an ascent using EAN50 and using the settings as described above.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Planner_OC_deco.jpg" alt="FIGURE: Planning a dive: setup"/></div></div><div class="paragraph"><p>Once the above steps have been completed, save by clicking the <em>Save</em> button towards the top middle of the planner. The saved dive plan will appear in the <strong>Dive List</strong> panel of <em>Subsurface</em>.</p></div><div class="paragraph"><p><strong>The dive plan details</strong></p></div><div class="paragraph"><p>On the bottom right panel of the dive planner, under <em>Dive Plan Details</em>, the details of the dive plan are provided. These may be modified by checking any of the options under the <em>Notes</em> section of the dive planner, immediately to the left of the <em>Dive Plan Details</em>. If a <em>Verbatim dive plan</em> is requested, a detailed sentence-level explanation of the dive plan is given. If any of the management specifications have been exceeded during the planning, a warning message is printed underneath the dive plan information.</p></div><div class="paragraph"><p>If the option <em>Display segment duration</em> is checked, then the duration of each depth level is indicated in the <em>Dive Plan Details</em>. This duration INCLUDES the transition time to get to that level. However, if the <em>Display transition in deco</em> option is checked, the transitions are shown separately from the segment durations at a particular level.</p></div><div class="paragraph"><p><strong>Dive plan variations</strong>: The planner has a check box <em>Display plan variations</em>. By checking this box, the planner provides information about a dive that is a little deeper or slightly longer than the planned dive. This is found near the top of the <em>Dive plan details</em> where the dive duration is indicated. The information is intended to be used if it is necessary to modify the ascent "on the fly" in the case of unexpected deviations from the dive plan during the dive. For example, if it says "Runtime: 123min, Stop times + 2:49 /m + 1:30 /min" this means: if you dive deeper than planned, you should add almost 3 minutes per meter you go deeper to your decompression (and you can substract 3 minutes per meter that you stay shallower). If you overstay your bottom time, you need to add one and a half minutes to the stops for each minutes you overstay and similarly, you can shorten your deco time by one and a half minute for each minute you stay shorter. These variations of depth and time are based on the last manually entered segment of the dive (not necessarily the deepest). The additional minutes should be distributed over the differnent stops in a way proportional to the stop length, i.e. add more of the additional minutes to the longer, shallower stops. The given times refer to the duration of the decompression phase and do not include the extended bottom time! This way of altering dive plans becomes inaccurate for large deviations from the original plan. So it should not be trusted for more than a few minutes or meters of deviations from the planned bottom time. Checking this option creates a lot of additional computation, to such a degree that the planner is slower than otherwise.</p></div><div class="paragraph"><p><strong>Minimum gas requirements</strong>: The planner also estimates the <em>minimum gas</em> pressure required for safe ascent after an event that causes the dive to be aborted. The calculation assumes that in worst case an out of gas (OoG) situation occurs at the end of the planned bottom time at maximum depth, requiring additional time at maximum depth to solve the problem and forcing the buddy pair the share the gas of one diver. In addition the combined SAC of both divers is increased by an estimated factor compared to the SAC of a single diver under normal conditions. The result of the minimum gas calculation for the bottom gas is printed to the planner output. There are two selector boxes on the left of the <em>Dive plan details</em>:</p></div><div class="ulist"><ul><li><p><em>SAC factor</em>. This is an estimate of the degree to which your SAC increases if a critical problem arises underwater, e.g. gas sharing or entanglement. Realistic values range from 3 to 5, reflecting the gas use of two divers sharing a single gas cylinder after an OoG situation.</p></li><li><p><em>Problem solving time</em>. This is an estimate of how long you would take to solve the problem before starting the ascent to terminate the dive. The default value is 2 minutes.</p></li></ul></div><div class="paragraph"><p>Using the above information, the planner then estimates what the minimum bottom gas cylinder pressure needs to be for a safe ascent. This information is given near the bottom of the <em>Dive plan details</em>, following the calculation of bottom gas used during the dive if it exactly follows the plan. the minimum gas is typically given as:</p></div><div class="literalblock"><div class="content"><pre><code>Minimum gas (based on 2.0xSAC/+1min@81m): 2130 l/90bar/Δ:+80bar</code></pre></div></div><div class="paragraph"><p>This indicates:</p></div><div class="ulist"><ul><li><p>Within parentheses, the <em>SAC factor</em> and <em>Problem solving time</em> specified.</p></li><li><p>The number of liters of back gas required for a safe ascent (2130 litres in the example above)</p></li><li><p>The number of bars of back gas required for a safe ascent (90 bars in the example above).</p></li><li><p>The delta-value: number of bars of back gas available at the end of the bottom section of the dive, <em>over and above</em> the minimum gas requirement (80 bars in the above example). A positive delta reflects a safe plan; a negative delta indicates insufficient gas for a safe ascent.</p></li></ul></div><div class="paragraph"><p>No automatic checks are performed based on this result. The feature only gives valid results for simple, rectangular shaped single level dive profiles. For multi level dives one would need to check every leg of the profile independently.</p></div><div class="paragraph"><p><strong>Isobaric counterdiffusion information</strong>: For gas switches during the ascent in hypoxic open-circuit trimix dives information about isobaric counterdiffusion (icd) is given near the bottom of the <em>Dive plan details</em>, based on the rule-of-fifths (i.e. during a gas change, the increase in nitrogen partial pressure should not exceed one fifth of the corresponding decrease in partial pressure of helium). For each gas change, two lines are printed, indicating the changes in gas fractions (%) and the equivalent changes in partial pressures. If the rule-of-fifths is not met, the relevant information is highlighted in red and a warning message appears at the bottom of that table. The gas change events on the dive profile also provide information on icd, visible at the bottom of the <em>Information box</em> when the mouse hovers on the respective gas change icon. This information is only shown for gas changes relevant with respect to icd. If the rule-of-fifths is not met, a red warning exclamation mark is shown over the gas change icon. When relevant, the <em>Information box</em> contains information such as: ICD ΔHe:-13% ΔN₂+3%&gt;2.6%. This means: for this gas change, the helium decreased with 13% while the nitrogen increased with 3% which is more than the 2.6% maximum increase in nitrogen suggested by the rule-of-fifths.</p></div><div class="sidebarblock"><div class="content"><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/warning2.png" alt="Warning"/></td><td class="content">The <strong>plan variations</strong> and <strong>minimum gas</strong> estimates are only guidelines for a diver performing dive planning, intended to enhance the safety of executing a particular dive plan and do not replace formal contingency planning for a specific dive. They are NOT precise and should NOT be relied upon as the only safety features in dive planning. Interpret these estimates within the framework of your formal training to perform dive planning.</td></tr></table></div></div></div></div></div><div class="sect2"><h3 id="_planning_pscr_dives">14.3. Planning pSCR dives</h3><div class="paragraph"><p>To plan a dive using a passive semi-closed rebreather (pSCR), select <em>pSCR</em> rather than <em>Open circuit</em> in the dropdown list. The parameters of the pSCR dive can be set by selecting <em>File &#8594; Preferences &#8594; Profile</em> from the main menu, where the gas consumption calculation takes into account the pSCR dump ratio (default 1:8) as well as the metabolic rate. Specify the bottom and deco SAC rates. Here the SAC in the planner is the volume of gas per minute that is exhaled into the loop on the surface, <strong>not</strong> the amount of gas that escapes into the water. The calculation takes the oxygen drop across the mouthpiece of the rebreather into account. If the pO<sub>2</sub> drops below what is considered safe, a warning appears in the <em>Dive plan details</em>. A typical pSCR cylinder setup is very similar to an open circuit dive; one or more dive cylinders, possibly with different bottom and decompression gases, including gas switches during the dive like in open circuit diving. Therefore, the setup of the <em>Available gases</em> and the <em>Dive planner points</em> tables are very similar to that of a open circuit dive plan, described above. However, no oxygen setpoints are specified for pSCR dives. Below is a dive plan for a pSCR dive. The dive is comparable to that of the CCR dive below, but note the longer ascent duration due to the lower oxygen in the loop due to the oxygen drop across the mouthpiece of the pSCR equipment.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Planner_pSCR.jpg" alt="FIGURE: Planning a pSCR dive: setup"/></div></div><div class="sect3"><h4 id="_planning_for_pscr_bailout">14.3.1. Planning for pSCR bailout</h4><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/pscr_b1.jpg" alt="Note"/></td><td class="content">Open circuit diving is often part of a pSCR dive because, at shallow depths, the pO<sub>2</sub> in the loop is often too low for breathing and the shallow parts of a pSCR dive are often done on OC. The change from rebreather mode to OC or <em>vice versa</em> is indicated using bailout events. The image on the left shows a pSCR dive plan (using three cylinders) where the shallow parts of the dive are performed using EAN50 in order to have a sufficient pO<sub>2</sub>. The bottom part of the dive is perfomed with EAN31 (Cyl. 2 in the <strong>Available gases</strong> table, also indicated in the <strong>Dive planner points</strong> table). The third cylinder, also EAN31, is a bailout cylinder which is, initially, not used. In this case the plan is for a cave dive with a bottom time of 20 minutes and the turning point in the bottom part of the dive is at 16 minutes (i.e. ten minutes into the bottom part of the dive). The orange pO<sub>2</sub> graph indicates the equivalent OC pO<sub>2</sub> during the dive and the green pO<sub>2</sub> indicates the estimated pO<sub>2</sub> in the loop, the whole dive being performed in rebreather mode. We wish to plan for a worst-case scenario with bailout at the turning point (i.e. the furthest point into the cave). In the <strong>Dive planner points</strong> table, change the <strong>Dive mode</strong> of the last two segments to <strong>OC</strong> (indicated in the left-hand image, labled <strong>A</strong>, below). In this case the existing EAN31 cylinder (Cyl.2 in the <strong>Dive planner points</strong> table is used for bailout (i.e. the bailout cylinder [Cyl. 3] has not been used yet). Note that the pO<sub>2</sub> graph now indicates the appropriate pO<sub>2</sub> values, since the gas breathed now has the pO<sub>2</sub> of an OC configuration. In order to switch to the bailout cylinder (Cyl. 3), indicate this by selecting the appropriate cylinder in the <strong>Dive planner points</strong> table as indicated in the image on the right, below (labeled <strong>B</strong>). The icon on the depth profile now shows an overlapping bailout event with cylinder change. As in the graph on the left, the appropriate pO<sub>2</sub> values are shown in the pO<sub>2</sub> graphs. The volumes of gas required can be obtained at the bottom of the <strong>Dive plan details</strong> panel.</td></tr></table></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/pscr_b2.jpg" alt="FIGURE: Planning a pSCR dive: setup"/></div></div><div class="paragraph"><p>In the case of a pSCR dive plan for open water, the worst-case scenario is probably bailout at the end of the deepest part of the dive. Create a 1-minute segment at the end of the deepest part of the dive plan. This last segment (represented by the bottom row of the <strong>Dive planner points</strong> table) is then manipulated using the <strong>Dive mode</strong> and <strong>Used gas</strong> columns, as in the cave example, above. See the example of bailout for a CCR dive, below, that uses this approach.</p></div></div></div><div class="sect2"><h3 id="_planning_ccr_dives">14.4. Planning CCR dives</h3><div class="paragraph"><p>To plan a dive using a closed circuit rebreather, select the <em>CCR</em> option in the dropdown list, circled in blue in the image below.</p></div><div class="paragraph"><p><strong>Available gases</strong>: In the <em>Available gases</em> table, enter the cylinder information for the diluent cylinder and for any bail-out cylinders. Do NOT enter the information for the oxygen cylinder since it is implied when the <em>CCR</em> dropdown selection is made.</p></div><div class="paragraph"><p><strong>Entering setpoints</strong>: Specify a default setpoint in the Preferences tab, by selecting <em>File &#8594; Preferences &#8594; Profile</em> from the main menu. All user-entered segments in the <em>Dive planner points</em> table use the default setpoint value. Then, different setpoints can be specified for dive segments in the <em>Dive planner points</em> table. A zero setpoint means the diver bails out to open circuit mode for that segment. Decompression is always calculated using the setpoint of the last manually entered segment. So, to plan a bail out ascent for a CCR dive, add a one-minute dive segment to the end with a setpoint value of 0. The decompression algorithm does not switch deco-gases automatically while in CCR mode (i.e. when a positive setpoint is specified) but this is calculated for bail out ascents.</p></div><div class="paragraph"><p>The dive profile for a CCR dive may look something like the image below.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Planner_CCR.jpg" alt="FIGURE: Planning a CCR dive: setup"/></div></div><div class="paragraph"><p>Note that, in the <em>Dive plan details</em>, the gas consumption for a CCR segment is not calculated, so gas consumptions of 0 liters are the norm.</p></div><div class="sect3"><h4 id="_planning_for_ccr_bailout">14.4.1. Planning for CCR bailout</h4><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/CCR_b1.jpg" alt="Note"/></td><td class="content">It is often necessary to plan for a worst-case bailout event in order to ensure sufficient bailout gas to reach the surface, taking into account decompression. This is done by defining a 1-minute segment at the end of the bottom part of the dive, as in the image on the left where a CCR dive to 40m for 21 minutes is planned.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/CCR_b2.jpg" alt="Note"/></td><td class="content">In the dive planner points table, change the <em>Dive mode</em> of this 1-minute segment to <em>OC</em>. This signifies bailout. In this case there is bailout to the existing diluent cylinder (assuming this cylinder has sufficient gas). The appropriate pO<sub>2</sub> and cylinder pressure graphs are shown in the dive profile, as in the image on the left. Note that the setpoint drops to zero after bailout, since this value does not apply to breathed bailout gas.</td></tr></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/CCR_b3.jpg" alt="Note"/></td><td class="content">In order to plan for bailout to an external bailout cylinder, change the <em>Used gas</em> for the 1-minute segment to the appropriate cylinder, as in the example on the left. Note that the cylinder change as well as the bailout are indicated with overlapping icons.</td></tr></table></div><div class="paragraph"><p>The volumes of gases required for bailout can be found at the bottom of the <strong>Dive plan details</strong> panel.</p></div></div></div><div class="sect2"><h3 id="S_Replan">14.5. Modifying an existing dive plan</h3><div class="paragraph"><p>Normally, when a dive plan has been saved, it is accessible from the <strong>Dive List</strong>, like any other dive log. Within the <strong>Dive List</strong> there is no way to change a saved dive plan. To change a dive plan, select it on the <strong>Dive List</strong>. Then, in the main menu, select <em>Log &#8594; Re-plan dive</em>. This will open the selected dive plan within the dive planner, allowing changes to be made and saved as usual.</p></div><div class="paragraph"><p>In addition, there is the option "Save new". This keeps the original planned dive and adds a (possibly modified, - earlier dives are now taken into account -) copy to the dive list. If that copy is saved with the same start time as the original, the two dives are considered two versions of the same dive and do not influence other each during decompression calculation (see next section).</p></div></div><div class="sect2"><h3 id="_planning_for_repetitive_dives">14.6. Planning for repetitive dives</h3><div class="paragraph"><p>Repetitive dives can easily be planned if the dates and start times of the repetitive dive set are specified appropriately in the top left-hand <em>Start Time</em> field. <em>Subsurface</em> calculates the gas loading figures and the affect of the first dive is evaluated on later dives.</p></div><div class="paragraph"><p>If you have just completed a long/deep dive and are planning another dive, then highlight, in the <strong>Dive List</strong>, the dive that has just been logged then activate the planner. Depending on the start time of the planned dive, the planner takes into account the gas loading during the completed dive and plans accordingly.</p></div><div class="paragraph"><p>If only a few standard configurations are used (e.g. in GUE), then a template dive can be created conforming to one of the configurations. If you want to plan a dive using this configuration, highlight the template dive in the <strong>Dive List</strong> and activate the planner: the planner takes into account the configuration in the highlighted dive.</p></div></div><div class="sect2"><h3 id="_printing_the_dive_plan">14.7. Printing the dive plan</h3><div class="paragraph"><p>Selecting the <em>Print</em> button in the planner allows printing of the <em>Dive Plan Details</em> for wet notes. You can also cut and paste the <em>Dive Plan Details</em> to include in a text file or word processing document.</p></div><div class="paragraph"><p>However, after the plan has been saved, it is represented in a way very similar to a dive log and the gas calculations cannot be accessed in the same way as during the planning process. The only way to print the dive plan is to use the <em>File &#8594; Print</em> function on the main menu in the same way as for dive logs or by copy and paste to a word processor.</p></div></div><div class="sect2"><h3 id="S_MergeDivePlan">14.8. Saving a dive with its dive plan</h3><div class="paragraph"><p>In the section dealing with <a href="#S_MultipleDiveComputers">dives using more than one dive computer</a> we discussed the way in which multiple profiles for a single dive can be viewed using the left-arrow and right-arrow keyboard keys. A similar method can be used for saving a dive plan with the profile of the actual dive, once this has been uploaded into <em>Subsurface</em>. In order to do this:</p></div><div class="ulist"><ul><li><p>Do the dive planning and save the final plan in the <em>Dive List</em>.</p></li><li><p>After diving, upload the dive data from the dive computer.</p></li><li><p>Change the date and time of the <em>dive plan</em> to coincide with that of the real-life dive from the <em>dive computer</em>.</p></li><li><p>In the <em>Dive List</em>, highlight the dive plan as well as the data for the real dive and merge the two dives, making use of the Dive List Context Menu (available by right-clicking a dive).</p></li></ul></div><div class="paragraph"><p>The text version of the dive plan is appended to the Notes in the <em>Notes Tab</em>. With this merged dive highlighted in the <em>Dive List</em>, switch between the planned profile and the real-life profile using the right-arrow/left-arrow keyboard keys.</p></div></div></div></div><div class="sect1"><h2 id="_running_em_subsurface_em_from_the_command_line">15. Running <em>Subsurface</em> from the command-line</h2><div class="sectionbody"><div class="paragraph"><p><em>Subsurface</em> can be launched from the command-line to set some specialised settings or as part of an script-based automated process for manipulating a dive log. The format for launching <em>Subsurface</em> from the command-line is:</p></div><div class="literalblock"><div class="content"><pre><code>subsurface [options] [logfile ...] [--import logfile ...]</code></pre></div></div><div class="paragraph"><p>The options include:</p></div><div class="tableblock"><table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4"><col width="50%"/><col width="50%"/><tbody><tr><td align="left" valign="top"><p class="table"><strong>Command-line option</strong></p></td><td align="left" valign="top"><p class="table"><strong>Description</strong></p></td></tr><tr><td align="left" valign="top"><p class="table">--help</p></td><td align="left" valign="top"><p class="table">Print a summary of the command-line options</p></td></tr><tr><td align="left" valign="top"><p class="table">-h</p></td><td align="left" valign="top"><p class="table">Print a summary of the command-line options</p></td></tr><tr><td align="left" valign="top"><p class="table">--import logfile</p></td><td align="left" valign="top"><p class="table">A file name before this option is treated as an existing dive log, everything after is imported into the existing dive log</p></td></tr><tr><td align="left" valign="top"><p class="table">--verbose</p></td><td align="left" valign="top"><p class="table">Print debug information while running <em>Subsurface</em></p></td></tr><tr><td align="left" valign="top"><p class="table">-v</p></td><td align="left" valign="top"><p class="table">Print debug information while running <em>Subsurface</em></p></td></tr><tr><td align="left" valign="top"><p class="table">-v -v</p></td><td align="left" valign="top"><p class="table">Print even more debug information while running <em>Subsurface</em></p></td></tr><tr><td align="left" valign="top"><p class="table">--version</p></td><td align="left" valign="top"><p class="table">Prints the current version of <em>Subsurface</em></p></td></tr><tr><td align="left" valign="top"><p class="table">--survey</p></td><td align="left" valign="top"><p class="table">Opens the <a href="#S_UserSurvey">user survey</a> immediately after starting <em>Subsurface</em></p></td></tr><tr><td align="left" valign="top"><p class="table">--user=&lt;username&gt;</p></td><td align="left" valign="top"><p class="table">Choose the <a href="#S_user_space">configuration space</a> of user &lt;username&gt;</p></td></tr><tr><td align="left" valign="top"><p class="table">--cloud-timeout=&lt;duration&gt;</p></td><td align="left" valign="top"><p class="table">Set the timeout for cloud connection (0 &lt; duration &lt; 60). This enables longer timeouts for slow Internet connections</p></td></tr></tbody></table></div></div></div><div class="sect1"><h2 id="_description_of_the_subsurface_main_menu_items">16. Description of the Subsurface Main Menu items</h2><div class="sectionbody"><div class="paragraph"><p>This section describes the functions and operation of the items in the Main Menu of Subsurface. Several of the items below are links to sections of this manual dealing with the appropriate operations.</p></div><div class="sect2"><h3 id="_file">16.1. File</h3><div class="ulist"><ul><li><p><a href="#S_NewLogbook"><em>New Logbook</em></a> - Close the currently open dive logbook and clear all dive information.</p></li><li><p><em>Open logbook</em> - Open the file manager to select a dive logbook to open.</p></li><li><p><em>Save</em> - Save the dive logbook currently open.</p></li><li><p><em>Save as</em> - Save the current logbook under a different file name.</p></li><li><p><em>Open cloud storage</em> - Open the dive log previously saved in <a href="#S_Cloud_storage"><em>Cloud storage</em></a>.</p></li><li><p><em>Save to cloud storage</em> - Save the current dive log to <a href="#S_Cloud_storage"><em>Cloud storage</em></a>.</p></li><li><p><em>Cloud storage online</em> - Switch between the online version of the logbook, and the locally stored one.</p></li><li><p><em>Close</em> - Close the dive logbook currently open.</p></li><li><p><a href="#S_ExportLog"><em>Export</em></a> - Export the currently open dive logbook (or the selected dives in the logbook) to one of several formats.</p></li><li><p><a href="#S_PrintDivelog"><em>Print</em></a> - Print the currently open logbook.</p></li><li><p><a href="#S_Preferences"><em>Preferences</em></a> - Set the <em>Subsurface</em> preferences.</p></li><li><p><a href="#S_FindMovedImages"><em>Find moved media</em></a> - If photos/videos taken during dives have been moved to a different disk or directory, locate them and link them to the appropriate dives.</p></li><li><p><a href="#S_Configure"><em>Configure dive computer</em></a> - Edit the configuration of a dive computer.</p></li><li><p><em>Quit</em> - Quit <em>Subsurface</em>.</p></li></ul></div></div><div class="sect2"><h3 id="_edit">16.2. Edit</h3><div class="ulist"><ul><li><p>The Edit option allows one to undo or redo an action, e.g. deleting dives.</p></li></ul></div></div><div class="sect2"><h3 id="_import">16.3. Import</h3><div class="ulist"><ul><li><p><a href="#S_ImportDiveComputer"><em>Import from dive computer</em></a> - Import dive information from a dive computer.</p></li><li><p><a href="#Unified_import"><em>Import Log Files</em></a> - Import dive information from a file in in a <em>Subsurface</em>-compatible format.</p></li><li><p><a href="#S_ImportingDivelogsDe"><em>Import from Divelogs.de</em></a> - Import dive information from <em>www.Divelogs.de</em>.</p></li></ul></div></div><div class="sect2"><h3 id="_log">16.4. Log</h3><div class="ulist"><ul><li><p><a href="#S_EnterData"><em>Add Dive</em></a> - Manually add a new dive to the <strong>Dive List</strong> panel.</p></li><li><p><a href="#S_DivePlanner"><em>Plan Dive</em></a> - Plan dives.</p></li><li><p><a href="#S_Replan"><em>Edit dive in planner</em></a> - Edit a dive plan that has been saved into the <strong>Dive List</strong>.</p></li><li><p><a href="#S_CopyComponents"><em>Copy dive components</em></a> - Copy information from several fields of a dive log onto the clipboard.</p></li><li><p><em>Paste dive components</em> - Paste, into the selected dives in the <strong>Dive List</strong>, the information copied using the <em>Copy dive components</em> option.</p></li><li><p><a href="#S_Renumber"><em>Renumber</em></a> - Renumber the dives listed in the <strong>Dive List</strong> panel.</p></li><li><p><a href="#S_Group"><em>Auto Group</em></a> - Group the dives in the <strong>Dive List</strong> panel into dive trips.</p></li><li><p><a href="#S_DeviceNames"><em>Edit Device Names</em></a> - Edit the names of dive computers to coordinate your logs.</p></li><li><p><a href="#S_Filter"><em>Filter divelist</em></a> - Select only some dives, based on specific tags or dive criteria.</p></li></ul></div></div><div class="sect2"><h3 id="_view">16.5. View</h3><div class="ulist"><ul><li><p><a href="#S_ViewPanels"><em>All</em></a> - View the four main <em>Subsurface</em> panels all at once.</p></li><li><p><a href="#S_ViewPanels"><em>Dive List</em></a> - View only the <strong>Dive List</strong> panel.</p></li><li><p><a href="#S_ViewPanels"><em>Profile</em></a> - View only the <strong>Dive Profile</strong> panel.</p></li><li><p><a href="#S_ViewPanels"><em>Info</em></a> - View only the <strong>Notes</strong> panel.</p></li><li><p><a href="#S_ViewPanels"><em>Globe</em></a> - View only the <strong>World Map</strong> panel.</p></li><li><p><em>Yearly Statistics</em> - Display summary statistics about dives during this and past years.</p></li><li><p><em>Prev DC</em> - Switch to data from previous dive computer, if a single dive was logged from more than one. See the sections on <a href="#S_MultipleDiveComputers">using multiple dive computers for the same dive</a> and <a href="#S_MergeDivePlan">Saving an uploaded dive with its dive plan</a>.</p></li><li><p><em>Next DC</em> - Switch to next dive computer.</p></li><li><p><em>Full Screen</em> - Toggles Full Screen mode.</p></li></ul></div></div><div class="sect2"><h3 id="_share_on">16.6. Share on</h3><div class="ulist"><ul><li><p><a href="#S_Facebook"><em>Facebook</em></a> - Share the currently selected dive on your Facebook timeline.</p></li></ul></div></div><div class="sect2"><h3 id="_help">16.7. Help</h3><div class="ulist"><ul><li><p><em>About Subsurface</em> - Show a panel with the version number of <em>Subsurface</em> as well as licensing information.</p></li><li><p><em>Check for updates</em> - Find out whether a newer version of Subsurface is available on the <a href="https://subsurface-divelog.org/"><em>Subsurface</em> web site</a>.</p></li><li><p><a href="#S_UserSurvey"><em>User survey</em></a> - Help to make <em>Subsurface</em> even better by taking part in our user survey or by completing another survey if your diving habits have changed.</p></li><li><p><em>User manual</em> - Open a window showing this user manual.</p></li></ul></div></div></div></div><div class="sect1"><h2 id="_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer">17. APPENDIX A: Operating system specific information for importing dive information from a dive computer.</h2><div class="sectionbody"><div class="sect2"><h3 id="_make_sure_that_the_os_has_the_required_drivers_installed">17.1. Make sure that the OS has the required drivers installed</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/drivers.jpg" alt="Note"/></td><td class="content">The operating system of the desktop computer needs the appropriate drivers in order to communicate with the dive computer, the way the dive computer prefers (e.g. Bluetooth, USB, infra-red).</td></tr></table></div><div class="ulist"><ul><li><p>On Linux users need to have the correct kernel module loaded. Most distributions will do this automatically, so the user does not need to load kernel modules. However, some communication protocols require an additional driver, especially for rarely used technology such as infra-red.</p></li><li><p>On Windows, the OS should offer to download the correct driver once the user connects the dive computer to the USB port and operating system sees the equipment for the first time.</p></li><li><p>On a Mac users sometimes have to manually hunt for the correct driver. For example the correct driver for the Mares Puck devices or any other dive computer using a USB-to-serial interface based on the Silicon Labs CP2101 or similar chip can be found as <em>Mac_OSX_VCP_Driver.zip</em> at the <a href="https://www.silabs.com/support/pages/document-library.aspx?p=Interface&amp;f=USB%20Bridges&amp;pn=CP2101">Silicon Labs document and software repository</a>.</p></li></ul></div></div><div class="sect2"><h3 id="S_HowFindDeviceName">17.2. How to Find the Device Name for USB devices and set its write permission</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/usb.jpg" alt="Note"/></td><td class="content">When connecting a dive computer by using a USB connector, usually <em>Subsurface</em> will either propose a drop down list with the correct device name (or mount point for the Uemis Zurich), or it will disable the device select drop down if no device name is needed at all. In the rare cases where this doesn&#8217;t work, here are some ways to find out what the device name is:</td></tr></table></div><div class="paragraph"><div class="title">On Windows:</div><p>Simply try COM1, COM2, etc. The drop down list should contain all connected COM devices.</p></div><div class="paragraph"><div class="title">On MacOS:</div><p>The drop down box should find all connected dive computers.</p></div><div class="paragraph"><div class="title">On Linux:</div><p>There is a definitive way to find the port:</p></div><div class="ulist"><ul><li><p>Disconnect the USB cable from the dive computer</p></li><li><p>Open a terminal</p></li><li><p>Type the command: <em>dmesg</em> and press enter</p></li><li><p>Plug in the USB cable of the dive computer</p></li><li><p>Type the command: <em>dmesg</em> and press enter</p></li></ul></div><div class="paragraph"><p>A message similar to this one should appear:</p></div><div class="literalblock"><div class="content"><pre><code>usb 2-1.1: new full speed USB device number 14 using ehci_hcd
usbcore: registered new interface driver usbserial
USB Serial support registered for generic
usbcore: registered new interface driver usbserial_generic
usbserial: USB Serial Driver core
USB Serial support registered for FTDI USB Serial Device
ftdi_sio 2-1.1:1.0: FTDI USB Serial Device converter detected
usb 2-1.1: Detected FT232BM
usb 2-1.1: Number of endpoints 2
usb 2-1.1: Endpoint 1 MaxPacketSize 64
usb 2-1.1: Endpoint 2 MaxPacketSize 64
usb 2-1.1: Setting MaxPacketSize 64
usb 2-1.1: FTDI USB Serial Device converter now attached to ttyUSB3
usbcore: registered new interface driver ftdi_sio
ftdi_sio: v1.6.0:USB FTDI Serial Converters Driver</code></pre></div></div><div class="paragraph"><p>The third line from the bottom shows that the FTDI USB adapter is detected and connected to <code>ttyUSB3</code>. This information can now be used in the import settings as <code>/dev/ttyUSB3</code> which directs Subsurface to the correct USB port.</p></div><div class="paragraph"><p>Ensuring the user has write permission to the USB serial port:</p></div><div class="paragraph"><p>On Unix-like operating systems the USB ports can only be accessed by users who are members special group that can be e.g. <code>dialout</code> or <code>uucp</code>. This can be verified by listing the appropriate device permissions e.g. by <code>ls -l /dev/ttyUSB0</code>. Note that the number in the file name depends on how many USB devices you have connected, and must be adjusted appropriately. If you are not root, you may not be a member of that group and won&#8217;t be able to use the USB port. Let us assume your username is <em>johnB</em>.</p></div><div class="ulist"><ul><li><p>As root, type: <code>usermod -a -G dialout johnB</code> (Ubuntu users: <code>sudo usermod -a -G dialout johnB</code>) This makes johnB a member of the <code>dialout</code> group.</p></li><li><p>Type: <code>id johnB</code> This lists all the groups that johnB belongs to and verifies that the appropriate group membership has been created. The <code>dialout</code> group should be listed among the different IDs.</p></li><li><p>Under some circumstances this change takes only effect (eg. on Ubuntu) after you log out and then log in again.</p></li></ul></div><div class="paragraph"><p>With the appropriate device name (e.g. <code>dev/ttyUSB3</code>) and with write permission to the USB port, the dive computer interface can connect and you should be able to import dives.</p></div></div><div class="sect2"><h3 id="S_HowFindBluetoothDeviceName">17.3. Manually setting up Bluetooth enabled devices</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/bluetooth.jpg" alt="Note"/></td><td class="content">For dive computers communicating through Bluetooth like the Heinrichs Weikamp Frog or the Shearwater Predator, Petrel and Nerd there is a different procedure to get the device’s name to communicate with <em>Subsurface</em>. Follow these steps:</td></tr></table></div><div class="ulist"><ul><li><p><strong>For the dive computer, after enabling Bluetooth, be sure it is in Upload mode.</strong></p></li></ul></div><div class="paragraph"><p>For Bluetooth pairing of the dive computer, refer to the manufacturer&#8217;s user guide. When using a Shearwater Predator/Petrel/Nerd, select <em>Dive Log &#8594; Upload Log</em> and wait for the <em>Wait PC</em> message.</p></div><div class="ulist"><ul><li><p><strong>Pair the <em>Subsurface</em> computer with the dive computer.</strong></p></li></ul></div><div class="sect3"><h4 id="_on_windows_2">17.3.1. On Windows:</h4><div class="paragraph"><p>Bluetooth is most likely already enabled. For pairing with the dive computer choose <em>Control Panel &#8594; Bluetooth Devices &#8594; Add Wireless Device</em>. This should bring up a dialog showing your dive computer (which should be in Bluetooth mode) and allowing pairing. Right click on it and choose <em>Properties&#8594; COM Ports</em> to identify the port used for your dive computer. If there are several ports listed, use the one saying "Outgoing" instead of "Incoming".</p></div><div class="paragraph"><p>For downloading to <em>Subsurface</em>, the <em>Subsurface</em> drop-down list should contain this COM port already. If not, enter it manually.</p></div><div class="paragraph"><p>Note: If there are issues afterwards when downloading from the dive computer using other software, remove the existing pairing with the dive computer.</p></div></div><div class="sect3"><h4 id="_on_macos">17.3.2. On MacOS:</h4><div class="paragraph"><p>Click on the Bluetooth symbol in the menu bar and select <em>Set up Bluetooth Device&#8230;</em>. The dive computer should then show up in the list of devices. Select it and go through the pairing process. This step should only be needed once for initial setup.</p></div><div class="paragraph"><p>Once the pairing is complete, the correct device is shown in the <em>Device or Mount Point</em> drop-down in the <em>Subsurface</em> <strong>Import</strong> dialog.</p></div></div><div class="sect3"><h4 id="_on_linux">17.3.3. On Linux</h4><div class="paragraph"><p>Be sure Bluetooth is enabled on the <em>Subsurface</em> computer. On most common distributions this should be true out of the box and pairing should be straightforward. For instance, Gnome3 shows a Bluetooth icon on the right of the toolbar at the top of the screen. Users have reported difficulties with some Bluetooth controllers. If you have an onboard controller, try that first. It is simplest if you remove any USB Bluetooth dongles. If you have a USB dongle that came with your dive computer, try that before any others.</p></div><div class="paragraph"><p>Setting up a connection to download dives from your Bluetooth-enabled device, such as the <em>Shearwater Petrel</em>, is not yet an automated process and will generally require the command prompt. It is essentially a three step process.</p></div><div class="ulist"><ul><li><p>Enable the Bluetooth controller and pair your dive computer</p></li><li><p>Establish an RFCOMM connection</p></li><li><p>Download the dives with Subsurface</p></li></ul></div><div class="paragraph"><p>Ensure the dive computer is in upload mode. On the <em>Shearwater Petrel</em>, <em>Petrel 2</em> and <em>Nerd</em> cycle through the menu, select <em>Dive Log</em>, then <em>Upload Log</em>. The display will read <em>Initializing</em>, then <em>Wait PC 3:00</em> and will countdown. Once the connection is established, the display reads <em>Wait CMD &#8230;</em> and the countdown continues. When downloading the dive from Subsurface, the display reads <em>Sending</em> then <em>Sent Dive</em>.</p></div><div class="paragraph"><p>To establish the connection, establish root access through <code>sudo</code> or <code>su</code>. The correct permission is required to download the dives in the computer. On most Linux systems this means becoming a member of the dialout group (This is identical as for many dive computers using a Linux USB port, described in the previous section). On the command terminal, enter:</p></div><div class="paragraph"><p><code>sudo usermod -a -G dialout username</code></p></div><div class="paragraph"><p>Then log out and log in for the change to take effect.</p></div><div class="sect4"><h5 id="_enabling_the_bluetooth_controller_and_pairing_your_dive_computer">Enabling the Bluetooth controller and pairing your dive computer</h5><div class="paragraph"><p>Attempt to set up the Bluetooth controller and pair your dive computer using the graphical environment of the operating system. After setting the dive computer to upload mode, click the Bluetooth icon in the system tray and select <em>Add new device</em>. The dive computer should appear. If asked for a password, enter 0000. Write down or copy the MAC address of your dive computer - this needed later and should be in the form 00:11:22:33:44:55.</p></div><div class="paragraph"><p>If the graphical method doesn&#8217;t work, pair the device from the command line. Open a terminal and use <code>hciconfig</code> to check the Bluetooth controller status.</p></div><div class="literalblock"><div class="content"><pre><code>$ hciconfig
hci0:   Type: BR/EDR  Bus: USB
        BD Address: 01:23:45:67:89:AB  ACL MTU: 310:10  SCO MTU: 64:8
        *DOWN*
        RX bytes:504 acl:0 sco:0 events:22 errors:0
        TX bytes:92 acl:0 sco:0 commands:21 errors:0</code></pre></div></div><div class="paragraph"><p>This indicates a Bluetooth controller with MAC address 01:23:45:67:89:AB, connected as hci0. Its status is <em>DOWN</em>, i.e. not powered. Additional controllers will appear as hci1, etc. If there is not a Bluetooth dongle plugged in upon booting the computer, hci0 is probably the onboard. Now power on the controller and enable authentication:</p></div><div class="literalblock"><div class="content"><pre><code>sudo hciconfig hci0 up auth+  (enter password when prompted)
hciconfig
hci0:  Type: BR/EDR  Bus: USB
        BD Address: 01:23:45:67:89:AB  ACL MTU: 310:10  SCO MTU: 64:8
        *UP RUNNING PSCAN AUTH*
        RX bytes:1026 acl:0 sco:0 events:47 errors:0
        TX bytes:449 acl:0 sco:0 commands:46 errors:0</code></pre></div></div><div class="paragraph"><p>Check that the status now includes <em><code>UP</code></em>, <em><code>RUNNING</code></em> AND <em><code>AUTH</code></em>.</p></div><div class="paragraph"><p>If there are multiple controllers running, it&#8217;s easiest to turn off the unused controller(s). For example, for <code>hci1</code>:</p></div><div class="literalblock"><div class="content"><pre><code>sudo hciconfig hci1 down</code></pre></div></div><div class="paragraph"><p>Next step is to <em>trust</em> and <em>pair</em> the dive computer. On distros with Bluez 5, such as Fedora 22, you can use a tool called <code>blutootctl</code>, which will bring up its own command prompt.</p></div><div class="literalblock"><div class="content"><pre><code>bluetoothctl
[NEW] Controller 01:23:45:67:89:AB localhost.localdomain [default]
[bluetooth]# agent on
Agent registered
[bluetooth]# default-agent
Default agent request successful
[bluetooth]# scan on                        &lt;----now set your dive computer to upload mode
Discovery started
[CHG] Controller 01:23:45:67:89:AB Discovering: yes
[NEW] Device 00:11:22:33:44:55 Petrel
[bluetooth]# trust 00:11:22:33:44:55        &lt;----you can use the tab key to autocomplete the MAC address
[CHG] Device 00:11:22:33:44:55 Trusted: yes
Changing 00:11:22:33:44:55 trust succeeded
[bluetooth]# pair 00:11:22:33:44:55
Attempting to pair with 00:11:22:33:44:55
[CHG] Device 00:11:22:33:44:55 Connected: yes
[CHG] Device 00:11:22:33:44:55 UUIDs: 00001101-0000-1000-8000-0089abc12345
[CHG] Device 00:11:22:33:44:55 Paired: yes
Pairing successful
[CHG] Device 00:11:22:33:44:55 Connected: no</code></pre></div></div><div class="paragraph"><p>If asked for a password, enter 0000. It&#8217;s ok if the last line says <em>Connected: no</em>. The important part is the line above, <code>Pairing successful</code>.</p></div><div class="paragraph"><p>If the system has Bluez version 4 (e.g. Ubuntu 12.04 through to 15.04), there is probably not a <code>bluetoothctl</code>, but a script called <code>bluez-simple-agent</code> or just <code>simple-agent</code>.</p></div><div class="literalblock"><div class="content"><pre><code>hcitool -i hci0 scanning
Scanning ...
        00:11:22:33:44:55       Petrel
        bluez-simple-agent hci0 00:11:22:33:44:55</code></pre></div></div><div class="paragraph"><p>Once the dive computer is paired, set up the RFCOMM connection.</p></div></div><div class="sect4"><h5 id="_establishing_the_rfcomm_connection">Establishing the RFCOMM connection</h5><div class="paragraph"><p>The command to establish an RFCOMM connection is:</p></div><div class="paragraph"><p><code>sudo rfcomm -i &lt;controller&gt; connect &lt;dev&gt; &lt;bdaddr&gt; [channel]</code></p></div><div class="ulist"><ul><li><p><code>&lt;controller&gt;</code> is the Bluetooth controller, <code>hci0</code>.</p></li><li><p><code>&lt;dev&gt;</code> is the RFCOMM device file, <code>rfcomm0</code></p></li><li><p><code>&lt;bdaddr&gt;</code> is the dive computer&#8217;s MAC address, <code>00:11:22:33:44:55</code></p></li><li><p><code>[channel]</code> is the dive computer&#8217;s Bluetooth channel we need to connect to.</p></li></ul></div><div class="paragraph"><p>If you omit it, channel 1 is assumed. Based on a limited number of user reports, the appropriate channel for the dive computer is probably:</p></div><div class="ulist"><ul><li><p><em>Shearwater Petrel 1</em>: channel 1</p></li><li><p><em>Shearwater Petrel 2</em>: channel 5</p></li><li><p><em>Shearwater Nerd</em>: channel 5</p></li><li><p><em>Heinrichs-Weikamp OSTC Sport</em>: channel 1</p></li></ul></div><div class="paragraph"><p>E.g. to connect a <em>Shearwater Petrel 2</em>, set the dive computer to upload mode and enter:</p></div><div class="literalblock"><div class="content"><pre><code>sudo rfcomm -i hci0 connect rfcomm0 00:11:22:33:44:55 5 (enter a password, probably 0000, when prompted)</code></pre></div></div><div class="paragraph"><p>This gives the response:</p></div><div class="literalblock"><div class="content"><pre><code>Connected /dev/rfcomm0 to 00:11:22:33:44:55 on channel 5
Press CTRL-C for hangup</code></pre></div></div><div class="paragraph"><p>To connect a _Shearwater Petrel 1+ or + HW OSTC Sport+, set the dive computer to upload mode and enter:</p></div><div class="literalblock"><div class="content"><pre><code>sudo rfcomm -i hci0 connect rfcomm0 00:11:22:33:44:55   (enter a password, probably 0000, when prompted)
Connected /dev/rfcomm0 to 00:11:22:33:44:55 on channel 1
Press CTRL-C for hangup</code></pre></div></div><div class="paragraph"><p>If the specific channel the dive computer needs is not known, or the channel in the list above doesn&#8217;t work, the command <code>sdptool records</code> should help determine the appropriate channel. The output below is for a <em>Shearwater Petrel 2</em>.</p></div><div class="literalblock"><div class="content"><pre><code>sdptool -i hci0 records 00:11:22:33:44:55
Service Name: Serial Port
Service RecHandle: 0x10000
Service Class ID List:
        "Serial Port" (0x1101)
        Protocol Descriptor List:
        "L2CAP" (0x0100)
        "RFCOMM" (0x0003)
        Channel: 5</code></pre></div></div><div class="paragraph"><p>For a Bluetooth dive computer not in the list above, or if the channel listed is not correct, please let the Subsurface developers know on the user forum or the developer mailing list <em>subsurface@subsurface-divelog.org</em>.</p></div></div><div class="sect4"><h5 id="_download_the_dives_with_subsurface">Download the dives with Subsurface</h5><div class="paragraph"><p>After establishing the RFCOMM connection and while the dive computer&#8217;s upload mode countdown is still running, go to_Subsurface_, select <em>Import&#8594;Import from dive computer</em> and enter appropriate Vendor (e.g. <em>Shearwater</em>), Dive Computer (<em>Petrel</em>), Device or Mount Point (<em>/dev/rfcomm0</em>) and click <em>Download</em>.</p></div></div></div></div></div></div><div class="sect1"><h2 id="_appendix_b_dive_computer_specific_information_for_importing_dive_information">18. APPENDIX B: Dive Computer specific information for importing dive data.</h2><div class="sectionbody"><div class="sect2"><h3 id="S_ImportUemis">18.1. Importing from Uemis Zurich</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/iumis.jpg" alt="Note"/></td><td class="content"><em>Subsurface</em> downloads the information stored on the SDA (the built-in file system of the Uemis) including information about dive spots and equipment. Buddy information is not yet downloadable. Things are very similar to a normal USB-connected dive computer (the Uemis is one of those that recharge when connected to the USB port). The main difference is that you don’t enter a device name, but instead the location where the UEMISSDA file system is mounted once connected to the dive computer. On Windows this is a drive letter ( often <em>E:</em> or <em>F:</em>), on a Mac this is <em>/Volumes/UEMISSDA</em> and on Linux systems this differs depending on the distribution. On Fedora it usually is <em>/var/run/media/&lt;your_username&gt;/UEMISSDA</em>. In all cases <em>Subsurface</em> should suggest the correct location in the drop down list.</td></tr></table></div><div class="paragraph"><p>After selecting the above device name, download the dives from the Uemis Zurich. One technical issue with the Uemis Zurich download implementation (this is a Uemis firmware limitation, not a <em>Subsurface</em> issue) is that you cannot download more than about 40-50 dives without running out of memory on the SDA. This will usually only happen the very first time you download dives from the Uemis Zurich. Normally when downloading at the end of a day or even after a dive trip, the capacity is sufficient. If <em>Subsurface</em> displays an error that the dive computer ran out of space, the solution is straightforward. Disconnect the SDA, turn it off and on again, and reconnect it. You can now retry (or start a new download session) and the download will continue where it stopped previously. You may have to do this more than once, depending on how many dives are stored on the dive computer.</p></div></div><div class="sect2"><h3 id="S_ImportingGalileo">18.2. Importing from Uwatec Galileo</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/Galileo.jpg" alt="Note"/></td><td class="content">The Uwatec Galileo dive computers use infra red (IrDA) communication between the dive computer and Subsurface. The Uwatec hardware uses a USB dongle based on the serial infra-red (SIR) protocol and the MSC7780 IrDA controller manufactured by MosChip and marketed by Scubapro and some electronics companies. Under Linux, the kernel already provides for communication using the IrDA protocol. However, the user additionally needs to load a driver for the IrDA interface with the dive computer. The easiest way is to load the <strong>irda-tools</strong> package from the <a href="http://irda.sourceforge.net/docs/startirda.html">Linux IrDA Project</a>. After the installation of the irda-tools, the <strong>root user</strong> can specify a device name from the console as follows: <code>irattach irda0</code></td></tr></table></div><div class="paragraph"><p>After executing this command, Subsurface will recognize the Galileo dive computer and download dive information.</p></div><div class="paragraph"><p>Under Windows, a similar situation exists. Drivers for the MCS7780 are available from some Internet web sites e.g. <a href="http://www.drivers-download.com/Drv/MosChip/MCS7780/">www.drivers-download.com</a>. Windows-based IrDA drivers for the Uwatec can also be downloaded from the ScubaPro web site, with drivers located on the download page for the ScubaPro SmartTrak software.</p></div><div class="paragraph"><p>For the Apple Mac, IrDA communication via the MCS7780 link is not available for OSX 10.6 or higher.</p></div></div><div class="sect2"><h3 id="S_ImportingDR5">18.3. Importing from Heinrichs Weikamp DR5</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/HW_DR5.jpg" alt="Note"/></td><td class="content">When mounted as a USB drive the Heinrichs Weikamp DR5 saves a single UDDF file for every dive. Mark all the dives you&#8217;d like to import or open. Note: The DR5 does not seem to store gradient factors nor deco information, so for <em>Subsurface</em> it is not possible to display them. Adjust the gradient factors in the <em>Profile Settings</em> in <em>Subsurface</em> to generate a deco overlay in the <em>Subsurface</em> <strong>Dive Profile</strong> panel but please note that the deco calculated by <em>Subsurface</em> will most likely differ from the one displayed on the DR5.</td></tr></table></div></div><div class="sect2"><h3 id="S_ImportingXDeep">18.4. Importing from xDEEP BLACK</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/HW_xdeepblack.jpg" alt="Note"/></td><td class="content">Each dive has to be individually saved as UDDF file using "Export UDDF" option in BLACK&#8217;s logbook menu. When mounted as a USB drive UDDF files are available in LOGBOOK directory. Note: The xDEEP BLACK saves NDL time but does not seem to store gradient factors nor deco information, so for <em>Subsurface</em> it is not possible to display them. Adjust the gradient factors in the <em>Profile Settings</em> in <em>Subsurface</em> to generate a deco overlay in the <em>Subsurface</em> <strong>Dive Profile</strong> panel but please note that the deco calculated by <em>Subsurface</em> will most likely differ from the one displayed on the xDEEP BLACK.</td></tr></table></div></div><div class="sect2"><h3 id="_importing_from_shearwater_predator_petrel_nerd_using_bluetooth">18.5. Importing from Shearwater Predator/Petrel/Nerd using Bluetooth</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/predator.jpg" alt="Note"/></td><td class="content">Specific instructions for downloading dives using Bluetooth are given in the section above, <a href="#S_Bluetooth"><em>Connecting Subsurface to a Bluetooth-enabled dive computer</em></a>.</td></tr></table></div></div><div class="sect2"><h3 id="S_PoseidonMkVI">18.6. Importing from Poseidon MkVI Discovery</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/MkVI.jpeg" alt="Note"/></td><td class="content">Download of dive logs from the MkVI is performed using a custom communications adapter and the <em>Poseidon PC Configuration Software</em>, obtained when purchasing the MKVI equipment. The latter is a Windows application allowing configuration of equipment and storage of dive logs. Communication between dive computer and desktop computer utilizes the IrDA infra-red protocol. Only data for one dive can be downloaded at a time, in three files:</td></tr></table></div><div class="ulist"><ul><li><p>Setup configuration for the dive and key dive parameters (file with a .txt extension)</p></li><li><p>Dive log details (file with a .csv extension)</p></li><li><p>Redbook format dive log (file with .cvsr extension). This is a compressed version of the dive log using a proprietary format.</p></li></ul></div><div class="paragraph"><p><em>Subsurface</em> accesses the .txt and the .csv files to get dive log information.</p></div></div><div class="sect2"><h3 id="_importing_from_apd_inspiration_evolution_ccr">18.7. Importing from APD Inspiration/Evolution CCR</h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/APDComputer.jpg" alt="Note"/></td><td class="content">The dive logs of an APD Inspiration or similar CCR dive computer are downloaded using a communications adapter and <em>AP Communicator</em>, obtained when purchasing the equipment. The dive logs can be viewed using the <em>AP Log Viewer</em>, within Windows or Mac/OS. However, APD logs can be viewed and managed from within <em>Subsurface</em> (together with dives using many other types of dive computer). The APD inspiration dive logs are imported into <em>Subsurface</em> as follows:</td></tr></table></div><div class="ulist"><ul><li><p>Download the dive using <em>AP Communicator</em>.</p></li><li><p>Open a dive within the <em>AP Log Viewer</em>.</p></li><li><p>Select the tab at the top of the screen, entitled "<em>Data</em>".</p></li><li><p>With the raw dive log data show on the screen, click on "<em>Copy to Clipboard</em>".</p></li><li><p>Open a text editor, e.g. Notepad (Windows) or TextWrangler (Mac).</p></li><li><p>Copy the contents of the clipboard into the text editor and save the text file with a filename extension of <em>.apd</em>.</p></li><li><p>Within <em>Subsurface</em>, select <em>Import &#8594; Import log files</em> to open the <a href="#Unified_import">universal import dialogue</a>.</p></li><li><p>In the dropdown list towards the bottom right of the dialogue (labeled <em>Filter:</em>), select "APD log viewer".</p></li><li><p>On the list of file names select the <em>.apd</em> file created. An import dialogue opens showing the default settings for the data in the <em>.apd</em> file. If changes are required, do this as for <a href="#S_ImportingCSVDives">CSV imports</a>.</p></li></ul></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/APD_CSVimportF22.jpg" alt="Figure: APD log viewer import"/></div></div><div class="ulist"><ul><li><p>The top left hand dropdown box in the import panel lets you select the APD dive computer for which the dive log needs to be imported. The default it is DC1, <em>i.e.</em> the first of the two dive computers the APD uses. It is possible to sequentially import the data for both dive computers by first importing CD1 and then DC2.(<strong>Hint</strong>: The logs for the two dive computers are viewed by selecting <em>View &#8594; Next DC</em> from the Main Menu after the uploading has been completed)</p></li><li><p>Click the <em>Ok</em> button at the bottom of the import panel.</p></li></ul></div><div class="paragraph"><p>The APD dive log will appear within <em>Subsurface</em>. The dive computer- generated ceiling provided by the Inspiration can be viewed by selecting the appropriate button on the left of the <strong>Dive Profile</strong>. Cylinder pressure data are not logged by the APD equipment but can be manually entered in the <em>Equipment</em> Tab.</p></div></div></div></div><div class="sect1"><h2 id="_appendix_c_exporting_dive_log_information_from_external_dive_log_software">19. APPENDIX C: Exporting Dive log information from external dive log software.</h2><div class="sectionbody"><div class="paragraph"><p>The import of dive log data from external dive log software is mostly performed using the dialogue found by selecting <em>Import</em> from the Main Menu, then clicking on <em>Import Log Files</em>. This is a single-step process, more information about which can be found <a href="#Unified_import">here.</a> However, in some cases, a two-step process may be required:</p></div><div class="olist arabic"><ol class="arabic"><li><p>Export the foreign dive log data to format that is accessible from <em>Subsurface</em>.</p></li><li><p>Import the accessible dive log data into <em>Subsurface</em>.</p></li></ol></div><div class="paragraph"><p>This appendix provides some information about approaches to export dive log data from foreign dive log software. The procedures below mostly apply to Linux and/or Windows.</p></div><div class="sect2"><h3 id="S_ImportingDivesSuunto">19.1. Exporting from <strong>Suunto Divemanager (DM3, DM4 or DM5)</strong></h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/suuntologo.jpg" alt="Note"/></td><td class="content">DiveManager is a Windows application for Suunto dive computers. Divemanager 3 (DM3) is an older version of the Suunto software. More recent Suunto dive computers use Divemanager version 4 or 5 (DM4 or DM5). The different versions of Divemanager use different methods and different file naming conventions to export dive log data.</td></tr></table></div><div class="paragraph"><p><strong>Divemanager 3 (DM3):</strong></p></div><div class="olist arabic"><ol class="arabic"><li><p>Start <em>Suunto Divemanager 3</em> and log in with the name containing the logs</p></li><li><p>Do not start the import wizard to import dives from the dive computer.</p></li><li><p>In the navigation tree on the left side of the program-window, select the appropriate dives.</p></li><li><p>Within the list of dives, select the dives you would like to import later:</p><div class="ulist"><ul><li><p>To select certain dives: hold <em>ctrl</em> and click the dive</p></li><li><p>To select all dives: Select the first dive, hold down shift and select the last dive</p></li></ul></div></li><li><p>With the dives marked, use the program menu <em>File &#8594; Export</em></p></li><li><p>The export pop-up will show. Within this pop-up, there is one field called <em>Export Path</em>.</p><div class="ulist"><ul><li><p>Click the browse button next to the field Export Path</p><div class="ulist"><ul><li><p>A file-manager like window pops up</p></li><li><p>Navigate to the directory for storing the Divelog.SDE file</p></li><li><p>Optionally change the name of the file for saving</p></li><li><p>Click <em>Save</em></p></li></ul></div></li><li><p>Back in the Export pop-up, press the button <em>Export</em></p></li></ul></div></li><li><p>The dives are now exported to the file Divelog.SDE.</p></li></ol></div><div class="paragraph"><p><strong>Divemanager 4 (DM4) and Divemanager 5 (DM5):</strong></p></div><div class="paragraph"><p>DM4 and DM5 use identical mechanisms for exporting dive logs. To export a divelog from Divemanager you need to locate the DM4/DM5 database where the dives are stored. You can either look for the original database or make a backup of the dives. Both methods are described here.</p></div><div class="paragraph"><p>Locating the Suunto DM4 (or DM5) database:</p></div><div class="olist arabic"><ol class="arabic"><li><p>Start Suunto DM4/DM5</p></li><li><p>Select <em>Help &#8594; About</em></p></li><li><p>Click <em>Copy</em> after text <em>Copy log folder path to clipboard</em></p></li><li><p>Open Windows Explorer</p></li><li><p>Paste the address to the path box at the top of the File Explorer</p></li><li><p>The database is called DM4.db or DM5.db</p></li></ol></div><div class="paragraph"><p>Making a backup copy of the Suunto DM4/DM5 database:</p></div><div class="olist arabic"><ol class="arabic"><li><p>Start Suunto DM4/DM5</p></li><li><p>Select <em>File - Create backup</em></p></li><li><p>From the file menu select the location and name for the backup, we&#8217;ll use DM4 (or DM5) in here with the default extension .bak</p></li><li><p>Click <em>Save</em></p></li><li><p>The dives are now exported to the file DM4.bak (or DM5.bak)</p></li></ol></div></div><div class="sect2"><h3 id="_exporting_from_atomic_logbook">19.2. Exporting from Atomic Logbook</h3><div class="admonitionblock" id="Atomic_Export"><table><tr><td class="icon"><img src="/images/icons/atomiclogo.jpg" alt="Note"/></td><td class="content">Atomic Logbook is Windows software by Atomic Aquatics. It allows downloading of dive information from Cobalt and Cobalt 2 dive computers. The divelog is kept in a SQLite database at C:\ProgramData\AtomicsAquatics\Cobalt-Logbook\Cobalt.db. This file can be directly imported to Subsurface.</td></tr></table></div></div><div class="sect2"><h3 id="_exporting_from_mares_dive_organiser_v2_1">19.3. Exporting from Mares Dive Organiser V2.1</h3><div class="admonitionblock" id="Mares_Export"><table><tr><td class="icon"><img src="/images/icons/mareslogo.jpg" alt="Note"/></td><td class="content">Mares Dive Organizer is a Windows application. The dive log is kept as a Microsoft SQL Compact Edition database with a <em>.sdf</em> filename extension. The database includes all Dive Organizer-registered divers on the particular computer and all Mares dive computers used. The safest way to get a copy of the dive database is to export the information to another compatible format which can then be imported into <em>Subsurface</em>.</td></tr></table></div><div class="olist arabic"><ol class="arabic"><li><p>Within Dive Organizer, select <em>Database &#8594; Backup</em> from the main menu and back up the database to the desk top. This creates a zipped file DiveOrganizerxxxxx.dbf.</p></li><li><p>Rename the file to DiveOrganizerxxxxx.zip. Inside the zipped directory is a file <em>DiveOrganizer.sdf</em>.</p></li><li><p>Extract the <em>.sdf</em> file from the zipped folder to your Desktop.</p></li><li><p>The password for accessing the .zip file is <em>mares</em>.</p></li></ol></div></div><div class="sect2"><h3 id="S_ImportingDivingLog">19.4. Exporting from <strong>DivingLog 5.0 and 6.0</strong></h3><div class="admonitionblock"><table><tr><td class="icon"><img src="/images/icons/divingloglogo.jpg" alt="Note"/></td><td class="content">The best way to bring your logs from DivingLog to Subsurface is to convert the whole database. This is because other export formats do not include all the details, and would lack, for example, gas switches and information of what units are used. With database import, all this information is included and readily available.</td></tr></table></div><div class="paragraph"><p>To transfer all files from DivingLog to Subsurface:</p></div><div class="olist arabic"><ol class="arabic"><li><p>In DivingLog open the <em>File &#8594; Export &#8594; SQLite</em> menu</p></li><li><p>Select <em>Settings</em> button</p></li><li><p>Set the <em>RTF2Plaintext</em> to <em>true</em></p></li><li><p>Close the Settings dialog</p></li><li><p>Click <em>Export</em> button and select the filename</p></li></ol></div><div class="paragraph"><p>Once this is done, open the saved database file with Subsurface and the dives are automatically converted to Subsurface’s own format. Last step to do is save the log file in Subsurface.</p></div></div></div></div><div class="sect1"><h2 id="_appendix_d_exporting_a_spreadsheet_to_csv_format">20. APPENDIX D: Exporting a spreadsheet to CSV format</h2><div class="sectionbody"><div class="paragraph" id="S_Appendix_D"><p>Many divers keep a dive log in some form of digital file, commonly a spreadsheet with various fields of information. These logs can be easily imported into <em>Subsurface</em> after the spreadsheet is converted in a .CSV file. This section explains the procedure to convert a diving logbook stored in a spreadsheet to a .CSV file that will later be imported to <em>Subsurface</em>. Creating a .CSV is straightforward, although the procedure is somewhat different according to which spreadsheet program is used.</p></div><div class="paragraph"><p>Organize the diving data in the spreadsheet, so the first row contains the names (or titles) of each column and the information for each dive is stored in a single row. <em>Subsurface</em> supports many data items (Dive number, Date, Time, Duration, Location, GPS, Max. Depth, Mean Depth, Buddy, Notes, Weight and Tags). Organize dive data following a few simple rules:</p></div><div class="olist arabic"><ol class="arabic"><li><p>Date: use one of the following formats: yyyy-mm-dd, dd.mm.yyyy, mm/dd/yyyy</p></li><li><p>Duration: the format should be minutes:seconds.</p></li><li><p>Unit system: only one unit system should be used (no mix of imperial and metric units)</p></li><li><p>Tags and buddies: values should be separated using a comma.</p></li><li><p>GPS position: use decimal degrees, e.g. 30.22496 30.821798</p></li></ol></div><div class="sect2"><h3 id="_em_libreoffice_calc_em_and_em_openoffice_calc_em">20.1. <em>LibreOffice Calc</em> and <em>OpenOffice Calc</em></h3><div class="paragraph"><p>These are open source spreadsheet applications forming parts of larger open source office suite applications. The user interaction with <em>LibreOffice</em> and <em>OpenOffice</em> is very similar. In Libreoffice Calc the time format should be set to minutes:seconds - [mm]:ss and dates should be set to one of: yyyy-mm-dd, dd.mm.yyyy, mm/dd/yyyy. A typical dive log may look like this:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LOffice_spreadsheetdata.jpg" alt="FIGURE: Spreadsheet data"/></div></div><div class="paragraph"><p>To export the data as a .CSV file from within LibreOffice click <em>File &#8594; Save As</em>. On the dialogue that comes up, select the <em>Text CSV (.csv)</em> as the file type and select the option <em>Edit filter settings</em>.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LOffice_save_as_options.jpg" alt="FIGURE: Save as options"/></div></div><div class="paragraph"><p>After selecting <em>Save</em>, select the appropriate field delimiter (choose <em>Tab</em> to prevent conflicts with the comma when using this as a decimal point), then select <em>OK</em>.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/LOffice_field_options.jpg" alt="FIGURE: Field options"/></div></div><div class="paragraph"><p>Double check the .CSV file by opening it with a text editor, and then import the dive data as explained on the section <a href="#S_ImportingCSVDives">Importing CSV dives</a>.</p></div></div><div class="sect2"><h3 id="_microsoft_em_excel_em">20.2. Microsoft <em>Excel</em></h3><div class="paragraph"><p>The field delimiter (called "<em>list separator</em>" in Microsoft manuals) is not accessible from within <em>Excel</em> and needs to be set through the <em>Microsoft Control Panel</em>. After changing the separator character, all software on the Windows machine uses the new character as a separator. You can change the character back to the default character by following the same procedure, outlined below.</p></div><div class="ulist"><ul><li><p>In Microsoft Windows, click the <strong>Start</strong> button, then select <em>Control Panel</em> from the list on the right-hand side.</p></li><li><p>Open the <em>Regional and Language Options</em> dialog box.</p></li><li><p>Do the following:</p><div class="ulist"><ul><li><p>In Windows 7, click the <em>Formats</em> tab, and then click <em>Customize this format</em>.</p></li></ul></div></li><li><p>Type a new separator in the <em>List separator</em> box. To use a TAB-delimited file, type the word TAB in the box.</p></li><li><p>Click <em>OK</em> twice.</p></li></ul></div><div class="paragraph"><p>Below is an image of the <em>Control Panel</em>:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Win_SaveCSV2.jpg" alt="FIGURE: Win List separator"/></div></div><div class="paragraph"><p>To export the dive log in CSV format:</p></div><div class="paragraph"><p>With the dive log opened in <em>Excel</em>, select the round Windows button at the top left, then <em>Save As</em>.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Win_SaveCSV1.jpg" alt="FIGURE: Excel save as option"/></div></div><div class="paragraph"><p>Click on the left-hand part of the <em>Save as</em> option, NOT on the arrow on the right-hand. This brings up a dialogue for saving the spreadsheet in an alternative format. From the dropdown list at the bottom of the dialogue, marked <em>Save as Type:</em>, select <em>CSV(Comma delimited) (*.CSV)</em>. Be sure the appropriate folder has been selected to save the CSV file into.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Win_SaveCSV3.jpg" alt="FIGURE: Excel save CSV dialogue"/></div></div><div class="paragraph"><p>Select the <em>Save</em> button. The CSV-formatted file is saved into the folder that was selected. You can double check the .CSV file by opening it with a text editor, then import the dive data as explained on the section <a href="#S_ImportingCSVDives">Importing CSV dives</a>.</p></div></div></div></div><div class="sect1"><h2 id="S_APPENDIX_E">21. APPENDIX E: Writing a custom print template</h2><div class="sectionbody"><div class="paragraph"><p><em>Subsurface</em> has a way to create or modify templates for printing dive logs to produce customized printouts of them. Templates written in HTML, as well as a simple Grantlee instruction set, are rendered to the print device by <em>Subsurface</em>.</p></div><div class="paragraph"><p>Templates are accessed using the print dialogue (see image <strong>B</strong> below).</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Print1_f22.jpg" alt="FIGURE: Print dialogue"/></div></div><div class="paragraph"><p>The buttons under the <em>Template</em> dropdown box lets you <em>Edit</em>, <em>Delete</em>, <em>Import</em> and <em>Export</em> templates (see image <strong>A</strong> above). New or modified templates are stored as HTML files in the same directory as the dive log being processed. In order to create or modify a template, select one of the templates from the template dropdown list in the print dialogue (see image <strong>B</strong> above). Choose an existing template that resembles the final desired printout. Then select <em>Edit</em>.</p></div><div class="paragraph"><p>The Edit Panel has three tabs:</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Template1_f22.jpg" alt="FIGURE: template edit dialogue"/></div></div><div class="paragraph"><p>1) The <em>Style</em> tab (image <strong>A</strong> above) controls the font, line spacing and color template used for printing the dive log. The style attributes are editable. Choose one of the four color palettes used for color printing.</p></div><div class="paragraph"><p>2) The <em>Colors</em> tab (image <strong>B</strong> above) allows editing the colors used for printing the dive log. The colors are highly customizable: the <em>Edit</em> buttons in the <em>Colors</em> tab allows choosing arbitrary colors for different components of the dive log printout.</p></div><div class="paragraph"><p>3) The <em>Template</em> tab of the Edit Panel (see image below) allows creating a template using HTML as well as a few Grantlee programming primitives. Grantlee can create and format HTML code in a highly simple but efficient way (see below). The HTML of the template can be edited and saved. The saved template is stored in the same directory as the dive being processed. By default, a <em>Custom</em> template is a skeleton with no specific print instructions. The information printed needs to be specified and formatted in the template by replacing the section marked with: "&lt;!-- Template must be filled -&#8594;". Writing HTML code with Grantlee instructions allows unlimited freedom in determining what is printed and in which way it should be rendered.</p></div><div class="imageblock" style="text-align:center"><div class="content"><img src="/images/Template2_f22.jpg" alt="FIGURE:Template tab"/></div></div><div class="paragraph"><p>You can adapt any of the existing templates and save it to the dive log directory. The standard templates (e.g. One dive, Six dives, Table) can be modified in this way. After completing the edits, use the <em>Export</em> button in the print dialogue to save the new template using a new template name.</p></div><div class="paragraph"><p>To write a custom template, the following elements must exist so the template will be correctly handled and rendered.</p></div><div class="sect2"><h3 id="_main_dive_loop">21.1. Main dive loop</h3><div class="paragraph"><p><em>Subsurface</em> exports a dive list called (<strong>dives</strong>) to the <em>Grantlee</em> back end. It is possible to iterate over the list as follows: .template.html</p></div><div class="literalblock"><div class="content"><pre><code>        {% for dive in dives %}
                &lt;h1&gt; {{ dive.number }} &lt;/h1&gt;
        {% endfor %}</code></pre></div></div><div class="literalblock"><div class="title">output.html</div><div class="content"><pre><code>        &lt;h1&gt; 1 &lt;/h1&gt;
        &lt;h1&gt; 2 &lt;/h1&gt;
        &lt;h1&gt; 3 &lt;/h1&gt;</code></pre></div></div><div class="paragraph"><p>Additional information about <em>Grantlee</em> can be found <a href="http://www.grantlee.org/apidox/for_themers.html">here</a></p></div></div><div class="sect2"><h3 id="_grantlee_exported_variables">21.2. Grantlee exported variables</h3><div class="paragraph"><p>Only a subset of the dive data is exported:</p></div><div class="tableblock"><table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4"><col width="50%"/><col width="50%"/><tbody><tr><td align="left" valign="top"><p class="table"><strong>Name</strong></p></td><td align="left" valign="top"><p class="table"><strong>Description</strong></p></td></tr><tr><td align="left" valign="top"><p class="table">number</p></td><td align="left" valign="top"><p class="table">(<strong>int</strong>) dive number</p></td></tr><tr><td align="left" valign="top"><p class="table">id</p></td><td align="left" valign="top"><p class="table">(<strong>int</strong>) unique dive ID, should be used to fetch the dive profile</p></td></tr><tr><td align="left" valign="top"><p class="table">date</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) date of the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">time</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) time of the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">location</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) location of the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">duration</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) duration of the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">depth</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) depth of the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">divemaster</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) divemaster for the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">buddy</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) buddy for the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">airTemp</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) air temperature of the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">waterTemp</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) water temperature of the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">notes</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) dive notes</p></td></tr><tr><td align="left" valign="top"><p class="table">rating</p></td><td align="left" valign="top"><p class="table">(<strong>int</strong>) dive rating which ranges from 0 to 5</p></td></tr><tr><td align="left" valign="top"><p class="table">sac</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) SAC value for the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">tags</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) list of dive tags for the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">gas</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) list of gases used in the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">suit</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) the suit used for the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">cylinders</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) complete information of all used cylinders</p></td></tr><tr><td align="left" valign="top"><p class="table">cylinder0-7</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) information about a specific cylinder</p></td></tr><tr><td align="left" valign="top"><p class="table">weights</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) complete information of all used weight systems</p></td></tr><tr><td align="left" valign="top"><p class="table">weight0-5</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) information about a specific weight system</p></td></tr><tr><td align="left" valign="top"><p class="table">maxcns</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) maxCNS value for the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">otu</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) OTU value for the dive</p></td></tr><tr><td align="left" valign="top"><p class="table">sumWeight</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) the summed weight of all used weight systems</p></td></tr><tr><td align="left" valign="top"><p class="table">startPressure</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) the start pressure</p></td></tr><tr><td align="left" valign="top"><p class="table">endPressure</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) the end pressure</p></td></tr><tr><td align="left" valign="top"><p class="table">firstGas</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) first used gas</p></td></tr></tbody></table></div><div class="paragraph"><p>Please note that some of the variables like <em>notes</em> need to be extended with <em>|safe</em> to support HTML tags:</p></div><div class="literalblock"><div class="content"><pre><code>        &lt;p&gt; {{ dive.notes|safe }} &lt;/p&gt;</code></pre></div></div><div class="paragraph"><p>Otherwise tags like <em>br</em> would not be converted to line breaks.</p></div><div class="paragraph"><p><em>Subsurface</em> also exports <strong>template_options</strong> data. This data must be used as <em>CSS</em> values to provide a dynamically editable template. The exported data is shown in the following table:</p></div><div class="tableblock"><table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4"><col width="50%"/><col width="50%"/><tbody><tr><td align="left" valign="top"><p class="table"><strong>Name</strong></p></td><td align="left" valign="top"><p class="table"><strong>Description</strong></p></td></tr><tr><td align="left" valign="top"><p class="table">font</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) font family</p></td></tr><tr><td align="left" valign="top"><p class="table">borderwidth</p></td><td align="left" valign="top"><p class="table">(<strong>int</strong>) border-width value dynamically calculated as 0.1% of the page width with minimum value of 1px</p></td></tr><tr><td align="left" valign="top"><p class="table">font_size</p></td><td align="left" valign="top"><p class="table">(<strong>double</strong>) size of fonts in vw, ranges between 1.0 and 2.0</p></td></tr><tr><td align="left" valign="top"><p class="table">line_spacing</p></td><td align="left" valign="top"><p class="table">(<strong>double</strong>) distance between text lines, ranges between 1.0 and 3.0</p></td></tr><tr><td align="left" valign="top"><p class="table">color1</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) background color</p></td></tr><tr><td align="left" valign="top"><p class="table">color2</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) primary table cell color</p></td></tr><tr><td align="left" valign="top"><p class="table">color3</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) secondary table cell color</p></td></tr><tr><td align="left" valign="top"><p class="table">color4</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) primary text color</p></td></tr><tr><td align="left" valign="top"><p class="table">color5</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) secondary text color</p></td></tr><tr><td align="left" valign="top"><p class="table">color6</p></td><td align="left" valign="top"><p class="table">(<strong>string</strong>) border colors</p></td></tr></tbody></table></div><div class="literalblock"><div class="title">template.html</div><div class="content"><pre><code>        border-width: {{ template_options.borderwidth }}px;</code></pre></div></div><div class="literalblock"><div class="title">output.html</div><div class="content"><pre><code>        border-width: 3px;</code></pre></div></div><div class="paragraph"><p>Another variable that <em>Subsurface</em> exports is <strong>print_options</strong>. This variable contains a single member:</p></div><div class="tableblock"><table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4"><col width="50%"/><col width="50%"/><tbody><tr><td align="left" valign="top"><p class="table"><strong>Name</strong></p></td><td align="left" valign="top"><p class="table"><strong>Description</strong></p></td></tr><tr><td align="left" valign="top"><p class="table">grayscale</p></td><td align="left" valign="top"><p class="table">Use <em>CSS</em> filters to convert the page into grayscale (should be added to body style to enable printing grayscale prints)</p></td></tr></tbody></table></div><div class="literalblock"><div class="title">template.html</div><div class="content"><pre><code>        body {
                {{ print_options.grayscale }};
        }</code></pre></div></div><div class="literalblock"><div class="title">output.html</div><div class="content"><pre><code>        body {
                -webkit-filter: grayscale(100%);
        }</code></pre></div></div></div><div class="sect2"><h3 id="_defined_css_selectors">21.3. Defined CSS selectors</h3><div class="paragraph"><p>As the dive profile is placed after rendering, <em>Subsurface</em> uses special <em>CSS</em> selectors to search in the HTML output. The <em>CSS</em> selectors in the following table should be added.</p></div><div class="tableblock"><table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4"><col width="33%"/><col width="33%"/><col width="33%"/><tbody><tr><td align="left" valign="top"><p class="table"><strong>Selector</strong></p></td><td align="left" valign="top"><p class="table"><strong>Type</strong></p></td><td align="left" valign="top"><p class="table"><strong>Description</strong></p></td></tr><tr><td align="left" valign="top"><p class="table">dive_{{ dive.id }}</p></td><td align="left" valign="top"><p class="table">id</p></td><td align="left" valign="top"><p class="table">is used to fetch the relevant dive profile</p></td></tr><tr><td align="left" valign="top"><p class="table">diveProfile</p></td><td align="left" valign="top"><p class="table">class</p></td><td align="left" valign="top"><p class="table">each dive that will contain a dive profile should have this class selector in addition to the dive_{{ dive.id }} id selector</p></td></tr><tr><td align="left" valign="top"><p class="table">dontbreak</p></td><td align="left" valign="top"><p class="table">class</p></td><td align="left" valign="top"><p class="table">prevents the dive with this class from being divided into two pages. This can be used in flow layout templates only (when data-numberofdives = 0)</p></td></tr></tbody></table></div><div class="admonitionblock"><table><tr><td class="icon"><img src="./images/icons/important.png" alt="Important"/></td><td class="content">Rendering dive profiles is not supported for flow layout templates (when data-numberofdives = 0).</td></tr></table></div></div><div class="sect2"><h3 id="_special_attributes">21.4. Special attributes</h3><div class="paragraph"><p>There are two ways of rendering- either rendering a specific number of dives in each page or make <em>Subsurface</em> try to fit as many dives as possible into one page (<em>flow</em> rendering).</p></div><div class="paragraph"><p>The <strong>data-numberofdives</strong> data attribute is added to the body tag to set the rendering mode.</p></div><div class="ulist"><ul><li><p>render 6 dives per page:</p></li></ul></div><div class="literalblock"><div class="content"><pre><code>        &lt;body data-numberofdives = 6&gt;</code></pre></div></div><div class="ulist"><ul><li><p>render as much dives as possible:</p></li></ul></div><div class="literalblock"><div class="content"><pre><code>        &lt;body data-numberofdives = 0&gt;</code></pre></div></div><div class="admonitionblock"><table><tr><td class="icon"><img src="./images/icons/important.png" alt="Important"/></td><td class="content">All CSS units should be in relative lengths only, to support printing on any page size.</td></tr></table></div></div></div></div><div class="sect1"><h2 id="S_APPENDIX_F">22. APPENDIX F: Setting up video thumbnails.</h2><div class="sectionbody"><div class="sect2"><h3 id="_setting_up_the_appropriate_thumbnails_for_videos_that_are_associated_with_dives">22.1. Setting up the appropriate thumbnails for videos that are associated with dives.</h3><div class="paragraph"><p>In handling video associated with dives, <em>Subsurface</em> needs to create a thumbnail for each video that can be shown either on the dive profile or in the <em>Media</em> tab. By default this is a nonspecific placeholder thumbnail. To see thumbnails that represent individual videos, <em>Subsurface</em> uses an external program calle <em>FFmpeg</em>. To create thumbnails for videos, do two things:</p></div><div class="olist arabic"><ol class="arabic"><li><p>Install <em>FFmpeg</em> on the computer that runs <em>Subsurface</em>. The program can be downloaded from the FFmpeg web site: <a href="https://www.ffmpeg.org/download.html">https://www.ffmpeg.org/download.html</a>. Most Linux distributions ship with an <em>ffmpeg</em> package and therefore do not need an additional download.</p><div class="ulist"><ul><li><p>On Windows, put the <em>ffmpeg.exe</em> file in the directory containing the <em>Subsurface</em> executable. On Mac and Linux, make sure the <em>ffmpeg</em> command is in the path. This should be the case for <em>FFmpeg</em> installed from official packages.</p></li></ul></div></li><li><p>In the <em>General</em> tab of the <a href="#S_Preferences"><em>Preferences</em></a>, set the preferences for generating video thumbnails. This is achieved by:</p><div class="ulist"><ul><li><p>Checking the <em>Extract video thumbnails</em> box. If <em>Subsurface</em> fails to load the <em>FFmpeg</em> executable, this option will be turned off. Re-enable it after successfully installing <em>FFmpeg</em>.</p></li><li><p>Specifying the path to the <em>FFmpeg</em> executable.</p></li><li><p>Choose the position in the video where <em>Subsurface</em> should try to extract the thumbnail. The left-most and right-most positions of the <em>Extract at position</em> slider signify the beginning and the end of the video, respectively. Note that if <em>Subsurface</em> cannot determine the length of the video (this can be the case for AVI files), the first frame of the video will be used.</p></li></ul></div></li></ol></div><div class="paragraph"><p>This should complete the setup of video thumbnails and they should now appear on the dive profile and in the <em>Media</em> tab.</p></div></div></div></div><div class="sect1"><h2 id="_appendix_g_faqs">23. APPENDIX G: FAQs.</h2><div class="sectionbody"><div class="sect2"><h3 id="S_APPENDIX_G">23.1. Subsurface appears to miscalculate gas consumption and SAC</h3><div class="paragraph" id="SAC_CALCULATION"><p><em>Question</em>: I dived with a 12.2 l tank, starting with 220 bar and ending with 100 bar, and I calculate a different SAC compared what <em>Subsurface</em> calculates. Is <em>Subsurface</em> miscalculating?</p></div><div class="paragraph"><p><em>Answer</em>: Not really. What happens is that <em>Subsurface</em> actually calculates gas consumption differently - and better - than you expect. In particular, it takes the incompressibility of the gas into account. Traditionally, gas consumption and SAC should be: <code>consumption = tank size x (start pressure - end pressure)</code></p></div><div class="paragraph"><p>and that&#8217;s true for an ideal gas, and it&#8217;s what you get taught in dive theory. But an "ideal gas" doesn&#8217;t actually exist, and real gases actually don&#8217;t compress linearly with pressure. Also, you are missing the fact that one atmosphere of pressure isn&#8217;t actually one bar. So the <strong>real</strong> calculation is:</p></div><div class="paragraph"><p><code>consumption = (amount_of_air_at_beginning - amount_of_air_at_end)</code></p></div><div class="paragraph"><p>where the amount of air is <strong>not</strong> just "tank size times pressure in bar". It&#8217;s a combination of: "take compressibility into account" (which is a fairly small issue under 220 bar - you&#8217;ll see more differences when you do high-pressure tanks with 300bar) and "convert bar to atm" (which is the majority of your discrepancy). Remember: one ATM is ~1.013 bar, so without the compressibility, your gas use is:</p></div><div class="paragraph"><p><code>12.2*((220-100)/1.013)</code></p></div><div class="paragraph"><p>which is about 1445, not 1464. So there was 19 l too much in your simple calculation that ignored the difference between 1 bar and one ATM. The compressibility does show up above 200 bar, and takes that 1445 down about eight litres more, so you really did use only about 1437 l of air at surface pressure.</p></div><div class="paragraph"><p>So be happy: your SAC really is better than your calculations indicated. Or be sad: your cylinder contains less air than you thought it did. And as mentioned, the "contains less air than you thought it did" really starts becoming much more noticeable at high pressure. A 400 bar really does not contain twice as much air as a 200 bar one. At lower pressures, air acts pretty much like an ideal gas.</p></div></div><div class="sect2"><h3 id="_some_dive_profiles_have_time_discrepancies_with_the_recorded_samples_from_my_dive_computer_8230">23.2. Some dive profiles have time discrepancies with the recorded samples from my dive computer&#8230;</h3><div class="paragraph"><p><em>Subsurface</em> ends up ignoring surface time for many things (average depth, divetime, SAC, etc). <em>Question</em>: Why do dive durations in my dive computer differ from that given by <em>Subsurface</em>?</p></div><div class="paragraph"><p><em>Answer</em>: For example, if you end up doing a weight check (deep enough to trigger the "dive started") but then come back up and wait five minutes for your buddies, your dive computer may say that your dive is 50 minutes long - because you have fifty minutes worth of samples - but subsurface will say it&#8217;s 45 minutes - because you were actually diving for 45 minutes. It&#8217;s even more noticeable if you do things like divemastering the initial OW dives, when you may stay in the water for a long time, but spend most of it at the surface. And then you don&#8217;t want that to count as some kind of long dive”.</p></div></div><div class="sect2"><h3 id="_some_dive_profiles_are_missing_from_the_download">23.3. Some dive profiles are missing from the download</h3><div class="paragraph" id="DC_HISTORY"><p><em>Question</em>: I cannot download all my dives, only the most recent ones, even though my dive computer&#8217;s manual states that it records history of e.g. 999 dives? <em>Answer</em>: Dive history is different than the dive profiles on the log. The history only keeps track of the total number of dives and total amount of time spent below surface. The logs, on the other hand, store the dive profile, but they have a limited amount of memory to do so. The exact amount of dive profiles that can be stored on the device depends on sample interval and duration of the dives. Once the memory is full the oldest dives get overwritten with new dives. Thus we are only able to download the last 13, 30 or 199 dives.</p></div><div class="paragraph"><p>If you have downloaded your dives to different dive logging software before they were overwritten, there is a good chance that Subsurface can import these. However, if the logs are only on your dive computer, they cannot be salvaged after being overwritten by new dives.</p></div></div></div></div></div><div id="footnotes"><hr/></div><div id="footer"><div id="footer-text">Last updated 2018-09-17 08:35:42 PDT</div></div>